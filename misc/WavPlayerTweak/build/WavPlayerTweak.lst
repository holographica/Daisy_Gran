ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"WavPlayerTweak.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN5daisy12SdmmcHandlerD2Ev,"axG",%progbits,_ZN5daisy12SdmmcHandlerD5Ev,comdat
  19              		.align	1
  20              		.p2align 2,,3
  21              		.weak	_ZN5daisy12SdmmcHandlerD2Ev
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ZN5daisy12SdmmcHandlerD2Ev:
  27              	.LVL0:
  28              	.LFB1723:
  29              		.file 1 "../../libDaisy/src/per/sdmmc.h"
   1:../../libDaisy/src/per/sdmmc.h **** /*
   2:../../libDaisy/src/per/sdmmc.h **** TODO: 
   3:../../libDaisy/src/per/sdmmc.h **** - Implement configuration (currently all settings are fixed).
   4:../../libDaisy/src/per/sdmmc.h **** */
   5:../../libDaisy/src/per/sdmmc.h **** #pragma once
   6:../../libDaisy/src/per/sdmmc.h **** #ifndef DSY_SDMMC_H
   7:../../libDaisy/src/per/sdmmc.h **** #define DSY_SDMMC_H /**< macro */
   8:../../libDaisy/src/per/sdmmc.h **** 
   9:../../libDaisy/src/per/sdmmc.h **** #include <stdint.h>
  10:../../libDaisy/src/per/sdmmc.h **** 
  11:../../libDaisy/src/per/sdmmc.h **** 
  12:../../libDaisy/src/per/sdmmc.h **** namespace daisy
  13:../../libDaisy/src/per/sdmmc.h **** {
  14:../../libDaisy/src/per/sdmmc.h **** /** @ingroup peripheral
  15:../../libDaisy/src/per/sdmmc.h ****     @{
  16:../../libDaisy/src/per/sdmmc.h ****     */
  17:../../libDaisy/src/per/sdmmc.h **** 
  18:../../libDaisy/src/per/sdmmc.h **** /** Configuration for interfacing with SD cards.
  19:../../libDaisy/src/per/sdmmc.h ****  *  Currently only supports operation using FatFS filesystem
  20:../../libDaisy/src/per/sdmmc.h ****  * 
  21:../../libDaisy/src/per/sdmmc.h ****  *  Only SDMMC1 is supported at this time.
  22:../../libDaisy/src/per/sdmmc.h ****  *
  23:../../libDaisy/src/per/sdmmc.h ****  *  Pins are fixed to the following:
  24:../../libDaisy/src/per/sdmmc.h ****  *  PC12 - SDMMC1 CK
  25:../../libDaisy/src/per/sdmmc.h ****  *  PD2  - SDMMC1 CMD
  26:../../libDaisy/src/per/sdmmc.h ****  *  PC8  - SDMMC1 D0
  27:../../libDaisy/src/per/sdmmc.h ****  *  PC9  - SDMMC1 D1 (optional)
  28:../../libDaisy/src/per/sdmmc.h ****  *  PC10 - SDMMC1 D2 (optional)
  29:../../libDaisy/src/per/sdmmc.h ****  *  PC11 - SDMMC1 D3 (optional)
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 2


  30:../../libDaisy/src/per/sdmmc.h **** */
  31:../../libDaisy/src/per/sdmmc.h **** class SdmmcHandler
  32:../../libDaisy/src/per/sdmmc.h **** {
  33:../../libDaisy/src/per/sdmmc.h ****   public:
  34:../../libDaisy/src/per/sdmmc.h ****     /** Return values for the SdmmcHandler class */
  35:../../libDaisy/src/per/sdmmc.h ****     enum class Result
  36:../../libDaisy/src/per/sdmmc.h ****     {
  37:../../libDaisy/src/per/sdmmc.h ****         OK,
  38:../../libDaisy/src/per/sdmmc.h ****         ERROR,
  39:../../libDaisy/src/per/sdmmc.h ****     };
  40:../../libDaisy/src/per/sdmmc.h **** 
  41:../../libDaisy/src/per/sdmmc.h ****     /** Sets whether 4-bit mode or 1-bit mode is used for the SDMMC */
  42:../../libDaisy/src/per/sdmmc.h ****     enum class BusWidth
  43:../../libDaisy/src/per/sdmmc.h ****     {
  44:../../libDaisy/src/per/sdmmc.h ****         BITS_1, /**< Only 1 bit of data per clock is transferred */
  45:../../libDaisy/src/per/sdmmc.h ****         BITS_4, /**< 4-bits of parallel data for each clock pulse */
  46:../../libDaisy/src/per/sdmmc.h ****     };
  47:../../libDaisy/src/per/sdmmc.h **** 
  48:../../libDaisy/src/per/sdmmc.h ****     /** 
  49:../../libDaisy/src/per/sdmmc.h ****     Sets the desired clock speed of the SD card bus. \n 
  50:../../libDaisy/src/per/sdmmc.h ****     Initialization is always done at or below 400kHz, and then the user speed is set.
  51:../../libDaisy/src/per/sdmmc.h ****     */
  52:../../libDaisy/src/per/sdmmc.h ****     enum class Speed
  53:../../libDaisy/src/per/sdmmc.h ****     {
  54:../../libDaisy/src/per/sdmmc.h ****         SLOW, /**< 400kHz, initialization  performed at this rate, before moving to user value */
  55:../../libDaisy/src/per/sdmmc.h ****         MEDIUM_SLOW, /**< 12.5MHz - half of standard rate */
  56:../../libDaisy/src/per/sdmmc.h ****         STANDARD,    /**< 25MHz - DS (Default Speed for SDMMC) */
  57:../../libDaisy/src/per/sdmmc.h ****         FAST,        /**< 50MHz - HS (High Speed signaling) */
  58:../../libDaisy/src/per/sdmmc.h ****         VERY_FAST, /**< 100MHz - SDR50 Overclocked rate for maximum transfer rates */
  59:../../libDaisy/src/per/sdmmc.h ****     };
  60:../../libDaisy/src/per/sdmmc.h **** 
  61:../../libDaisy/src/per/sdmmc.h ****     struct Config
  62:../../libDaisy/src/per/sdmmc.h ****     {
  63:../../libDaisy/src/per/sdmmc.h ****         Speed    speed;
  64:../../libDaisy/src/per/sdmmc.h ****         BusWidth width;
  65:../../libDaisy/src/per/sdmmc.h ****         bool
  66:../../libDaisy/src/per/sdmmc.h ****             clock_powersave; /**< When true, the clock will stop between transfers to save power. *
  67:../../libDaisy/src/per/sdmmc.h **** 
  68:../../libDaisy/src/per/sdmmc.h ****         /** Configures settings to their default settings */
  69:../../libDaisy/src/per/sdmmc.h ****         void Defaults()
  70:../../libDaisy/src/per/sdmmc.h ****         {
  71:../../libDaisy/src/per/sdmmc.h ****             speed           = Speed::FAST;
  72:../../libDaisy/src/per/sdmmc.h ****             width           = BusWidth::BITS_4;
  73:../../libDaisy/src/per/sdmmc.h ****             clock_powersave = false;
  74:../../libDaisy/src/per/sdmmc.h ****         }
  75:../../libDaisy/src/per/sdmmc.h ****     };
  76:../../libDaisy/src/per/sdmmc.h **** 
  77:../../libDaisy/src/per/sdmmc.h ****     SdmmcHandler() {}
  78:../../libDaisy/src/per/sdmmc.h ****     ~SdmmcHandler() {}
  30              		.loc 1 78 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 78 22 is_stmt 0 view .LVU1
  36 0000 7047     		bx	lr
  37              		.cfi_endproc
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 3


  38              	.LFE1723:
  40              		.weak	_ZN5daisy12SdmmcHandlerD1Ev
  41              		.thumb_set _ZN5daisy12SdmmcHandlerD1Ev,_ZN5daisy12SdmmcHandlerD2Ev
  42 0002 00BF     		.section	.text._ZN5daisy8DaisyPodD2Ev,"axG",%progbits,_ZN5daisy8DaisyPodD5Ev,comdat
  43              		.align	1
  44              		.p2align 2,,3
  45              		.weak	_ZN5daisy8DaisyPodD2Ev
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  50              	_ZN5daisy8DaisyPodD2Ev:
  51              	.LVL1:
  52              	.LFB2565:
  53              		.file 2 "../../libDaisy/src/daisy_pod.h"
   1:../../libDaisy/src/daisy_pod.h **** #pragma once
   2:../../libDaisy/src/daisy_pod.h **** #ifndef DSY_POD_BSP_H
   3:../../libDaisy/src/daisy_pod.h **** #define DSY_POD_BSP_H
   4:../../libDaisy/src/daisy_pod.h **** 
   5:../../libDaisy/src/daisy_pod.h **** #include "daisy_seed.h"
   6:../../libDaisy/src/daisy_pod.h **** 
   7:../../libDaisy/src/daisy_pod.h **** namespace daisy
   8:../../libDaisy/src/daisy_pod.h **** {
   9:../../libDaisy/src/daisy_pod.h **** /**
  10:../../libDaisy/src/daisy_pod.h ****     @brief Class that handles initializing all of the hardware specific to the Daisy Patch Board. \
  11:../../libDaisy/src/daisy_pod.h ****     Helper funtions are also in place to provide easy access to built-in controls and peripherals.
  12:../../libDaisy/src/daisy_pod.h ****     @author Stephen Hensley
  13:../../libDaisy/src/daisy_pod.h ****     @date November 2019
  14:../../libDaisy/src/daisy_pod.h ****     @ingroup boards
  15:../../libDaisy/src/daisy_pod.h **** */
  16:../../libDaisy/src/daisy_pod.h **** class DaisyPod
  17:../../libDaisy/src/daisy_pod.h **** {
  18:../../libDaisy/src/daisy_pod.h ****   public:
  19:../../libDaisy/src/daisy_pod.h ****     /** Switches */
  20:../../libDaisy/src/daisy_pod.h ****     enum Sw
  21:../../libDaisy/src/daisy_pod.h ****     {
  22:../../libDaisy/src/daisy_pod.h ****         BUTTON_1,    /** & */
  23:../../libDaisy/src/daisy_pod.h ****         BUTTON_2,    /** & */
  24:../../libDaisy/src/daisy_pod.h ****         BUTTON_LAST, /** &  */
  25:../../libDaisy/src/daisy_pod.h ****     };
  26:../../libDaisy/src/daisy_pod.h **** 
  27:../../libDaisy/src/daisy_pod.h ****     /** Knobs */
  28:../../libDaisy/src/daisy_pod.h ****     enum Knob
  29:../../libDaisy/src/daisy_pod.h ****     {
  30:../../libDaisy/src/daisy_pod.h ****         KNOB_1,    /** &  */
  31:../../libDaisy/src/daisy_pod.h ****         KNOB_2,    /** & */
  32:../../libDaisy/src/daisy_pod.h ****         KNOB_LAST, /** & */
  33:../../libDaisy/src/daisy_pod.h ****     };
  34:../../libDaisy/src/daisy_pod.h **** 
  35:../../libDaisy/src/daisy_pod.h ****     DaisyPod() {}
  36:../../libDaisy/src/daisy_pod.h ****     ~DaisyPod() {}
  54              		.loc 2 36 5 is_stmt 1 view -0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		@ link register save eliminated.
  59              	.LBB351:
  60              	.LBI351:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 4


  61              		.file 3 "../../libDaisy/src/hid/midi.h"
   1:../../libDaisy/src/hid/midi.h **** #pragma once
   2:../../libDaisy/src/hid/midi.h **** #ifndef DSY_MIDI_H
   3:../../libDaisy/src/hid/midi.h **** #define DSY_MIDI_H
   4:../../libDaisy/src/hid/midi.h **** 
   5:../../libDaisy/src/hid/midi.h **** #include <stdint.h>
   6:../../libDaisy/src/hid/midi.h **** #include <stdlib.h>
   7:../../libDaisy/src/hid/midi.h **** #include <algorithm>
   8:../../libDaisy/src/hid/midi.h **** #include "per/uart.h"
   9:../../libDaisy/src/hid/midi.h **** #include "util/ringbuffer.h"
  10:../../libDaisy/src/hid/midi.h **** #include "util/FIFO.h"
  11:../../libDaisy/src/hid/midi.h **** #include "hid/midi_parser.h"
  12:../../libDaisy/src/hid/midi.h **** #include "hid/usb_midi.h"
  13:../../libDaisy/src/hid/midi.h **** #include "sys/dma.h"
  14:../../libDaisy/src/hid/midi.h **** #include "sys/system.h"
  15:../../libDaisy/src/hid/midi.h **** 
  16:../../libDaisy/src/hid/midi.h **** namespace daisy
  17:../../libDaisy/src/hid/midi.h **** {
  18:../../libDaisy/src/hid/midi.h **** /** @brief   Transport layer for sending and receiving MIDI data over UART
  19:../../libDaisy/src/hid/midi.h ****  *  @details This is the mode of communication used for TRS and DIN MIDI
  20:../../libDaisy/src/hid/midi.h ****  *           There is an additional 2kB of RAM data used within this class
  21:../../libDaisy/src/hid/midi.h ****  *           for processing bulk data from the UART peripheral
  22:../../libDaisy/src/hid/midi.h ****  *  @ingroup midi
  23:../../libDaisy/src/hid/midi.h **** */
  24:../../libDaisy/src/hid/midi.h **** class MidiUartTransport
  25:../../libDaisy/src/hid/midi.h **** {
  26:../../libDaisy/src/hid/midi.h ****   public:
  27:../../libDaisy/src/hid/midi.h ****     typedef void (*MidiRxParseCallback)(uint8_t* data,
  28:../../libDaisy/src/hid/midi.h ****                                         size_t   size,
  29:../../libDaisy/src/hid/midi.h ****                                         void*    context);
  30:../../libDaisy/src/hid/midi.h **** 
  31:../../libDaisy/src/hid/midi.h ****     MidiUartTransport() {}
  32:../../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
  33:../../libDaisy/src/hid/midi.h **** 
  34:../../libDaisy/src/hid/midi.h ****     /** @brief Configuration structure for UART MIDI */
  35:../../libDaisy/src/hid/midi.h ****     struct Config
  36:../../libDaisy/src/hid/midi.h ****     {
  37:../../libDaisy/src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  38:../../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    rx;
  39:../../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    tx;
  40:../../libDaisy/src/hid/midi.h **** 
  41:../../libDaisy/src/hid/midi.h ****         /** Pointer to buffer for DMA UART rx byte transfer in background.
  42:../../libDaisy/src/hid/midi.h ****          *
  43:../../libDaisy/src/hid/midi.h ****          *  @details By default this uses a shared buffer in DMA_BUFFER_MEM_SECTION,
  44:../../libDaisy/src/hid/midi.h ****          *           which can only be utilized for a single UART peripheral. To
  45:../../libDaisy/src/hid/midi.h ****          *           use MIDI with multiple UART peripherals, you must provide your own
  46:../../libDaisy/src/hid/midi.h ****          *           buffer, allocated to a DMA-capable memory section.
  47:../../libDaisy/src/hid/midi.h ****          */
  48:../../libDaisy/src/hid/midi.h ****         uint8_t* rx_buffer;
  49:../../libDaisy/src/hid/midi.h **** 
  50:../../libDaisy/src/hid/midi.h ****         /** Size in bytes of rx_buffer.
  51:../../libDaisy/src/hid/midi.h ****          *
  52:../../libDaisy/src/hid/midi.h ****          *  @details This size determines the maximum Rx bytes readable by the UART in the backgrou
  53:../../libDaisy/src/hid/midi.h ****          *           By default it's set to the size of the default shared rx_buffer (256 bytes).
  54:../../libDaisy/src/hid/midi.h ****          *           While much smaller sizes can be used, data can get missed if the buffer is too
  55:../../libDaisy/src/hid/midi.h ****          */
  56:../../libDaisy/src/hid/midi.h ****         size_t rx_buffer_size;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 5


  57:../../libDaisy/src/hid/midi.h **** 
  58:../../libDaisy/src/hid/midi.h ****         Config();
  59:../../libDaisy/src/hid/midi.h ****     };
  60:../../libDaisy/src/hid/midi.h **** 
  61:../../libDaisy/src/hid/midi.h ****     /** @brief Initialization of UART using config struct */
  62:../../libDaisy/src/hid/midi.h ****     inline void Init(Config config)
  63:../../libDaisy/src/hid/midi.h ****     {
  64:../../libDaisy/src/hid/midi.h ****         UartHandler::Config uart_config;
  65:../../libDaisy/src/hid/midi.h **** 
  66:../../libDaisy/src/hid/midi.h ****         //defaults
  67:../../libDaisy/src/hid/midi.h ****         uart_config.baudrate   = 31250;
  68:../../libDaisy/src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
  69:../../libDaisy/src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  70:../../libDaisy/src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  71:../../libDaisy/src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  72:../../libDaisy/src/hid/midi.h **** 
  73:../../libDaisy/src/hid/midi.h ****         //user settings
  74:../../libDaisy/src/hid/midi.h ****         uart_config.periph        = config.periph;
  75:../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  76:../../libDaisy/src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  77:../../libDaisy/src/hid/midi.h **** 
  78:../../libDaisy/src/hid/midi.h ****         rx_buffer      = config.rx_buffer;
  79:../../libDaisy/src/hid/midi.h ****         rx_buffer_size = config.rx_buffer_size;
  80:../../libDaisy/src/hid/midi.h **** 
  81:../../libDaisy/src/hid/midi.h ****         /** zero the buffer to ensure emptiness regardless of source memory */
  82:../../libDaisy/src/hid/midi.h ****         std::fill(rx_buffer, rx_buffer + rx_buffer_size, 0);
  83:../../libDaisy/src/hid/midi.h **** 
  84:../../libDaisy/src/hid/midi.h ****         uart_.Init(uart_config);
  85:../../libDaisy/src/hid/midi.h ****     }
  86:../../libDaisy/src/hid/midi.h **** 
  87:../../libDaisy/src/hid/midi.h ****     /** @brief Start the UART peripheral in listening mode.
  88:../../libDaisy/src/hid/midi.h ****      *  This will fill an internal data structure in the background */
  89:../../libDaisy/src/hid/midi.h ****     inline void StartRx(MidiRxParseCallback parse_callback, void* context)
  90:../../libDaisy/src/hid/midi.h ****     {
  91:../../libDaisy/src/hid/midi.h ****         parse_context_  = context;
  92:../../libDaisy/src/hid/midi.h ****         parse_callback_ = parse_callback;
  93:../../libDaisy/src/hid/midi.h ****         dsy_dma_clear_cache_for_buffer((uint8_t*)this,
  94:../../libDaisy/src/hid/midi.h ****                                        sizeof(MidiUartTransport));
  95:../../libDaisy/src/hid/midi.h ****         uart_.DmaListenStart(
  96:../../libDaisy/src/hid/midi.h ****             rx_buffer, rx_buffer_size, MidiUartTransport::rxCallback, this);
  97:../../libDaisy/src/hid/midi.h ****     }
  98:../../libDaisy/src/hid/midi.h **** 
  99:../../libDaisy/src/hid/midi.h ****     /** @brief returns whether the UART peripheral is actively listening in the background or not *
 100:../../libDaisy/src/hid/midi.h ****     inline bool RxActive() { return uart_.IsListening(); }
 101:../../libDaisy/src/hid/midi.h **** 
 102:../../libDaisy/src/hid/midi.h ****     /** @brief This is a no-op for UART transport - Rx is via DMA callback with circular buffer */
 103:../../libDaisy/src/hid/midi.h ****     inline void FlushRx() {}
 104:../../libDaisy/src/hid/midi.h **** 
 105:../../libDaisy/src/hid/midi.h ****     /** @brief sends the buffer of bytes out of the UART peripheral */
 106:../../libDaisy/src/hid/midi.h ****     inline void Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
 107:../../libDaisy/src/hid/midi.h **** 
 108:../../libDaisy/src/hid/midi.h ****   private:
 109:../../libDaisy/src/hid/midi.h ****     UartHandler         uart_;
 110:../../libDaisy/src/hid/midi.h ****     uint8_t*            rx_buffer;
 111:../../libDaisy/src/hid/midi.h ****     size_t              rx_buffer_size;
 112:../../libDaisy/src/hid/midi.h ****     void*               parse_context_;
 113:../../libDaisy/src/hid/midi.h ****     MidiRxParseCallback parse_callback_;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 6


 114:../../libDaisy/src/hid/midi.h **** 
 115:../../libDaisy/src/hid/midi.h ****     /** Static callback for Uart MIDI that occurs when
 116:../../libDaisy/src/hid/midi.h ****          *  new data is available from the peripheral.
 117:../../libDaisy/src/hid/midi.h ****          *  The new data is transferred from the peripheral to the
 118:../../libDaisy/src/hid/midi.h ****          *  MIDI instance's byte FIFO that feeds the MIDI parser.
 119:../../libDaisy/src/hid/midi.h ****          *
 120:../../libDaisy/src/hid/midi.h ****          *  TODO: Handle UartHandler errors better/at all.
 121:../../libDaisy/src/hid/midi.h ****          *  (If there is a UART error, there's not really any recovery
 122:../../libDaisy/src/hid/midi.h ****          *  option at the moment)
 123:../../libDaisy/src/hid/midi.h ****          */
 124:../../libDaisy/src/hid/midi.h ****     static void rxCallback(uint8_t*            data,
 125:../../libDaisy/src/hid/midi.h ****                            size_t              size,
 126:../../libDaisy/src/hid/midi.h ****                            void*               context,
 127:../../libDaisy/src/hid/midi.h ****                            UartHandler::Result res)
 128:../../libDaisy/src/hid/midi.h ****     {
 129:../../libDaisy/src/hid/midi.h ****         /** Read context as transport type */
 130:../../libDaisy/src/hid/midi.h ****         MidiUartTransport* transport
 131:../../libDaisy/src/hid/midi.h ****             = reinterpret_cast<MidiUartTransport*>(context);
 132:../../libDaisy/src/hid/midi.h ****         if(res == UartHandler::Result::OK)
 133:../../libDaisy/src/hid/midi.h ****         {
 134:../../libDaisy/src/hid/midi.h ****             if(transport->parse_callback_)
 135:../../libDaisy/src/hid/midi.h ****             {
 136:../../libDaisy/src/hid/midi.h ****                 transport->parse_callback_(
 137:../../libDaisy/src/hid/midi.h ****                     data, size, transport->parse_context_);
 138:../../libDaisy/src/hid/midi.h ****             }
 139:../../libDaisy/src/hid/midi.h ****         }
 140:../../libDaisy/src/hid/midi.h ****     }
 141:../../libDaisy/src/hid/midi.h **** };
 142:../../libDaisy/src/hid/midi.h **** 
 143:../../libDaisy/src/hid/midi.h **** /**
 144:../../libDaisy/src/hid/midi.h ****     @brief Simple MIDI Handler \n
 145:../../libDaisy/src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n
 146:../../libDaisy/src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
 147:../../libDaisy/src/hid/midi.h ****     @author shensley
 148:../../libDaisy/src/hid/midi.h ****     @date March 2020
 149:../../libDaisy/src/hid/midi.h ****     @ingroup midi
 150:../../libDaisy/src/hid/midi.h **** */
 151:../../libDaisy/src/hid/midi.h **** template <typename Transport>
 152:../../libDaisy/src/hid/midi.h **** class MidiHandler
 153:../../libDaisy/src/hid/midi.h **** {
 154:../../libDaisy/src/hid/midi.h ****   public:
 155:../../libDaisy/src/hid/midi.h ****     MidiHandler() {}
 156:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
  62              		.loc 3 156 5 view .LVU3
  63              	.LBB352:
  64              	.LBI352:
  65              		.file 4 "../../libDaisy/src/util/FIFO.h"
   1:../../libDaisy/src/util/FIFO.h **** #pragma once
   2:../../libDaisy/src/util/FIFO.h **** 
   3:../../libDaisy/src/util/FIFO.h **** #include <stdint.h>
   4:../../libDaisy/src/util/FIFO.h **** #include <stddef.h>
   5:../../libDaisy/src/util/FIFO.h **** #include <initializer_list>
   6:../../libDaisy/src/util/FIFO.h **** 
   7:../../libDaisy/src/util/FIFO.h **** namespace daisy
   8:../../libDaisy/src/util/FIFO.h **** {
   9:../../libDaisy/src/util/FIFO.h **** /** Capacity-independent base class for FIFO. Use FIFO instead. */
  10:../../libDaisy/src/util/FIFO.h **** template <typename T>
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 7


  11:../../libDaisy/src/util/FIFO.h **** class FIFOBase
  12:../../libDaisy/src/util/FIFO.h **** {
  13:../../libDaisy/src/util/FIFO.h ****   protected:
  14:../../libDaisy/src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize)
  15:../../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  16:../../libDaisy/src/util/FIFO.h ****     {
  17:../../libDaisy/src/util/FIFO.h ****     }
  18:../../libDaisy/src/util/FIFO.h **** 
  19:../../libDaisy/src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize, std::initializer_list<T> valuesToAdd)
  20:../../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  21:../../libDaisy/src/util/FIFO.h ****     {
  22:../../libDaisy/src/util/FIFO.h ****         PushBack(valuesToAdd);
  23:../../libDaisy/src/util/FIFO.h ****     }
  24:../../libDaisy/src/util/FIFO.h **** 
  25:../../libDaisy/src/util/FIFO.h ****   public:
  26:../../libDaisy/src/util/FIFO.h ****     /** Copies all elements from another FIFO */
  27:../../libDaisy/src/util/FIFO.h ****     FIFOBase<T>& operator=(const FIFOBase<T>& other)
  28:../../libDaisy/src/util/FIFO.h ****     {
  29:../../libDaisy/src/util/FIFO.h ****         bufferIn_ = bufferOut_ = 0;
  30:../../libDaisy/src/util/FIFO.h ****         if(!other.IsEmpty())
  31:../../libDaisy/src/util/FIFO.h ****         {
  32:../../libDaisy/src/util/FIFO.h ****             int readPtr = other.bufferOut_;
  33:../../libDaisy/src/util/FIFO.h ****             while((readPtr != other.bufferIn_) && (bufferIn_ < bufferSize_))
  34:../../libDaisy/src/util/FIFO.h ****             {
  35:../../libDaisy/src/util/FIFO.h ****                 buffer_[bufferIn_++] = other.buffer_[readPtr++];
  36:../../libDaisy/src/util/FIFO.h ****                 if(readPtr >= other.bufferSize_)
  37:../../libDaisy/src/util/FIFO.h ****                     readPtr -= other.bufferSize_;
  38:../../libDaisy/src/util/FIFO.h ****             }
  39:../../libDaisy/src/util/FIFO.h ****         }
  40:../../libDaisy/src/util/FIFO.h ****         return *this;
  41:../../libDaisy/src/util/FIFO.h ****     }
  42:../../libDaisy/src/util/FIFO.h ****     ~FIFOBase() {}
  43:../../libDaisy/src/util/FIFO.h **** 
  44:../../libDaisy/src/util/FIFO.h ****     /** Removes all elements from the FIFO */
  45:../../libDaisy/src/util/FIFO.h ****     void Clear() { bufferIn_ = bufferOut_ = 0; }
  46:../../libDaisy/src/util/FIFO.h **** 
  47:../../libDaisy/src/util/FIFO.h ****     /** Adds an element to the back of the buffer, returning true on
  48:../../libDaisy/src/util/FIFO.h ****         success */
  49:../../libDaisy/src/util/FIFO.h ****     bool PushBack(const T& elementToAdd)
  50:../../libDaisy/src/util/FIFO.h ****     {
  51:../../libDaisy/src/util/FIFO.h ****         if(!IsFull())
  52:../../libDaisy/src/util/FIFO.h ****         {
  53:../../libDaisy/src/util/FIFO.h ****             buffer_[bufferIn_++] = elementToAdd;
  54:../../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
  55:../../libDaisy/src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
  56:../../libDaisy/src/util/FIFO.h ****             return true;
  57:../../libDaisy/src/util/FIFO.h ****         }
  58:../../libDaisy/src/util/FIFO.h ****         return false;
  59:../../libDaisy/src/util/FIFO.h ****     }
  60:../../libDaisy/src/util/FIFO.h **** 
  61:../../libDaisy/src/util/FIFO.h ****     /** Adds multiple elements and returns the number of elements that were added */
  62:../../libDaisy/src/util/FIFO.h ****     int PushBack(std::initializer_list<T> valuesToAdd)
  63:../../libDaisy/src/util/FIFO.h ****     {
  64:../../libDaisy/src/util/FIFO.h ****         int numAdded = 0;
  65:../../libDaisy/src/util/FIFO.h ****         for(const auto& v : valuesToAdd)
  66:../../libDaisy/src/util/FIFO.h ****         {
  67:../../libDaisy/src/util/FIFO.h ****             if(IsFull())
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 8


  68:../../libDaisy/src/util/FIFO.h ****                 return numAdded;
  69:../../libDaisy/src/util/FIFO.h **** 
  70:../../libDaisy/src/util/FIFO.h ****             PushBack(v);
  71:../../libDaisy/src/util/FIFO.h ****             numAdded++;
  72:../../libDaisy/src/util/FIFO.h ****         }
  73:../../libDaisy/src/util/FIFO.h ****         return numAdded;
  74:../../libDaisy/src/util/FIFO.h ****     }
  75:../../libDaisy/src/util/FIFO.h **** 
  76:../../libDaisy/src/util/FIFO.h ****     /** returns a reference to the last element */
  77:../../libDaisy/src/util/FIFO.h ****     T& Back()
  78:../../libDaisy/src/util/FIFO.h ****     {
  79:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
  80:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  81:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
  82:../../libDaisy/src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  83:../../libDaisy/src/util/FIFO.h ****         if(idx < 0)
  84:../../libDaisy/src/util/FIFO.h ****             idx += bufferSize_;
  85:../../libDaisy/src/util/FIFO.h ****         return buffer_[idx];
  86:../../libDaisy/src/util/FIFO.h ****     }
  87:../../libDaisy/src/util/FIFO.h **** 
  88:../../libDaisy/src/util/FIFO.h ****     /** returns a reference to the last element */
  89:../../libDaisy/src/util/FIFO.h ****     const T& Back() const
  90:../../libDaisy/src/util/FIFO.h ****     {
  91:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
  92:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  93:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
  94:../../libDaisy/src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  95:../../libDaisy/src/util/FIFO.h ****         if(idx < 0)
  96:../../libDaisy/src/util/FIFO.h ****             idx += bufferSize_;
  97:../../libDaisy/src/util/FIFO.h ****         return buffer_[idx];
  98:../../libDaisy/src/util/FIFO.h ****     }
  99:../../libDaisy/src/util/FIFO.h **** 
 100:../../libDaisy/src/util/FIFO.h ****     /** removes and returns an element from the front of the buffer */
 101:../../libDaisy/src/util/FIFO.h ****     T PopFront()
 102:../../libDaisy/src/util/FIFO.h ****     {
 103:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 104:../../libDaisy/src/util/FIFO.h ****             return T();
 105:../../libDaisy/src/util/FIFO.h ****         else
 106:../../libDaisy/src/util/FIFO.h ****         {
 107:../../libDaisy/src/util/FIFO.h ****             const auto result = buffer_[bufferOut_];
 108:../../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 109:../../libDaisy/src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 110:../../libDaisy/src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 111:../../libDaisy/src/util/FIFO.h ****             return result;
 112:../../libDaisy/src/util/FIFO.h ****         }
 113:../../libDaisy/src/util/FIFO.h ****     }
 114:../../libDaisy/src/util/FIFO.h **** 
 115:../../libDaisy/src/util/FIFO.h ****     /** returns a copy of the first element */
 116:../../libDaisy/src/util/FIFO.h ****     T& Front()
 117:../../libDaisy/src/util/FIFO.h ****     {
 118:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 119:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 120:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 121:../../libDaisy/src/util/FIFO.h ****         return buffer_[bufferOut_];
 122:../../libDaisy/src/util/FIFO.h ****     }
 123:../../libDaisy/src/util/FIFO.h **** 
 124:../../libDaisy/src/util/FIFO.h ****     /** returns a reference to the first element */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 9


 125:../../libDaisy/src/util/FIFO.h ****     const T& Front() const
 126:../../libDaisy/src/util/FIFO.h ****     {
 127:../../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 128:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 129:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 130:../../libDaisy/src/util/FIFO.h ****         return buffer_[bufferOut_];
 131:../../libDaisy/src/util/FIFO.h ****     }
 132:../../libDaisy/src/util/FIFO.h **** 
 133:../../libDaisy/src/util/FIFO.h ****     /** Returns true if the buffer contains an element equal to the provided value */
 134:../../libDaisy/src/util/FIFO.h ****     bool Contains(const T& element)
 135:../../libDaisy/src/util/FIFO.h ****     {
 136:../../libDaisy/src/util/FIFO.h ****         auto idx = bufferOut_;
 137:../../libDaisy/src/util/FIFO.h ****         while(idx != bufferIn_)
 138:../../libDaisy/src/util/FIFO.h ****         {
 139:../../libDaisy/src/util/FIFO.h ****             if(buffer_[idx] == element)
 140:../../libDaisy/src/util/FIFO.h ****                 return true;
 141:../../libDaisy/src/util/FIFO.h ****             idx++;
 142:../../libDaisy/src/util/FIFO.h ****             if(idx >= bufferSize_)
 143:../../libDaisy/src/util/FIFO.h ****                 idx -= bufferSize_;
 144:../../libDaisy/src/util/FIFO.h ****         }
 145:../../libDaisy/src/util/FIFO.h ****         return false;
 146:../../libDaisy/src/util/FIFO.h ****     }
 147:../../libDaisy/src/util/FIFO.h **** 
 148:../../libDaisy/src/util/FIFO.h ****     /** Returns the number of elements in the buffer that are equal to the provided value */
 149:../../libDaisy/src/util/FIFO.h ****     size_t CountEqualTo(const T& element)
 150:../../libDaisy/src/util/FIFO.h ****     {
 151:../../libDaisy/src/util/FIFO.h ****         size_t result = 0;
 152:../../libDaisy/src/util/FIFO.h ****         size_t idx    = bufferOut_;
 153:../../libDaisy/src/util/FIFO.h ****         while(idx != bufferIn_)
 154:../../libDaisy/src/util/FIFO.h ****         {
 155:../../libDaisy/src/util/FIFO.h ****             if(buffer_[idx] == element)
 156:../../libDaisy/src/util/FIFO.h ****                 result++;
 157:../../libDaisy/src/util/FIFO.h ****             idx++;
 158:../../libDaisy/src/util/FIFO.h ****             if(idx >= bufferSize_)
 159:../../libDaisy/src/util/FIFO.h ****                 idx -= bufferSize_;
 160:../../libDaisy/src/util/FIFO.h ****         }
 161:../../libDaisy/src/util/FIFO.h ****         return result;
 162:../../libDaisy/src/util/FIFO.h ****     }
 163:../../libDaisy/src/util/FIFO.h **** 
 164:../../libDaisy/src/util/FIFO.h ****     /** returns true, if the buffer is empty */
 165:../../libDaisy/src/util/FIFO.h ****     bool IsEmpty() const { return bufferIn_ == bufferOut_; }
 166:../../libDaisy/src/util/FIFO.h **** 
 167:../../libDaisy/src/util/FIFO.h ****     /** returns true, if the buffer is Full */
 168:../../libDaisy/src/util/FIFO.h ****     bool IsFull() const { return GetNumElements() == bufferSize_ - 1; }
 169:../../libDaisy/src/util/FIFO.h **** 
 170:../../libDaisy/src/util/FIFO.h ****     /** returns the number of elements in the buffer */
 171:../../libDaisy/src/util/FIFO.h ****     size_t GetNumElements() const
 172:../../libDaisy/src/util/FIFO.h ****     {
 173:../../libDaisy/src/util/FIFO.h ****         int32_t numElements = bufferIn_ - bufferOut_;
 174:../../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 175:../../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 176:../../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 177:../../libDaisy/src/util/FIFO.h ****     }
 178:../../libDaisy/src/util/FIFO.h **** 
 179:../../libDaisy/src/util/FIFO.h ****     /** inserts an element "idx" positions behind the first element and returns true if successful 
 180:../../libDaisy/src/util/FIFO.h ****     bool Insert(size_t idx, const T& element)
 181:../../libDaisy/src/util/FIFO.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 10


 182:../../libDaisy/src/util/FIFO.h ****         if(idx > GetNumElements())
 183:../../libDaisy/src/util/FIFO.h ****             return false;
 184:../../libDaisy/src/util/FIFO.h ****         if(IsFull())
 185:../../libDaisy/src/util/FIFO.h ****             return false;
 186:../../libDaisy/src/util/FIFO.h ****         if(idx == GetNumElements())
 187:../../libDaisy/src/util/FIFO.h ****         {
 188:../../libDaisy/src/util/FIFO.h ****             PushBack(element);
 189:../../libDaisy/src/util/FIFO.h ****             return true;
 190:../../libDaisy/src/util/FIFO.h ****         }
 191:../../libDaisy/src/util/FIFO.h ****         // copy last element
 192:../../libDaisy/src/util/FIFO.h ****         PushBack(Back());
 193:../../libDaisy/src/util/FIFO.h ****         // move remaining elements: n => n+1
 194:../../libDaisy/src/util/FIFO.h ****         for(int i = GetNumElements() - 2; i > int(idx); i--)
 195:../../libDaisy/src/util/FIFO.h ****             (*this)[i] = (*this)[i - 1];
 196:../../libDaisy/src/util/FIFO.h ****         // insert element
 197:../../libDaisy/src/util/FIFO.h ****         (*this)[idx] = element;
 198:../../libDaisy/src/util/FIFO.h ****         return true;
 199:../../libDaisy/src/util/FIFO.h ****     }
 200:../../libDaisy/src/util/FIFO.h **** 
 201:../../libDaisy/src/util/FIFO.h ****     /** removes the element "idx" positions behind the first element 
 202:../../libDaisy/src/util/FIFO.h ****      *  and returns true if successful */
 203:../../libDaisy/src/util/FIFO.h ****     bool Remove(size_t idx)
 204:../../libDaisy/src/util/FIFO.h ****     {
 205:../../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 206:../../libDaisy/src/util/FIFO.h ****             return false;
 207:../../libDaisy/src/util/FIFO.h **** 
 208:../../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 209:../../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 210:../../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 211:../../libDaisy/src/util/FIFO.h ****         size_t nextIndex = index + 1;
 212:../../libDaisy/src/util/FIFO.h ****         if(nextIndex >= bufferSize_)
 213:../../libDaisy/src/util/FIFO.h ****             nextIndex -= bufferSize_;
 214:../../libDaisy/src/util/FIFO.h **** 
 215:../../libDaisy/src/util/FIFO.h ****         while(nextIndex != bufferIn_)
 216:../../libDaisy/src/util/FIFO.h ****         {
 217:../../libDaisy/src/util/FIFO.h ****             buffer_[index] = buffer_[nextIndex];
 218:../../libDaisy/src/util/FIFO.h ****             index++;
 219:../../libDaisy/src/util/FIFO.h ****             nextIndex++;
 220:../../libDaisy/src/util/FIFO.h ****             if(index >= bufferSize_)
 221:../../libDaisy/src/util/FIFO.h ****                 index -= bufferSize_;
 222:../../libDaisy/src/util/FIFO.h ****             if(nextIndex >= bufferSize_)
 223:../../libDaisy/src/util/FIFO.h ****                 nextIndex -= bufferSize_;
 224:../../libDaisy/src/util/FIFO.h ****         }
 225:../../libDaisy/src/util/FIFO.h **** 
 226:../../libDaisy/src/util/FIFO.h ****         int32_t nextBufferIn = int32_t(bufferIn_) - 1;
 227:../../libDaisy/src/util/FIFO.h ****         if(nextBufferIn < 0)
 228:../../libDaisy/src/util/FIFO.h ****             nextBufferIn += bufferSize_;
 229:../../libDaisy/src/util/FIFO.h ****         bufferIn_ = size_t(nextBufferIn);
 230:../../libDaisy/src/util/FIFO.h **** 
 231:../../libDaisy/src/util/FIFO.h ****         return true;
 232:../../libDaisy/src/util/FIFO.h ****     }
 233:../../libDaisy/src/util/FIFO.h **** 
 234:../../libDaisy/src/util/FIFO.h ****     /** removes all elements from the buffer for which
 235:../../libDaisy/src/util/FIFO.h ****         (buffer(index) == element) returns true and returns the number of
 236:../../libDaisy/src/util/FIFO.h ****         elements that were removed. */
 237:../../libDaisy/src/util/FIFO.h ****     size_t RemoveAllEqualTo(const T& element)
 238:../../libDaisy/src/util/FIFO.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 11


 239:../../libDaisy/src/util/FIFO.h ****         size_t numRemoved = 0;
 240:../../libDaisy/src/util/FIFO.h ****         int    idx        = GetNumElements() - 1;
 241:../../libDaisy/src/util/FIFO.h ****         while(idx >= 0)
 242:../../libDaisy/src/util/FIFO.h ****         {
 243:../../libDaisy/src/util/FIFO.h ****             if((*this)[idx] == element)
 244:../../libDaisy/src/util/FIFO.h ****             {
 245:../../libDaisy/src/util/FIFO.h ****                 numRemoved++;
 246:../../libDaisy/src/util/FIFO.h ****                 Remove(idx);
 247:../../libDaisy/src/util/FIFO.h ****                 // was that the last element?
 248:../../libDaisy/src/util/FIFO.h ****                 if(idx == int(GetNumElements()) - 1)
 249:../../libDaisy/src/util/FIFO.h ****                     idx--;
 250:../../libDaisy/src/util/FIFO.h ****             }
 251:../../libDaisy/src/util/FIFO.h ****             else
 252:../../libDaisy/src/util/FIFO.h ****                 idx--;
 253:../../libDaisy/src/util/FIFO.h ****         }
 254:../../libDaisy/src/util/FIFO.h ****         return numRemoved;
 255:../../libDaisy/src/util/FIFO.h ****     }
 256:../../libDaisy/src/util/FIFO.h **** 
 257:../../libDaisy/src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 258:../../libDaisy/src/util/FIFO.h ****     T& operator[](size_t idx)
 259:../../libDaisy/src/util/FIFO.h ****     {
 260:../../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 261:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 262:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 263:../../libDaisy/src/util/FIFO.h **** 
 264:../../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 265:../../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 266:../../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 267:../../libDaisy/src/util/FIFO.h ****         return buffer_[index];
 268:../../libDaisy/src/util/FIFO.h ****     }
 269:../../libDaisy/src/util/FIFO.h **** 
 270:../../libDaisy/src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 271:../../libDaisy/src/util/FIFO.h ****     const T& operator[](size_t idx) const
 272:../../libDaisy/src/util/FIFO.h ****     {
 273:../../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 274:../../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 275:../../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 276:../../libDaisy/src/util/FIFO.h **** 
 277:../../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 278:../../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 279:../../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 280:../../libDaisy/src/util/FIFO.h ****         return buffer_[index];
 281:../../libDaisy/src/util/FIFO.h ****     }
 282:../../libDaisy/src/util/FIFO.h **** 
 283:../../libDaisy/src/util/FIFO.h ****     /** returns the total capacity */
 284:../../libDaisy/src/util/FIFO.h ****     size_t GetCapacity() const { return bufferSize_ - 1; }
 285:../../libDaisy/src/util/FIFO.h **** 
 286:../../libDaisy/src/util/FIFO.h ****   private:
 287:../../libDaisy/src/util/FIFO.h ****     FIFOBase(const FIFOBase<T>&) {} // non copyable
 288:../../libDaisy/src/util/FIFO.h **** 
 289:../../libDaisy/src/util/FIFO.h ****   private:
 290:../../libDaisy/src/util/FIFO.h ****     T*           buffer_;
 291:../../libDaisy/src/util/FIFO.h ****     const size_t bufferSize_;
 292:../../libDaisy/src/util/FIFO.h ****     size_t       bufferIn_;
 293:../../libDaisy/src/util/FIFO.h ****     size_t       bufferOut_;
 294:../../libDaisy/src/util/FIFO.h **** };
 295:../../libDaisy/src/util/FIFO.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 12


 296:../../libDaisy/src/util/FIFO.h **** /** A simple FIFO ring buffer with a fixed size. */
 297:../../libDaisy/src/util/FIFO.h **** template <typename T, size_t capacity>
 298:../../libDaisy/src/util/FIFO.h **** class FIFO : public FIFOBase<T>
  66              		.loc 4 298 7 view .LVU4
  67              	.LBB353:
  68              	.LBI353:
  42:../../libDaisy/src/util/FIFO.h **** 
  69              		.loc 4 42 5 view .LVU5
  42:../../libDaisy/src/util/FIFO.h **** 
  70              		.loc 4 42 5 is_stmt 0 view .LVU6
  71              	.LBE353:
  72              	.LBE352:
  73              	.LBB354:
  74              	.LBI354:
  75              		.file 5 "../../libDaisy/src/hid/midi_parser.h"
   1:../../libDaisy/src/hid/midi_parser.h **** #pragma once
   2:../../libDaisy/src/hid/midi_parser.h **** #ifndef DSY_MIDI_PARSER_H
   3:../../libDaisy/src/hid/midi_parser.h **** #define DSY_MIDI_PARSER_H
   4:../../libDaisy/src/hid/midi_parser.h **** 
   5:../../libDaisy/src/hid/midi_parser.h **** #include <stdint.h>
   6:../../libDaisy/src/hid/midi_parser.h **** #include <stdlib.h>
   7:../../libDaisy/src/hid/midi_parser.h **** #include "hid/MidiEvent.h"
   8:../../libDaisy/src/hid/midi_parser.h **** 
   9:../../libDaisy/src/hid/midi_parser.h **** namespace daisy
  10:../../libDaisy/src/hid/midi_parser.h **** {
  11:../../libDaisy/src/hid/midi_parser.h **** /** @brief   Utility class for parsing raw byte streams into MIDI messages
  12:../../libDaisy/src/hid/midi_parser.h ****  *  @details Implemented as a state machine designed to parse one byte at a time
  13:../../libDaisy/src/hid/midi_parser.h ****  *  @ingroup midi
  14:../../libDaisy/src/hid/midi_parser.h ****  */
  15:../../libDaisy/src/hid/midi_parser.h **** class MidiParser
  16:../../libDaisy/src/hid/midi_parser.h **** {
  17:../../libDaisy/src/hid/midi_parser.h ****   public:
  18:../../libDaisy/src/hid/midi_parser.h ****     MidiParser(){};
  19:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
  76              		.loc 5 19 5 is_stmt 1 view .LVU7
  77              		.loc 5 19 5 is_stmt 0 view .LVU8
  78              	.LBE354:
  79              	.LBB355:
  80              	.LBI355:
  32:../../libDaisy/src/hid/midi.h **** 
  81              		.loc 3 32 5 is_stmt 1 view .LVU9
  32:../../libDaisy/src/hid/midi.h **** 
  82              		.loc 3 32 5 is_stmt 0 view .LVU10
  83              	.LBE355:
  84              	.LBE351:
  85              	.LBB356:
  86              	.LBI356:
  87              		.file 6 "../../libDaisy/src/hid/rgb_led.h"
   1:../../libDaisy/src/hid/rgb_led.h **** #pragma once
   2:../../libDaisy/src/hid/rgb_led.h **** #ifndef DSY_RGB_LED_H
   3:../../libDaisy/src/hid/rgb_led.h **** #define DSY_RGB_LED_H
   4:../../libDaisy/src/hid/rgb_led.h **** #include "hid/led.h"
   5:../../libDaisy/src/hid/rgb_led.h **** #include "util/color.h"
   6:../../libDaisy/src/hid/rgb_led.h **** 
   7:../../libDaisy/src/hid/rgb_led.h **** namespace daisy
   8:../../libDaisy/src/hid/rgb_led.h **** {
   9:../../libDaisy/src/hid/rgb_led.h **** /** @addtogroup feedback
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 13


  10:../../libDaisy/src/hid/rgb_led.h ****     @{
  11:../../libDaisy/src/hid/rgb_led.h **** */
  12:../../libDaisy/src/hid/rgb_led.h **** 
  13:../../libDaisy/src/hid/rgb_led.h **** /** 3x LEDs configured as an RGB for ease of use. */
  14:../../libDaisy/src/hid/rgb_led.h **** class RgbLed
  15:../../libDaisy/src/hid/rgb_led.h **** {
  16:../../libDaisy/src/hid/rgb_led.h ****   public:
  17:../../libDaisy/src/hid/rgb_led.h ****     RgbLed() {}
  18:../../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
  88              		.loc 6 18 5 is_stmt 1 view .LVU11
  89              	.LBB357:
  90              	.LBI357:
  91              		.file 7 "../../libDaisy/src/hid/led.h"
   1:../../libDaisy/src/hid/led.h **** 
   2:../../libDaisy/src/hid/led.h **** #pragma once
   3:../../libDaisy/src/hid/led.h **** #ifndef DSY_LED_H
   4:../../libDaisy/src/hid/led.h **** #define DSY_LED_H
   5:../../libDaisy/src/hid/led.h **** #include "daisy_core.h"
   6:../../libDaisy/src/hid/led.h **** #include "per/gpio.h"
   7:../../libDaisy/src/hid/led.h **** 
   8:../../libDaisy/src/hid/led.h **** /* TODO - Get this set up to work with the dev_leddriver stuff as well
   9:../../libDaisy/src/hid/led.h **** - Setup Hardware PWM for pins that have it
  10:../../libDaisy/src/hid/led.h **** */
  11:../../libDaisy/src/hid/led.h **** 
  12:../../libDaisy/src/hid/led.h **** namespace daisy
  13:../../libDaisy/src/hid/led.h **** {
  14:../../libDaisy/src/hid/led.h **** /**
  15:../../libDaisy/src/hid/led.h ****     @brief LED Class providing simple Software PWM ability, etc \n 
  16:../../libDaisy/src/hid/led.h ****     Eventually this will work with hardware PWM, and external LED Driver devices as well.
  17:../../libDaisy/src/hid/led.h ****     @author shensley
  18:../../libDaisy/src/hid/led.h ****     @date March 2020
  19:../../libDaisy/src/hid/led.h ****     @ingroup feedback
  20:../../libDaisy/src/hid/led.h **** */
  21:../../libDaisy/src/hid/led.h **** class Led
  22:../../libDaisy/src/hid/led.h **** {
  23:../../libDaisy/src/hid/led.h ****   public:
  24:../../libDaisy/src/hid/led.h ****     Led() {}
  25:../../libDaisy/src/hid/led.h ****     ~Led() {}
  92              		.loc 7 25 5 view .LVU12
  93              		.loc 7 25 5 is_stmt 0 view .LVU13
  94              	.LBE357:
  95              	.LBB358:
  96              	.LBI358:
  97              		.loc 7 25 5 is_stmt 1 view .LVU14
  98              		.loc 7 25 5 is_stmt 0 view .LVU15
  99              	.LBE358:
 100              	.LBB359:
 101              	.LBI359:
 102              		.loc 7 25 5 is_stmt 1 view .LVU16
 103              		.loc 7 25 5 is_stmt 0 view .LVU17
 104              	.LBE359:
 105              	.LBE356:
 106              	.LBB360:
 107              	.LBI360:
 108              		.loc 6 18 5 is_stmt 1 view .LVU18
 109              	.LBB361:
 110              	.LBI361:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 14


 111              		.loc 7 25 5 view .LVU19
 112              		.loc 7 25 5 is_stmt 0 view .LVU20
 113              	.LBE361:
 114              	.LBB362:
 115              	.LBI362:
 116              		.loc 7 25 5 is_stmt 1 view .LVU21
 117              		.loc 7 25 5 is_stmt 0 view .LVU22
 118              	.LBE362:
 119              	.LBB363:
 120              	.LBI363:
 121              		.loc 7 25 5 is_stmt 1 view .LVU23
 122              		.loc 7 25 5 is_stmt 0 view .LVU24
 123              	.LBE363:
 124              	.LBE360:
 125              	.LBB364:
 126              	.LBI364:
 127              		.file 8 "../../libDaisy/src/hid/switch.h"
   1:../../libDaisy/src/hid/switch.h **** #pragma once
   2:../../libDaisy/src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../../libDaisy/src/hid/switch.h **** #define DSY_SWITCH_H
   4:../../libDaisy/src/hid/switch.h **** #include "daisy_core.h"
   5:../../libDaisy/src/hid/switch.h **** #include "per/gpio.h"
   6:../../libDaisy/src/hid/switch.h **** #include "sys/system.h"
   7:../../libDaisy/src/hid/switch.h **** 
   8:../../libDaisy/src/hid/switch.h **** namespace daisy
   9:../../libDaisy/src/hid/switch.h **** {
  10:../../libDaisy/src/hid/switch.h **** /** 
  11:../../libDaisy/src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:../../libDaisy/src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  13:../../libDaisy/src/hid/switch.h ****     @author Stephen Hensley
  14:../../libDaisy/src/hid/switch.h ****     @date December 2019
  15:../../libDaisy/src/hid/switch.h ****     @ingroup controls
  16:../../libDaisy/src/hid/switch.h **** */
  17:../../libDaisy/src/hid/switch.h **** class Switch
  18:../../libDaisy/src/hid/switch.h **** {
  19:../../libDaisy/src/hid/switch.h ****   public:
  20:../../libDaisy/src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:../../libDaisy/src/hid/switch.h ****     enum Type
  22:../../libDaisy/src/hid/switch.h ****     {
  23:../../libDaisy/src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:../../libDaisy/src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:../../libDaisy/src/hid/switch.h ****     };
  26:../../libDaisy/src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:../../libDaisy/src/hid/switch.h ****     enum Polarity
  28:../../libDaisy/src/hid/switch.h ****     {
  29:../../libDaisy/src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
  30:../../libDaisy/src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:../../libDaisy/src/hid/switch.h ****     };
  32:../../libDaisy/src/hid/switch.h **** 
  33:../../libDaisy/src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  34:../../libDaisy/src/hid/switch.h ****     enum Pull
  35:../../libDaisy/src/hid/switch.h ****     {
  36:../../libDaisy/src/hid/switch.h ****         PULL_UP,   /**< & */
  37:../../libDaisy/src/hid/switch.h ****         PULL_DOWN, /**< & */
  38:../../libDaisy/src/hid/switch.h ****         PULL_NONE, /**< & */
  39:../../libDaisy/src/hid/switch.h ****     };
  40:../../libDaisy/src/hid/switch.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 15


  41:../../libDaisy/src/hid/switch.h ****     Switch() {}
  42:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 128              		.loc 8 42 5 is_stmt 1 view .LVU25
 129              		.loc 8 42 5 is_stmt 0 view .LVU26
 130              	.LBE364:
 131              	.LBB365:
 132              	.LBI365:
 133              		.loc 8 42 5 is_stmt 1 view .LVU27
 134              		.loc 8 42 5 is_stmt 0 view .LVU28
 135              	.LBE365:
 136              	.LBB366:
 137              	.LBI366:
 138              		.file 9 "../../libDaisy/src/hid/ctrl.h"
   1:../../libDaisy/src/hid/ctrl.h **** #pragma once
   2:../../libDaisy/src/hid/ctrl.h **** #ifndef DSY_KNOB_H
   3:../../libDaisy/src/hid/ctrl.h **** #define DSY_KNOB_H /**< & */
   4:../../libDaisy/src/hid/ctrl.h **** #include <stdint.h>
   5:../../libDaisy/src/hid/ctrl.h **** 
   6:../../libDaisy/src/hid/ctrl.h **** #ifdef __cplusplus
   7:../../libDaisy/src/hid/ctrl.h **** namespace daisy
   8:../../libDaisy/src/hid/ctrl.h **** {
   9:../../libDaisy/src/hid/ctrl.h **** /**
  10:../../libDaisy/src/hid/ctrl.h ****     @brief Hardware Interface for control inputs \n 
  11:../../libDaisy/src/hid/ctrl.h ****     Primarily designed for ADC input controls such as \n 
  12:../../libDaisy/src/hid/ctrl.h ****     potentiometers, and control voltage. \n 
  13:../../libDaisy/src/hid/ctrl.h ****     @author Stephen Hensley
  14:../../libDaisy/src/hid/ctrl.h ****     @date November 2019
  15:../../libDaisy/src/hid/ctrl.h ****     @ingroup controls
  16:../../libDaisy/src/hid/ctrl.h **** */
  17:../../libDaisy/src/hid/ctrl.h **** class AnalogControl
  18:../../libDaisy/src/hid/ctrl.h **** {
  19:../../libDaisy/src/hid/ctrl.h ****   public:
  20:../../libDaisy/src/hid/ctrl.h ****     /** Constructor */
  21:../../libDaisy/src/hid/ctrl.h ****     AnalogControl() {}
  22:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
  23:../../libDaisy/src/hid/ctrl.h ****     ~AnalogControl() {}
 139              		.loc 9 23 5 is_stmt 1 view .LVU29
 140              		.loc 9 23 5 is_stmt 0 view .LVU30
 141              	.LBE366:
 142              	.LBB367:
 143              	.LBI367:
 144              		.loc 9 23 5 is_stmt 1 view .LVU31
 145              		.loc 9 23 5 is_stmt 0 view .LVU32
 146              	.LBE367:
 147              	.LBB368:
 148              	.LBI368:
 149              		.file 10 "../../libDaisy/src/hid/encoder.h"
   1:../../libDaisy/src/hid/encoder.h **** #pragma once
   2:../../libDaisy/src/hid/encoder.h **** #ifndef DSY_ENCODER_H
   3:../../libDaisy/src/hid/encoder.h **** #define DSY_ENCODER_H
   4:../../libDaisy/src/hid/encoder.h **** #include "daisy_core.h"
   5:../../libDaisy/src/hid/encoder.h **** #include "per/gpio.h"
   6:../../libDaisy/src/hid/encoder.h **** #include "hid/switch.h"
   7:../../libDaisy/src/hid/encoder.h **** 
   8:../../libDaisy/src/hid/encoder.h **** namespace daisy
   9:../../libDaisy/src/hid/encoder.h **** {
  10:../../libDaisy/src/hid/encoder.h **** /** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 16


  11:../../libDaisy/src/hid/encoder.h ****     @brief Generic Class for handling Quadrature Encoders \n 
  12:../../libDaisy/src/hid/encoder.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Encoder classes
  13:../../libDaisy/src/hid/encoder.h ****     @author Stephen Hensley
  14:../../libDaisy/src/hid/encoder.h ****     @date December 2019
  15:../../libDaisy/src/hid/encoder.h ****     @ingroup controls
  16:../../libDaisy/src/hid/encoder.h **** */
  17:../../libDaisy/src/hid/encoder.h **** class Encoder
  18:../../libDaisy/src/hid/encoder.h **** {
  19:../../libDaisy/src/hid/encoder.h ****   public:
  20:../../libDaisy/src/hid/encoder.h ****     Encoder() {}
  21:../../libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 150              		.loc 10 21 5 is_stmt 1 view .LVU33
 151              	.LBB369:
 152              	.LBI369:
 153              		.loc 8 42 5 view .LVU34
 154              		.loc 8 42 5 is_stmt 0 view .LVU35
 155              	.LBE369:
 156              	.LBE368:
 157              	.LBB370:
 158              	.LBI370:
 159              		.file 11 "../../libDaisy/src/daisy_seed.h"
   1:../../libDaisy/src/daisy_seed.h **** #pragma once
   2:../../libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../../libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../../libDaisy/src/daisy_seed.h **** 
   5:../../libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../../libDaisy/src/daisy_seed.h **** 
   7:../../libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../../libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../../libDaisy/src/daisy_seed.h **** 
  10:../../libDaisy/src/daisy_seed.h **** namespace daisy
  11:../../libDaisy/src/daisy_seed.h **** {
  12:../../libDaisy/src/daisy_seed.h **** /**
  13:../../libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../../libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../../libDaisy/src/daisy_seed.h **** 
  16:../../libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:../../libDaisy/src/daisy_seed.h **** */
  18:../../libDaisy/src/daisy_seed.h **** class DaisySeed
  19:../../libDaisy/src/daisy_seed.h **** {
  20:../../libDaisy/src/daisy_seed.h ****   public:
  21:../../libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 160              		.loc 11 22 5 is_stmt 1 view .LVU36
 161              	.LBB371:
 162              	.LBI371:
 163              		.file 12 "../../libDaisy/src/sys/system.h"
   1:../../libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../../libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../../libDaisy/src/sys/system.h **** 
   4:../../libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../../libDaisy/src/sys/system.h **** 
   6:../../libDaisy/src/sys/system.h **** #include <cstdint>
   7:../../libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:../../libDaisy/src/sys/system.h **** 
   9:../../libDaisy/src/sys/system.h **** namespace daisy
  10:../../libDaisy/src/sys/system.h **** {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 17


  11:../../libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System.
  12:../../libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../../libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../../libDaisy/src/sys/system.h ****  **
  15:../../libDaisy/src/sys/system.h ****  ** @author shensley
  16:../../libDaisy/src/sys/system.h ****  ** @ingroup system
  17:../../libDaisy/src/sys/system.h ****  */
  18:../../libDaisy/src/sys/system.h **** class System
  19:../../libDaisy/src/sys/system.h **** {
  20:../../libDaisy/src/sys/system.h ****   public:
  21:../../libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../../libDaisy/src/sys/system.h ****     struct Config
  23:../../libDaisy/src/sys/system.h ****     {
  24:../../libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../../libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../../libDaisy/src/sys/system.h ****         {
  27:../../libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../../libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../../libDaisy/src/sys/system.h ****         };
  30:../../libDaisy/src/sys/system.h **** 
  31:../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../../libDaisy/src/sys/system.h ****          ** Cache Enabled
  34:../../libDaisy/src/sys/system.h ****          ** */
  35:../../libDaisy/src/sys/system.h ****         void Defaults()
  36:../../libDaisy/src/sys/system.h ****         {
  37:../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:../../libDaisy/src/sys/system.h ****             use_icache  = true;
  40:../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:../../libDaisy/src/sys/system.h ****         }
  42:../../libDaisy/src/sys/system.h **** 
  43:../../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../../libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../../libDaisy/src/sys/system.h ****          ** Cache Enabled
  46:../../libDaisy/src/sys/system.h ****          ** */
  47:../../libDaisy/src/sys/system.h ****         void Boost()
  48:../../libDaisy/src/sys/system.h ****         {
  49:../../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../../libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:../../libDaisy/src/sys/system.h ****             use_icache  = true;
  52:../../libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:../../libDaisy/src/sys/system.h ****         }
  54:../../libDaisy/src/sys/system.h **** 
  55:../../libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../../libDaisy/src/sys/system.h ****         bool       use_dcache;
  57:../../libDaisy/src/sys/system.h ****         bool       use_icache;
  58:../../libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:../../libDaisy/src/sys/system.h ****     };
  60:../../libDaisy/src/sys/system.h **** 
  61:../../libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:../../libDaisy/src/sys/system.h ****     enum MemoryRegion
  63:../../libDaisy/src/sys/system.h ****     {
  64:../../libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:../../libDaisy/src/sys/system.h ****         ITCMRAM,
  66:../../libDaisy/src/sys/system.h ****         DTCMRAM,
  67:../../libDaisy/src/sys/system.h ****         SRAM_D1,
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 18


  68:../../libDaisy/src/sys/system.h ****         SRAM_D2,
  69:../../libDaisy/src/sys/system.h ****         SRAM_D3,
  70:../../libDaisy/src/sys/system.h ****         SDRAM,
  71:../../libDaisy/src/sys/system.h ****         QSPI,
  72:../../libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  73:../../libDaisy/src/sys/system.h ****     };
  74:../../libDaisy/src/sys/system.h **** 
  75:../../libDaisy/src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:../../libDaisy/src/sys/system.h ****     struct BootInfo
  77:../../libDaisy/src/sys/system.h ****     {
  78:../../libDaisy/src/sys/system.h ****         enum class Type : uint32_t
  79:../../libDaisy/src/sys/system.h ****         {
  80:../../libDaisy/src/sys/system.h ****             INVALID      = 0x00000000,
  81:../../libDaisy/src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:../../libDaisy/src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:../../libDaisy/src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:../../libDaisy/src/sys/system.h ****         } status;
  85:../../libDaisy/src/sys/system.h ****         uint32_t data;
  86:../../libDaisy/src/sys/system.h ****         enum class Version : uint32_t
  87:../../libDaisy/src/sys/system.h ****         {
  88:../../libDaisy/src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:../../libDaisy/src/sys/system.h ****             NONE,        // No bootloader present
  90:../../libDaisy/src/sys/system.h ****             v6_0,        // v6.0
  91:../../libDaisy/src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:../../libDaisy/src/sys/system.h ****             LAST
  93:../../libDaisy/src/sys/system.h ****         } version;
  94:../../libDaisy/src/sys/system.h ****     };
  95:../../libDaisy/src/sys/system.h **** 
  96:../../libDaisy/src/sys/system.h ****     System() {}
  97:../../libDaisy/src/sys/system.h ****     ~System() {}
 164              		.loc 12 97 5 view .LVU37
 165              		.loc 12 97 5 is_stmt 0 view .LVU38
 166              	.LBE371:
 167              	.LBB372:
 168              	.LBI372:
 169              		.file 13 "../../libDaisy/src/hid/usb.h"
   1:../../libDaisy/src/hid/usb.h **** #pragma once
   2:../../libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../../libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../../libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:../../libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../../libDaisy/src/hid/usb.h **** 
   7:../../libDaisy/src/hid/usb.h **** namespace daisy
   8:../../libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:../../libDaisy/src/hid/usb.h ****     @{
  10:../../libDaisy/src/hid/usb.h **** */
  11:../../libDaisy/src/hid/usb.h **** 
  12:../../libDaisy/src/hid/usb.h **** {
  13:../../libDaisy/src/hid/usb.h **** /** 
  14:../../libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../../libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../../libDaisy/src/hid/usb.h ****     @date December 2019
  17:../../libDaisy/src/hid/usb.h **** */
  18:../../libDaisy/src/hid/usb.h **** class UsbHandle
  19:../../libDaisy/src/hid/usb.h **** {
  20:../../libDaisy/src/hid/usb.h ****   public:
  21:../../libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 19


  22:../../libDaisy/src/hid/usb.h ****     enum class Result
  23:../../libDaisy/src/hid/usb.h ****     {
  24:../../libDaisy/src/hid/usb.h ****         OK,
  25:../../libDaisy/src/hid/usb.h ****         ERR,
  26:../../libDaisy/src/hid/usb.h ****     };
  27:../../libDaisy/src/hid/usb.h **** 
  28:../../libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../../libDaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../../libDaisy/src/hid/usb.h ****     {
  31:../../libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../../libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../../libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../../libDaisy/src/hid/usb.h ****     };
  35:../../libDaisy/src/hid/usb.h **** 
  36:../../libDaisy/src/hid/usb.h **** 
  37:../../libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../../libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../../libDaisy/src/hid/usb.h **** 
  40:../../libDaisy/src/hid/usb.h ****     UsbHandle() {}
  41:../../libDaisy/src/hid/usb.h **** 
  42:../../libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
 170              		.loc 13 42 5 is_stmt 1 view .LVU39
 171              		.loc 13 42 5 is_stmt 0 view .LVU40
 172              	.LBE372:
 173              	.LBB373:
 174              	.LBI373:
 175              		.file 14 "../../libDaisy/src/per/adc.h"
   1:../../libDaisy/src/per/adc.h **** #pragma once
   2:../../libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../../libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../../libDaisy/src/per/adc.h **** #include <stdint.h>
   5:../../libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:../../libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../../libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../../libDaisy/src/per/adc.h **** 
   9:../../libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../../libDaisy/src/per/adc.h **** 
  11:../../libDaisy/src/per/adc.h **** namespace daisy
  12:../../libDaisy/src/per/adc.h **** {
  13:../../libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:../../libDaisy/src/per/adc.h ****     @{
  15:../../libDaisy/src/per/adc.h **** */
  16:../../libDaisy/src/per/adc.h **** 
  17:../../libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../../libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../../libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../../libDaisy/src/per/adc.h **** */
  21:../../libDaisy/src/per/adc.h **** 
  22:../../libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../../libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../../libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../../libDaisy/src/per/adc.h ****  *           one channel.
  26:../../libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../../libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../../libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../../libDaisy/src/per/adc.h ****  *           inputs connected.
  30:../../libDaisy/src/per/adc.h **** */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 20


  31:../../libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:../../libDaisy/src/per/adc.h **** {
  33:../../libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../../libDaisy/src/per/adc.h ****     enum MuxPin
  35:../../libDaisy/src/per/adc.h ****     {
  36:../../libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../../libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../../libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../../libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../../libDaisy/src/per/adc.h ****     };
  41:../../libDaisy/src/per/adc.h **** 
  42:../../libDaisy/src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:../../libDaisy/src/per/adc.h ****     enum ConversionSpeed
  44:../../libDaisy/src/per/adc.h ****     {
  45:../../libDaisy/src/per/adc.h ****         SPEED_1CYCLES_5,
  46:../../libDaisy/src/per/adc.h ****         SPEED_2CYCLES_5,
  47:../../libDaisy/src/per/adc.h ****         SPEED_8CYCLES_5,
  48:../../libDaisy/src/per/adc.h ****         SPEED_16CYCLES_5,
  49:../../libDaisy/src/per/adc.h ****         SPEED_32CYCLES_5,
  50:../../libDaisy/src/per/adc.h ****         SPEED_64CYCLES_5,
  51:../../libDaisy/src/per/adc.h ****         SPEED_387CYCLES_5,
  52:../../libDaisy/src/per/adc.h ****         SPEED_810CYCLES_5,
  53:../../libDaisy/src/per/adc.h ****     };
  54:../../libDaisy/src/per/adc.h **** 
  55:../../libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:../../libDaisy/src/per/adc.h ****     \param pin Pin to init.
  57:../../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:../../libDaisy/src/per/adc.h ****      */
  59:../../libDaisy/src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:../../libDaisy/src/per/adc.h **** 
  61:../../libDaisy/src/per/adc.h ****     /** 
  62:../../libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:../../libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:../../libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:../../libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:../../libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:../../libDaisy/src/per/adc.h ****     \param adc_pin &
  68:../../libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  69:../../libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  70:../../libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  71:../../libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  72:../../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:../../libDaisy/src/per/adc.h ****     */
  74:../../libDaisy/src/per/adc.h ****     void InitMux(dsy_gpio_pin    adc_pin,
  75:../../libDaisy/src/per/adc.h ****                  size_t          mux_channels,
  76:../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin    mux_0,
  77:../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin    mux_1 = {DSY_GPIOX, 0},
  78:../../libDaisy/src/per/adc.h ****                  dsy_gpio_pin    mux_2 = {DSY_GPIOX, 0},
  79:../../libDaisy/src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:../../libDaisy/src/per/adc.h **** 
  81:../../libDaisy/src/per/adc.h ****     dsy_gpio        pin_;                   /**< & */
  82:../../libDaisy/src/per/adc.h ****     dsy_gpio        mux_pin_[MUX_SEL_LAST]; /**< & */
  83:../../libDaisy/src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:../../libDaisy/src/per/adc.h ****     ConversionSpeed speed_;
  85:../../libDaisy/src/per/adc.h **** };
  86:../../libDaisy/src/per/adc.h **** 
  87:../../libDaisy/src/per/adc.h **** /**
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 21


  88:../../libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:../../libDaisy/src/per/adc.h **** */
  90:../../libDaisy/src/per/adc.h **** class AdcHandle
  91:../../libDaisy/src/per/adc.h **** {
  92:../../libDaisy/src/per/adc.h ****   public:
  93:../../libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  94:../../libDaisy/src/per/adc.h ****     enum OverSampling
  95:../../libDaisy/src/per/adc.h ****     {
  96:../../libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  97:../../libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  98:../../libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  99:../../libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
 100:../../libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
 101:../../libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
 102:../../libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
 103:../../libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
 104:../../libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
 105:../../libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
 106:../../libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
 107:../../libDaisy/src/per/adc.h ****     };
 108:../../libDaisy/src/per/adc.h **** 
 109:../../libDaisy/src/per/adc.h ****     AdcHandle() {}
 110:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 176              		.loc 14 110 5 is_stmt 1 view .LVU41
 177              		.loc 14 110 5 is_stmt 0 view .LVU42
 178              	.LBE373:
 179              	.LBB374:
 180              	.LBI374:
 181              		.file 15 "../../libDaisy/src/hid/audio.h"
   1:../../libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../../libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../../libDaisy/src/hid/audio.h **** 
   4:../../libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../../libDaisy/src/hid/audio.h **** 
   6:../../libDaisy/src/hid/audio.h **** namespace daisy
   7:../../libDaisy/src/hid/audio.h **** {
   8:../../libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../../libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:../../libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../../libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../../libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../../libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:../../libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../../libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:../../libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../../libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../../libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../../libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../../libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../../libDaisy/src/hid/audio.h ****  */
  22:../../libDaisy/src/hid/audio.h **** class AudioHandle
  23:../../libDaisy/src/hid/audio.h **** {
  24:../../libDaisy/src/hid/audio.h ****   public:
  25:../../libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../../libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../../libDaisy/src/hid/audio.h ****     struct Config
  28:../../libDaisy/src/hid/audio.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 22


  29:../../libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:../../libDaisy/src/hid/audio.h ****         size_t blocksize;
  31:../../libDaisy/src/hid/audio.h **** 
  32:../../libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:../../libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../../libDaisy/src/hid/audio.h **** 
  35:../../libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../../libDaisy/src/hid/audio.h ****         float postgain;
  37:../../libDaisy/src/hid/audio.h **** 
  38:../../libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../../libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  40:../../libDaisy/src/hid/audio.h ****          */
  41:../../libDaisy/src/hid/audio.h ****         float output_compensation;
  42:../../libDaisy/src/hid/audio.h **** 
  43:../../libDaisy/src/hid/audio.h ****         /** Sets default values for config struct */
  44:../../libDaisy/src/hid/audio.h ****         Config()
  45:../../libDaisy/src/hid/audio.h ****         : blocksize(48),
  46:../../libDaisy/src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../../libDaisy/src/hid/audio.h ****           postgain(1.f),
  48:../../libDaisy/src/hid/audio.h ****           output_compensation(1.f)
  49:../../libDaisy/src/hid/audio.h ****         {
  50:../../libDaisy/src/hid/audio.h ****         }
  51:../../libDaisy/src/hid/audio.h ****     };
  52:../../libDaisy/src/hid/audio.h **** 
  53:../../libDaisy/src/hid/audio.h ****     enum class Result
  54:../../libDaisy/src/hid/audio.h ****     {
  55:../../libDaisy/src/hid/audio.h ****         OK,
  56:../../libDaisy/src/hid/audio.h ****         ERR,
  57:../../libDaisy/src/hid/audio.h ****     };
  58:../../libDaisy/src/hid/audio.h **** 
  59:../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../../libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../../libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  62:../../libDaisy/src/hid/audio.h ****      */
  63:../../libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../../libDaisy/src/hid/audio.h **** 
  65:../../libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../../libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../../libDaisy/src/hid/audio.h ****      */
  68:../../libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../../libDaisy/src/hid/audio.h **** 
  70:../../libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../../libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../../libDaisy/src/hid/audio.h ****      */
  73:../../libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../../libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  75:../../libDaisy/src/hid/audio.h ****                                   size_t       size);
  76:../../libDaisy/src/hid/audio.h **** 
  77:../../libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  78:../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../../libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../../libDaisy/src/hid/audio.h ****     */
  81:../../libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../../libDaisy/src/hid/audio.h **** 
  83:../../libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../../libDaisy/src/hid/audio.h ****     */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 23


  86:../../libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../../libDaisy/src/hid/audio.h **** 
  88:../../libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../../libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../../libDaisy/src/hid/audio.h ****      */
  91:../../libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../../libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../../libDaisy/src/hid/audio.h ****                                               size_t                   size);
  94:../../libDaisy/src/hid/audio.h **** 
  95:../../libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 182              		.loc 15 96 5 is_stmt 1 view .LVU43
 183              		.loc 15 96 5 is_stmt 0 view .LVU44
 184              	.LBE374:
 185              	.LBE370:
 186              		.loc 2 36 18 view .LVU45
 187 0000 7047     		bx	lr
 188              		.cfi_endproc
 189              	.LFE2565:
 191              		.weak	_ZN5daisy8DaisyPodD1Ev
 192              		.thumb_set _ZN5daisy8DaisyPodD1Ev,_ZN5daisy8DaisyPodD2Ev
 193 0002 00BF     		.section	.text._ZN5daisy10WavPlayerTD2Ev,"axG",%progbits,_ZN5daisy10WavPlayerTD5Ev,comdat
 194              		.align	1
 195              		.p2align 2,,3
 196              		.weak	_ZN5daisy10WavPlayerTD2Ev
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 201              	_ZN5daisy10WavPlayerTD2Ev:
 202              	.LVL2:
 203              	.LFB4693:
 204              		.file 16 "wavplayert.h"
   1:wavplayert.h  **** #pragma once
   2:wavplayert.h  **** // #ifndef DSY_WAVPLAYER_H
   3:wavplayert.h  **** // #define DSY_WAVPLAYER_H /**< Macro */
   4:wavplayert.h  **** #include "daisy_core.h"
   5:wavplayert.h  **** #include "util/wav_format.h"
   6:wavplayert.h  **** #include "ff.h"
   7:wavplayert.h  **** 
   8:wavplayert.h  **** #define WAV_FILENAME_MAX \
   9:wavplayert.h  ****     256 /**< Maximum LFN (set to same in FatFs (ffconf.h) */
  10:wavplayert.h  **** 
  11:wavplayert.h  **** namespace daisy
  12:wavplayert.h  **** {
  13:wavplayert.h  **** // TODO: add bitrate, samplerate, length, etc.
  14:wavplayert.h  **** /** Struct containing details of Wav File. */
  15:wavplayert.h  **** struct WavFileInfoT
  16:wavplayert.h  **** {
  17:wavplayert.h  ****     WAV_FormatTypeDef raw_data;               /**< Raw wav data */
  18:wavplayert.h  ****     char              name[WAV_FILENAME_MAX]; /**< Wav filename */
  19:wavplayert.h  ****     char              path[WAV_FILENAME_MAX]; /**< Wav filepath */
  20:wavplayert.h  ****     uint32_t          length;                 /**< in samples   */
  21:wavplayert.h  **** };
  22:wavplayert.h  **** 
  23:wavplayert.h  **** /* 
  24:wavplayert.h  **** TODO:
  25:wavplayert.h  **** - Make template-y to reduce memory usage.
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 24


  26:wavplayert.h  **** */
  27:wavplayert.h  **** 
  28:wavplayert.h  **** 
  29:wavplayert.h  **** /** Wav Player that will load .wav files from an SD Card,
  30:wavplayert.h  **** and then provide a method of accessing the samples with
  31:wavplayert.h  **** double-buffering. */
  32:wavplayert.h  **** class WavPlayerT
  33:wavplayert.h  **** {
  34:wavplayert.h  ****   public:
  35:wavplayert.h  ****     WavPlayerT() {}
  36:wavplayert.h  ****     ~WavPlayerT() {}
 205              		.loc 16 36 5 is_stmt 1 view -0
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 0
 208              		@ frame_needed = 0, uses_anonymous_args = 0
 209              		@ link register save eliminated.
 210              		.loc 16 36 20 is_stmt 0 view .LVU47
 211 0000 7047     		bx	lr
 212              		.cfi_endproc
 213              	.LFE4693:
 215              		.weak	_ZN5daisy10WavPlayerTD1Ev
 216              		.thumb_set _ZN5daisy10WavPlayerTD1Ev,_ZN5daisy10WavPlayerTD2Ev
 217 0002 00BF     		.section	.text._Z13AudioCallbackPKfPfj,"ax",%progbits
 218              		.align	1
 219              		.p2align 2,,3
 220              		.global	_Z13AudioCallbackPKfPfj
 221              		.syntax unified
 222              		.thumb
 223              		.thumb_func
 225              	_Z13AudioCallbackPKfPfj:
 226              	.LVL3:
 227              	.LFB4711:
 228              		.file 17 "WavPlayerTweak.cpp"
   1:WavPlayerTweak.cpp **** #include <daisy_pod.h>
   2:WavPlayerTweak.cpp **** #include <daisysp.h>
   3:WavPlayerTweak.cpp **** #include "wavplayert.h"
   4:WavPlayerTweak.cpp **** #include "hidtweak.cpp"
   5:WavPlayerTweak.cpp **** 
   6:WavPlayerTweak.cpp **** using namespace daisy;
   7:WavPlayerTweak.cpp **** using namespace daisysp;
   8:WavPlayerTweak.cpp **** 
   9:WavPlayerTweak.cpp **** // define objects
  10:WavPlayerTweak.cpp **** DaisyPod hw;
  11:WavPlayerTweak.cpp **** SdmmcHandler sdcard;
  12:WavPlayerTweak.cpp **** FatFSInterface fsi;
  13:WavPlayerTweak.cpp **** WavPlayerT p1;
  14:WavPlayerTweak.cpp **** // WavPlayerT p2;
  15:WavPlayerTweak.cpp **** 
  16:WavPlayerTweak.cpp **** // define buffers
  17:WavPlayerTweak.cpp **** // these are initialized globally on the SDRAM memory sector
  18:WavPlayerTweak.cpp **** #define BUFSIZE 4096
  19:WavPlayerTweak.cpp **** int16_t DSY_SDRAM_BSS buffer1[BUFSIZE];
  20:WavPlayerTweak.cpp **** // int16_t DSY_SDRAM_BSS buffer2[BUFSIZE];
  21:WavPlayerTweak.cpp **** 
  22:WavPlayerTweak.cpp **** /**
  23:WavPlayerTweak.cpp ****  * @brief Audio callback
  24:WavPlayerTweak.cpp ****  * 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 25


  25:WavPlayerTweak.cpp ****  * @param in input buffer
  26:WavPlayerTweak.cpp ****  * @param out output buffer
  27:WavPlayerTweak.cpp ****  * @param size block size
  28:WavPlayerTweak.cpp ****  */
  29:WavPlayerTweak.cpp **** void AudioCallback(AudioHandle::InterleavingInputBuffer in, AudioHandle::InterleavingOutputBuffer o
  30:WavPlayerTweak.cpp **** {
 229              		.loc 17 30 1 is_stmt 1 view -0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 16
 232              		@ frame_needed = 0, uses_anonymous_args = 0
  31:WavPlayerTweak.cpp ****     float samp_out;
 233              		.loc 17 31 5 view .LVU49
  32:WavPlayerTweak.cpp **** 
  33:WavPlayerTweak.cpp ****     // kfakfjghsjdfg
  34:WavPlayerTweak.cpp ****     for(size_t i = 0; i < size; i += 2)
 234              		.loc 17 34 5 view .LVU50
 235              	.LBB382:
 236              		.loc 17 34 25 view .LVU51
 237 0000 002A     		cmp	r2, #0
 238 0002 75D0     		beq	.L28
 239 0004 013A     		subs	r2, r2, #1
 240              	.LVL4:
 241              		.loc 17 34 25 is_stmt 0 view .LVU52
 242              	.LBE382:
  30:WavPlayerTweak.cpp ****     float samp_out;
 243              		.loc 17 30 1 view .LVU53
 244 0006 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 245              		.cfi_def_cfa_offset 36
 246              		.cfi_offset 4, -36
 247              		.cfi_offset 5, -32
 248              		.cfi_offset 6, -28
 249              		.cfi_offset 7, -24
 250              		.cfi_offset 8, -20
 251              		.cfi_offset 9, -16
 252              		.cfi_offset 10, -12
 253              		.cfi_offset 11, -8
 254              		.cfi_offset 14, -4
 255 000a 3D4F     		ldr	r7, .L31
 256 000c 85B0     		sub	sp, sp, #20
 257              		.cfi_def_cfa_offset 56
 258 000e 5308     		lsrs	r3, r2, #1
 259              	.LBB409:
 260              	.LBB383:
 261              	.LBB384:
 262              	.LBB385:
 263              	.LBB386:
 264              		.file 18 "hidtweak.cpp"
   1:hidtweak.cpp  **** #include <cstring>
   2:hidtweak.cpp  **** #include "wavplayert.h"
   3:hidtweak.cpp  **** #include "daisy_seed.h"
   4:hidtweak.cpp  **** #include <filesystem>
   5:hidtweak.cpp  **** #include "hid/wavplayer.h"
   6:hidtweak.cpp  **** 
   7:hidtweak.cpp  **** using namespace daisy;
   8:hidtweak.cpp  **** 
   9:hidtweak.cpp  **** FRESULT WavPlayerT::Init(const char *search_path,
  10:hidtweak.cpp  ****                         int16_t    *buffer,
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 26


  11:hidtweak.cpp  ****                         size_t      bufferSize,
  12:hidtweak.cpp  ****                         size_t      numChannels)
  13:hidtweak.cpp  **** {
  14:hidtweak.cpp  ****     buff_        = buffer;
  15:hidtweak.cpp  ****     bufferSize_  = bufferSize / numChannels;
  16:hidtweak.cpp  ****     numChannels_ = numChannels;
  17:hidtweak.cpp  **** 
  18:hidtweak.cpp  ****     // First check for all .wav files, and add them to the list until its full or there are no more
  19:hidtweak.cpp  ****     // Only checks '/'
  20:hidtweak.cpp  ****     FRESULT result = FR_OK;
  21:hidtweak.cpp  ****     FILINFO fno;
  22:hidtweak.cpp  ****     DIR     dir;
  23:hidtweak.cpp  ****     char   *fn;
  24:hidtweak.cpp  ****     file_sel_ = 0;
  25:hidtweak.cpp  ****     file_cnt_ = 0;
  26:hidtweak.cpp  ****     playing_  = false;
  27:hidtweak.cpp  ****     looping_  = false;
  28:hidtweak.cpp  **** 
  29:hidtweak.cpp  ****     // Open Dir and scan for files.
  30:hidtweak.cpp  ****     result = f_opendir(&dir, search_path);
  31:hidtweak.cpp  ****     if(result != FR_OK)
  32:hidtweak.cpp  ****     {
  33:hidtweak.cpp  ****         return result;
  34:hidtweak.cpp  ****     }
  35:hidtweak.cpp  **** 
  36:hidtweak.cpp  ****     do
  37:hidtweak.cpp  ****     {
  38:hidtweak.cpp  ****         result = f_readdir(&dir, &fno);
  39:hidtweak.cpp  ****         // Exit if bad read or NULL fname
  40:hidtweak.cpp  ****         if(result != FR_OK || fno.fname[0] == 0)
  41:hidtweak.cpp  ****             break;
  42:hidtweak.cpp  ****         // Skip if its a directory or a hidden file.
  43:hidtweak.cpp  ****         if(fno.fattrib & (AM_HID | AM_DIR))
  44:hidtweak.cpp  ****             continue;
  45:hidtweak.cpp  ****         // Now we'll check if its .wav and add to the list.
  46:hidtweak.cpp  ****         fn = fno.fname;
  47:hidtweak.cpp  ****         if(file_cnt_ < kMaxFiles - 1)
  48:hidtweak.cpp  ****         {
  49:hidtweak.cpp  ****             if(strstr(fn, ".wav") || strstr(fn, ".WAV"))
  50:hidtweak.cpp  ****             {
  51:hidtweak.cpp  ****                 strcpy(file_info_[file_cnt_].name, fn);
  52:hidtweak.cpp  ****                 strcpy(file_info_[file_cnt_].path, search_path);
  53:hidtweak.cpp  **** 
  54:hidtweak.cpp  ****                 // add an extra slash for non-root directories
  55:hidtweak.cpp  ****                 if(strcmp(search_path, "0:/") != 0)
  56:hidtweak.cpp  ****                 {
  57:hidtweak.cpp  ****                     strcat(file_info_[file_cnt_].path, "/");
  58:hidtweak.cpp  ****                 }
  59:hidtweak.cpp  **** 
  60:hidtweak.cpp  ****                 strcat(file_info_[file_cnt_].path, fn);
  61:hidtweak.cpp  ****                 file_cnt_++;
  62:hidtweak.cpp  ****                 // For now lets break anyway to test.
  63:hidtweak.cpp  ****                 //                break;
  64:hidtweak.cpp  ****             }
  65:hidtweak.cpp  ****         }
  66:hidtweak.cpp  ****         else
  67:hidtweak.cpp  ****         {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 27


  68:hidtweak.cpp  ****             break;
  69:hidtweak.cpp  ****         }
  70:hidtweak.cpp  ****     } while(result == FR_OK);
  71:hidtweak.cpp  ****     f_closedir(&dir);
  72:hidtweak.cpp  ****     // Now we'll go through each file and load the WavInfo.
  73:hidtweak.cpp  ****     for(size_t i = 0; i < file_cnt_; i++)
  74:hidtweak.cpp  ****     {
  75:hidtweak.cpp  ****         size_t bytesread;
  76:hidtweak.cpp  ****         if(f_open(&fil_, file_info_[i].path, (FA_OPEN_EXISTING | FA_READ))
  77:hidtweak.cpp  ****            == FR_OK)
  78:hidtweak.cpp  ****         {
  79:hidtweak.cpp  ****             // Populate the WAV Info
  80:hidtweak.cpp  ****             result = f_read(&fil_,
  81:hidtweak.cpp  ****                             (void *)&file_info_[i].raw_data,
  82:hidtweak.cpp  ****                             sizeof(WAV_FormatTypeDef),
  83:hidtweak.cpp  ****                             &bytesread);
  84:hidtweak.cpp  ****             if(result != FR_OK)
  85:hidtweak.cpp  ****             {
  86:hidtweak.cpp  ****                 // Maybe add return type
  87:hidtweak.cpp  ****                 return result;
  88:hidtweak.cpp  ****             }
  89:hidtweak.cpp  **** 
  90:hidtweak.cpp  ****             // add length
  91:hidtweak.cpp  ****             file_info_[i].length = file_info_[i].raw_data.FileSize 
  92:hidtweak.cpp  ****                                  - file_info_[i].raw_data.SubChunk1Size
  93:hidtweak.cpp  ****                                  - sizeof(WAV_FormatTypeDef);
  94:hidtweak.cpp  **** 
  95:hidtweak.cpp  ****             file_info_[i].length /= 2;                  // 16-bit
  96:hidtweak.cpp  **** 
  97:hidtweak.cpp  ****             f_close(&fil_);
  98:hidtweak.cpp  ****         }
  99:hidtweak.cpp  ****     }
 100:hidtweak.cpp  **** 
 101:hidtweak.cpp  ****     // initialize at Nothing
 102:hidtweak.cpp  ****     buff_state_ = BUFFER_STATE_IDLE;
 103:hidtweak.cpp  ****     read_ptr_ = read_ptr_abs_ = 0;
 104:hidtweak.cpp  **** 
 105:hidtweak.cpp  ****     return result;
 106:hidtweak.cpp  **** }
 107:hidtweak.cpp  **** 
 108:hidtweak.cpp  **** 
 109:hidtweak.cpp  **** int WavPlayerT::Open(size_t sel)
 110:hidtweak.cpp  **** {
 111:hidtweak.cpp  ****     if(sel != file_sel_)
 112:hidtweak.cpp  ****     {
 113:hidtweak.cpp  ****         f_close(&fil_);
 114:hidtweak.cpp  ****         file_sel_ = sel < file_cnt_ ? sel : file_cnt_ - 1;
 115:hidtweak.cpp  ****     }
 116:hidtweak.cpp  **** 
 117:hidtweak.cpp  ****     // Set Buffer Position
 118:hidtweak.cpp  ****     if(int result = f_open(
 119:hidtweak.cpp  ****         &fil_, file_info_[file_sel_].path, (FA_OPEN_EXISTING | FA_READ)))
 120:hidtweak.cpp  ****     {
 121:hidtweak.cpp  ****         return result;
 122:hidtweak.cpp  ****     }
 123:hidtweak.cpp  ****     else
 124:hidtweak.cpp  ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 28


 125:hidtweak.cpp  ****         // prepare buffer for reading...
 126:hidtweak.cpp  ****         read_ptr_ = read_ptr_abs_ = 0;
 127:hidtweak.cpp  ****         buff_state_ = BUFFER_STATE_PREPARE_0;
 128:hidtweak.cpp  ****         Restart();
 129:hidtweak.cpp  ****         Prepare();
 130:hidtweak.cpp  **** 
 131:hidtweak.cpp  ****         return result;
 132:hidtweak.cpp  ****     }
 133:hidtweak.cpp  **** }
 134:hidtweak.cpp  **** 
 135:hidtweak.cpp  **** int WavPlayerT::OpenById(const char* id)
 136:hidtweak.cpp  **** {
 137:hidtweak.cpp  ****     // add extension
 138:hidtweak.cpp  ****     // find index based on filename
 139:hidtweak.cpp  ****     int idx = -1;
 140:hidtweak.cpp  ****     for(size_t i = 0; i < kMaxFiles; i++)
 141:hidtweak.cpp  ****     {
 142:hidtweak.cpp  ****         if(strstr(file_info_[i].name, id) != nullptr)
 143:hidtweak.cpp  ****         {
 144:hidtweak.cpp  ****             idx = i;
 145:hidtweak.cpp  ****             break;
 146:hidtweak.cpp  ****         }
 147:hidtweak.cpp  ****     }
 148:hidtweak.cpp  **** 
 149:hidtweak.cpp  ****     if(idx >= 0)
 150:hidtweak.cpp  ****         return Open(idx);
 151:hidtweak.cpp  ****     else
 152:hidtweak.cpp  ****         return FR_INVALID_NAME;
 153:hidtweak.cpp  **** }
 154:hidtweak.cpp  **** 
 155:hidtweak.cpp  **** int WavPlayerT::Close()
 156:hidtweak.cpp  **** {
 157:hidtweak.cpp  ****     return f_close(&fil_);
 158:hidtweak.cpp  **** }
 159:hidtweak.cpp  **** 
 160:hidtweak.cpp  **** int16_t WavPlayerT::Stream()
 161:hidtweak.cpp  **** {
 162:hidtweak.cpp  ****     int16_t samp;
 163:hidtweak.cpp  ****     if(playing_)
 164:hidtweak.cpp  ****     {
 165:hidtweak.cpp  ****         samp = buff_[read_ptr_];
 166:hidtweak.cpp  ****         // Increment rpo
 167:hidtweak.cpp  ****         read_ptr_ = (read_ptr_ + 1) % (bufferSize_ * numChannels_);
 168:hidtweak.cpp  ****         if(read_ptr_ == 0)
 169:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_1;
 170:hidtweak.cpp  ****         else if(read_ptr_ == bufferSize_ * numChannels_ / 2)
 171:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_0;
 172:hidtweak.cpp  **** 
 173:hidtweak.cpp  ****         // absolute pointer
 174:hidtweak.cpp  ****         read_ptr_abs_++;
 175:hidtweak.cpp  ****         read_ptr_abs_ %= file_info_[file_sel_].length;
 265              		.loc 18 175 37 view .LVU54
 266 0010 4FF00009 		mov	r9, #0
 267 0014 07F54058 		add	r8, r7, #12288
 268 0018 01F10805 		add	r5, r1, #8
 165:hidtweak.cpp  ****         // Increment rpo
 269              		.loc 18 165 16 view .LVU55
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 29


 270 001c D7F800B0 		ldr	fp, [r7]
 271              		.loc 18 175 37 view .LVU56
 272 0020 CA46     		mov	r10, r9
 273 0022 05EBC305 		add	r5, r5, r3, lsl #3
 274 0026 98F80129 		ldrb	r2, [r8, #2305]	@ zero_extendqisi2
 275              	.LVL5:
 276              		.loc 18 175 37 view .LVU57
 277              	.LBE386:
 278              	.LBE385:
 176:hidtweak.cpp  ****     }
 177:hidtweak.cpp  ****     else
 178:hidtweak.cpp  ****     {
 179:hidtweak.cpp  ****         samp = 0;
 180:hidtweak.cpp  ****         if(looping_)
 279              		.loc 18 180 12 view .LVU58
 280 002a 98F80069 		ldrb	r6, [r8, #2304]	@ zero_extendqisi2
 281 002e D8F8F838 		ldr	r3, [r8, #2296]
 282              	.LBB392:
 283              	.LBB387:
 175:hidtweak.cpp  ****     }
 284              		.loc 18 175 37 view .LVU59
 285 0032 CDF80490 		str	r9, [sp, #4]
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 286              		.loc 18 167 52 view .LVU60
 287 0036 D7E90104 		ldrd	r0, r4, [r7, #4]
 288              	.LVL6:
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 289              		.loc 18 167 52 view .LVU61
 290 003a 04FB00FE 		mul	lr, r4, r0
 175:hidtweak.cpp  ****     }
 291              		.loc 18 175 37 view .LVU62
 292 003e D8F8F048 		ldr	r4, [r8, #2288]
 170:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_0;
 293              		.loc 18 170 57 view .LVU63
 294 0042 4FEA5E00 		lsr	r0, lr, #1
 175:hidtweak.cpp  ****     }
 295              		.loc 18 175 37 view .LVU64
 296 0046 0094     		str	r4, [sp]
 170:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_0;
 297              		.loc 18 170 57 view .LVU65
 298 0048 0390     		str	r0, [sp, #12]
 299 004a 98F8F408 		ldrb	r0, [r8, #2292]	@ zero_extendqisi2
 300 004e 0290     		str	r0, [sp, #8]
 301 0050 D8F8FC08 		ldr	r0, [r8, #2300]
 302              	.LVL7:
 303              	.L11:
 170:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_0;
 304              		.loc 18 170 57 view .LVU66
 305              	.LBE387:
 306              	.LBE392:
 307              	.LBE384:
 308              	.LBE383:
  35:WavPlayerTweak.cpp ****     {
  36:WavPlayerTweak.cpp ****         // stream sampelrs
  37:WavPlayerTweak.cpp ****         samp_out  = s162f(p1.Stream());
 309              		.loc 17 37 9 is_stmt 1 view .LVU67
 310              	.LBB401:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 30


 311              	.LBI383:
 160:hidtweak.cpp  **** {
 312              		.loc 18 160 9 view .LVU68
 313              	.LBB397:
 162:hidtweak.cpp  ****     if(playing_)
 314              		.loc 18 162 5 view .LVU69
 163:hidtweak.cpp  ****     {
 315              		.loc 18 163 5 view .LVU70
 316 0054 002A     		cmp	r2, #0
 317 0056 40D0     		beq	.L8
 318              	.LVL8:
 319              	.LBB393:
 320              	.LBI385:
 160:hidtweak.cpp  **** {
 321              		.loc 18 160 9 view .LVU71
 322              	.LBB388:
 165:hidtweak.cpp  ****         // Increment rpo
 323              		.loc 18 165 9 view .LVU72
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 324              		.loc 18 167 32 is_stmt 0 view .LVU73
 325 0058 5C1C     		adds	r4, r3, #1
 165:hidtweak.cpp  ****         // Increment rpo
 326              		.loc 18 165 14 view .LVU74
 327 005a 3BF91330 		ldrsh	r3, [fp, r3, lsl #1]
 328 005e 07EE903A 		vmov	s15, r3	@ int
 329              	.LVL9:
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 330              		.loc 18 167 9 is_stmt 1 view .LVU75
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 331              		.loc 18 167 37 is_stmt 0 view .LVU76
 332 0062 B4FBFEF3 		udiv	r3, r4, lr
 333 0066 0EFB1343 		mls	r3, lr, r3, r4
 168:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_1;
 334              		.loc 18 168 9 is_stmt 1 view .LVU77
 335 006a 002B     		cmp	r3, #0
 336 006c 3CD0     		beq	.L17
 170:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_0;
 337              		.loc 18 170 14 view .LVU78
 338 006e 039C     		ldr	r4, [sp, #12]
 339 0070 A342     		cmp	r3, r4
 340 0072 02D1     		bne	.L9
 171:hidtweak.cpp  **** 
 341              		.loc 18 171 25 is_stmt 0 view .LVU79
 342 0074 0124     		movs	r4, #1
 343 0076 9146     		mov	r9, r2
 344 0078 0294     		str	r4, [sp, #8]
 345              	.L9:
 174:hidtweak.cpp  ****         read_ptr_abs_ %= file_info_[file_sel_].length;
 346              		.loc 18 174 9 is_stmt 1 view .LVU80
 175:hidtweak.cpp  ****     }
 347              		.loc 18 175 9 view .LVU81
 174:hidtweak.cpp  ****         read_ptr_abs_ %= file_info_[file_sel_].length;
 348              		.loc 18 174 22 is_stmt 0 view .LVU82
 349 007a 00F1010C 		add	ip, r0, #1
 175:hidtweak.cpp  ****     }
 350              		.loc 18 175 48 view .LVU83
 351 007e 009C     		ldr	r4, [sp]
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 31


 352 0080 4FF40C70 		mov	r0, #560
 353              	.LBE388:
 354              	.LBE393:
 355              	.LBE397:
 356              	.LBE401:
 357              	.LBB402:
 358              	.LBB403:
 359              		.file 19 "../../libDaisy/src/daisy_core.h"
   1:../../libDaisy/src/daisy_core.h **** #pragma once
   2:../../libDaisy/src/daisy_core.h **** #ifndef DSY_CORE_HW_H
   3:../../libDaisy/src/daisy_core.h **** #define DSY_CORE_HW_H /**< & */
   4:../../libDaisy/src/daisy_core.h **** #include <stdint.h>
   5:../../libDaisy/src/daisy_core.h **** #include <stdlib.h>
   6:../../libDaisy/src/daisy_core.h **** 
   7:../../libDaisy/src/daisy_core.h **** #if defined(_MSC_VER)
   8:../../libDaisy/src/daisy_core.h **** #define FORCE_INLINE __forceinline /**< & */
   9:../../libDaisy/src/daisy_core.h **** #elif defined(__clang__)
  10:../../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  11:../../libDaisy/src/daisy_core.h **** #pragma clang diagnostic ignored "-Wduplicate-decl-specifier"
  12:../../libDaisy/src/daisy_core.h **** #elif defined(__GNUC__)
  13:../../libDaisy/src/daisy_core.h **** #define FORCE_INLINE inline __attribute__((always_inline)) /**< & */
  14:../../libDaisy/src/daisy_core.h **** #else
  15:../../libDaisy/src/daisy_core.h **** #error unknown compiler
  16:../../libDaisy/src/daisy_core.h **** #endif
  17:../../libDaisy/src/daisy_core.h **** 
  18:../../libDaisy/src/daisy_core.h **** /** @addtogroup utility
  19:../../libDaisy/src/daisy_core.h ****     @{
  20:../../libDaisy/src/daisy_core.h **** */
  21:../../libDaisy/src/daisy_core.h **** 
  22:../../libDaisy/src/daisy_core.h **** /** Macro for area of memory that is configured as cacheless
  23:../../libDaisy/src/daisy_core.h **** This should be used primarily for DMA buffers, and the like.
  24:../../libDaisy/src/daisy_core.h **** */
  25:../../libDaisy/src/daisy_core.h **** #define DMA_BUFFER_MEM_SECTION __attribute__((section(".sram1_bss")))
  26:../../libDaisy/src/daisy_core.h **** /** 
  27:../../libDaisy/src/daisy_core.h **** THE DTCM RAM section is also non-cached. However, is not suitable 
  28:../../libDaisy/src/daisy_core.h **** for DMA transfers. Performance is on par with internal SRAM w/ 
  29:../../libDaisy/src/daisy_core.h **** cache enabled.
  30:../../libDaisy/src/daisy_core.h **** */
  31:../../libDaisy/src/daisy_core.h **** #define DTCM_MEM_SECTION __attribute__((section(".dtcmram_bss")))
  32:../../libDaisy/src/daisy_core.h **** 
  33:../../libDaisy/src/daisy_core.h **** #define FBIPMAX 0.999985f             /**< close to 1.0f-LSB at 16 bit */
  34:../../libDaisy/src/daisy_core.h **** #define FBIPMIN (-FBIPMAX)            /**< - (1 - LSB) */
  35:../../libDaisy/src/daisy_core.h **** #define U82F_SCALE 0.0078740f         /**< 1 / 127 */
  36:../../libDaisy/src/daisy_core.h **** #define F2U8_SCALE 127.0f             /**< 128 - 1 */
  37:../../libDaisy/src/daisy_core.h **** #define S82F_SCALE 0.0078125f         /**< 1 / (2**7) */
  38:../../libDaisy/src/daisy_core.h **** #define F2S8_SCALE 127.0f             /**< (2 ** 7) - 1 */
  39:../../libDaisy/src/daisy_core.h **** #define S162F_SCALE 3.0517578125e-05f /**< 1 / (2** 15) */
  40:../../libDaisy/src/daisy_core.h **** #define F2S16_SCALE 32767.0f          /**< (2 ** 15) - 1 */
  41:../../libDaisy/src/daisy_core.h **** #define F2S24_SCALE 8388608.0f        /**< 2 ** 23 */
  42:../../libDaisy/src/daisy_core.h **** #define S242F_SCALE 1.192092896e-07f  /**< 1 / (2 ** 23) */
  43:../../libDaisy/src/daisy_core.h **** #define S24SIGN 0x800000              /**< 2 ** 23 */
  44:../../libDaisy/src/daisy_core.h **** #define S322F_SCALE 4.6566129e-10f    /**< 1 / (2** 31) */
  45:../../libDaisy/src/daisy_core.h **** #define F2S32_SCALE 2147483647.f      /**< (2 ** 31) - 1 */
  46:../../libDaisy/src/daisy_core.h **** 
  47:../../libDaisy/src/daisy_core.h **** 
  48:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  49:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 32


  50:../../libDaisy/src/daisy_core.h **** #define OUT_L out[0]
  51:../../libDaisy/src/daisy_core.h **** 
  52:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  53:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved output buffer named out */
  54:../../libDaisy/src/daisy_core.h **** #define OUT_R out[1]
  55:../../libDaisy/src/daisy_core.h **** 
  56:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the left 
  57:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  58:../../libDaisy/src/daisy_core.h **** #define IN_L in[0]
  59:../../libDaisy/src/daisy_core.h **** 
  60:../../libDaisy/src/daisy_core.h **** /** shorthand macro for simplifying the reading of the right 
  61:../../libDaisy/src/daisy_core.h ****  *  channel of a non-interleaved input buffer named in */
  62:../../libDaisy/src/daisy_core.h **** #define IN_R in[1]
  63:../../libDaisy/src/daisy_core.h **** 
  64:../../libDaisy/src/daisy_core.h **** /** 
  65:../../libDaisy/src/daisy_core.h ****     Computes cube.
  66:../../libDaisy/src/daisy_core.h ****     \param x Number to be cubed
  67:../../libDaisy/src/daisy_core.h ****     \return x ^ 3
  68:../../libDaisy/src/daisy_core.h **** */
  69:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float cube(float x)
  70:../../libDaisy/src/daisy_core.h **** {
  71:../../libDaisy/src/daisy_core.h ****     return (x * x) * x;
  72:../../libDaisy/src/daisy_core.h **** }
  73:../../libDaisy/src/daisy_core.h **** 
  74:../../libDaisy/src/daisy_core.h **** /** 
  75:../../libDaisy/src/daisy_core.h ****     Converts unsigned 8-bit to float
  76:../../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  77:../../libDaisy/src/daisy_core.h ****     \return Scaled number.
  78:../../libDaisy/src/daisy_core.h **** */
  79:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float u82f(uint8_t x)
  80:../../libDaisy/src/daisy_core.h **** {
  81:../../libDaisy/src/daisy_core.h ****     return ((float)x - 127.f) * U82F_SCALE;
  82:../../libDaisy/src/daisy_core.h **** }
  83:../../libDaisy/src/daisy_core.h **** 
  84:../../libDaisy/src/daisy_core.h **** /**
  85:../../libDaisy/src/daisy_core.h ****     Converts float to unsigned 8-bit
  86:../../libDaisy/src/daisy_core.h **** */
  87:../../libDaisy/src/daisy_core.h **** FORCE_INLINE uint8_t f2u8(float x)
  88:../../libDaisy/src/daisy_core.h **** {
  89:../../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
  90:../../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
  91:../../libDaisy/src/daisy_core.h ****     return (uint8_t)((x * F2U8_SCALE) + F2U8_SCALE);
  92:../../libDaisy/src/daisy_core.h **** }
  93:../../libDaisy/src/daisy_core.h **** 
  94:../../libDaisy/src/daisy_core.h **** 
  95:../../libDaisy/src/daisy_core.h **** /** 
  96:../../libDaisy/src/daisy_core.h ****     Converts Signed 8-bit to float
  97:../../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
  98:../../libDaisy/src/daisy_core.h ****     \return Scaled number.
  99:../../libDaisy/src/daisy_core.h **** */
 100:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float s82f(int8_t x)
 101:../../libDaisy/src/daisy_core.h **** {
 102:../../libDaisy/src/daisy_core.h ****     return (float)x * S82F_SCALE;
 103:../../libDaisy/src/daisy_core.h **** }
 104:../../libDaisy/src/daisy_core.h **** 
 105:../../libDaisy/src/daisy_core.h **** /**
 106:../../libDaisy/src/daisy_core.h ****     Converts float to Signed 8-bit
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 33


 107:../../libDaisy/src/daisy_core.h **** */
 108:../../libDaisy/src/daisy_core.h **** FORCE_INLINE int8_t f2s8(float x)
 109:../../libDaisy/src/daisy_core.h **** {
 110:../../libDaisy/src/daisy_core.h ****     x = x <= FBIPMIN ? FBIPMIN : x;
 111:../../libDaisy/src/daisy_core.h ****     x = x >= FBIPMAX ? FBIPMAX : x;
 112:../../libDaisy/src/daisy_core.h ****     return (int32_t)(x * F2S8_SCALE);
 113:../../libDaisy/src/daisy_core.h **** }
 114:../../libDaisy/src/daisy_core.h **** 
 115:../../libDaisy/src/daisy_core.h **** /** 
 116:../../libDaisy/src/daisy_core.h ****     Converts Signed 16-bit to float
 117:../../libDaisy/src/daisy_core.h ****     \param x Number to be scaled.
 118:../../libDaisy/src/daisy_core.h ****     \return Scaled number.
 119:../../libDaisy/src/daisy_core.h **** */
 120:../../libDaisy/src/daisy_core.h **** FORCE_INLINE float s162f(int16_t x)
 121:../../libDaisy/src/daisy_core.h **** {
 122:../../libDaisy/src/daisy_core.h ****     return (float)x * S162F_SCALE;
 360              		.loc 19 122 23 view .LVU84
 361 0084 FAEEE87A 		vcvt.f32.s32	s15, s15, #15
 362              	.LVL10:
 363              		.loc 19 122 23 view .LVU85
 364              	.LBE403:
 365              	.LBE402:
  38:WavPlayerTweak.cpp ****         // samp_out += s162f(p2.Stream());
  39:WavPlayerTweak.cpp **** 
  40:WavPlayerTweak.cpp ****         out[i] = out[i+1] = samp_out * .25f;
 366              		.loc 17 40 38 view .LVU86
 367 0088 B5EE007A 		vmov.f32	s14, #2.5e-1
 368 008c 9246     		mov	r10, r2
 369              	.LBB405:
 370              	.LBB398:
 371              	.LBB394:
 372              	.LBB389:
 175:hidtweak.cpp  ****     }
 373              		.loc 18 175 48 view .LVU87
 374 008e 04FB0000 		mla	r0, r4, r0, r0
 375 0092 3844     		add	r0, r0, r7
 376              	.LBE389:
 377              	.LBE394:
 378              	.LBE398:
 379              	.LBE405:
 380              		.loc 17 40 38 view .LVU88
 381 0094 67EE877A 		vmul.f32	s15, s15, s14
 382              	.LBB406:
 383              	.LBB399:
 384              	.LBB395:
 385              	.LBB390:
 175:hidtweak.cpp  ****     }
 386              		.loc 18 175 23 view .LVU89
 387 0098 8068     		ldr	r0, [r0, #8]
 388 009a BCFBF0F4 		udiv	r4, ip, r0
 389 009e 00FB14C0 		mls	r0, r0, r4, ip
 181:hidtweak.cpp  ****             playing_ = true;
 182:hidtweak.cpp  ****     }
 183:hidtweak.cpp  ****     return samp;
 390              		.loc 18 183 5 is_stmt 1 view .LVU90
 391              	.LVL11:
 392              	.L10:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 34


 393              		.loc 18 183 5 is_stmt 0 view .LVU91
 394              	.LBE390:
 395              	.LBE395:
 396              		.loc 18 183 5 is_stmt 1 view .LVU92
 397              		.loc 18 183 5 is_stmt 0 view .LVU93
 398              	.LBE399:
 399              	.LBE406:
 400              	.LBB407:
 401              	.LBI402:
 120:../../libDaisy/src/daisy_core.h **** {
 402              		.loc 19 120 20 is_stmt 1 view .LVU94
 403              	.LBB404:
 404              		.loc 19 122 5 view .LVU95
 405              		.loc 19 122 5 is_stmt 0 view .LVU96
 406              	.LBE404:
 407              	.LBE407:
 408              		.loc 17 40 9 is_stmt 1 view .LVU97
 409              		.loc 17 40 27 is_stmt 0 view .LVU98
 410 00a2 C1ED017A 		vstr.32	s15, [r1, #4]
 411              		.loc 17 40 16 view .LVU99
 412 00a6 0C46     		mov	r4, r1
 413 00a8 0831     		adds	r1, r1, #8
 414 00aa C4ED007A 		vstr.32	s15, [r4]
  34:WavPlayerTweak.cpp ****     {
 415              		.loc 17 34 5 is_stmt 1 view .LVU100
  34:WavPlayerTweak.cpp ****     {
 416              		.loc 17 34 25 view .LVU101
 417 00ae 8D42     		cmp	r5, r1
 418 00b0 D0D1     		bne	.L11
 419 00b2 0199     		ldr	r1, [sp, #4]
 420 00b4 09B1     		cbz	r1, .L12
 421 00b6 88F80129 		strb	r2, [r8, #2305]
 422              	.L12:
 423 00ba BAF1000F 		cmp	r10, #0
 424 00be 18D0     		beq	.L13
 425 00c0 C8F8F838 		str	r3, [r8, #2296]
 426 00c4 B9F1000F 		cmp	r9, #0
 427 00c8 02D0     		beq	.L16
 428 00ca 029B     		ldr	r3, [sp, #8]
 429 00cc 88F8F438 		strb	r3, [r8, #2292]
 430              	.L16:
 431 00d0 C8F8FC08 		str	r0, [r8, #2300]
 432              	.L5:
 433              	.LBE409:
  41:WavPlayerTweak.cpp ****     }
  42:WavPlayerTweak.cpp **** }
 434              		.loc 17 42 1 is_stmt 0 view .LVU102
 435 00d4 05B0     		add	sp, sp, #20
 436              		.cfi_remember_state
 437              		.cfi_def_cfa_offset 36
 438              		@ sp needed
 439 00d6 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 440              	.LVL12:
 441              	.L8:
 442              		.cfi_restore_state
 443              	.LBB410:
 444              	.LBB408:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 35


 445              	.LBB400:
 179:hidtweak.cpp  ****         if(looping_)
 446              		.loc 18 179 9 is_stmt 1 view .LVU103
 180:hidtweak.cpp  ****             playing_ = true;
 447              		.loc 18 180 9 view .LVU104
 448 00da DFED0A7A 		vldr.32	s15, .L31+4
 449 00de 002E     		cmp	r6, #0
 450 00e0 DFD0     		beq	.L10
 181:hidtweak.cpp  ****     }
 451              		.loc 18 181 22 is_stmt 0 view .LVU105
 452 00e2 3246     		mov	r2, r6
 180:hidtweak.cpp  ****             playing_ = true;
 453              		.loc 18 180 9 view .LVU106
 454 00e4 0196     		str	r6, [sp, #4]
 455 00e6 DCE7     		b	.L10
 456              	.LVL13:
 457              	.L17:
 458              	.LBB396:
 459              	.LBB391:
 169:hidtweak.cpp  ****         else if(read_ptr_ == bufferSize_ * numChannels_ / 2)
 460              		.loc 18 169 25 view .LVU107
 461 00e8 0224     		movs	r4, #2
 462 00ea 9146     		mov	r9, r2
 463 00ec 0294     		str	r4, [sp, #8]
 464 00ee C4E7     		b	.L9
 465              	.LVL14:
 466              	.L28:
 467              		.cfi_def_cfa_offset 0
 468              		.cfi_restore 4
 469              		.cfi_restore 5
 470              		.cfi_restore 6
 471              		.cfi_restore 7
 472              		.cfi_restore 8
 473              		.cfi_restore 9
 474              		.cfi_restore 10
 475              		.cfi_restore 11
 476              		.cfi_restore 14
 169:hidtweak.cpp  ****         else if(read_ptr_ == bufferSize_ * numChannels_ / 2)
 477              		.loc 18 169 25 view .LVU108
 478 00f0 7047     		bx	lr
 479              	.LVL15:
 480              	.L13:
 481              		.cfi_def_cfa_offset 56
 482              		.cfi_offset 4, -36
 483              		.cfi_offset 5, -32
 484              		.cfi_offset 6, -28
 485              		.cfi_offset 7, -24
 486              		.cfi_offset 8, -20
 487              		.cfi_offset 9, -16
 488              		.cfi_offset 10, -12
 489              		.cfi_offset 11, -8
 490              		.cfi_offset 14, -4
 169:hidtweak.cpp  ****         else if(read_ptr_ == bufferSize_ * numChannels_ / 2)
 491              		.loc 18 169 25 view .LVU109
 492 00f2 B9F1000F 		cmp	r9, #0
 493 00f6 EDD0     		beq	.L5
 494 00f8 029B     		ldr	r3, [sp, #8]
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 36


 495 00fa 88F8F438 		strb	r3, [r8, #2292]
 496 00fe E9E7     		b	.L5
 497              	.L32:
 498              		.align	2
 499              	.L31:
 500 0100 00000000 		.word	p1
 501 0104 00000000 		.word	0
 502              	.LBE391:
 503              	.LBE396:
 504              	.LBE400:
 505              	.LBE408:
 506              	.LBE410:
 507              		.cfi_endproc
 508              	.LFE4711:
 510              		.section	.rodata._ZN5daisy10WavPlayerT4InitEPKcPsjj.str1.4,"aMS",%progbits,1
 511              		.align	2
 512              	.LC0:
 513 0000 2E776176 		.ascii	".wav\000"
 513      00
 514 0005 000000   		.align	2
 515              	.LC1:
 516 0008 2E574156 		.ascii	".WAV\000"
 516      00
 517 000d 000000   		.align	2
 518              	.LC2:
 519 0010 303A2F00 		.ascii	"0:/\000"
 520              		.align	2
 521              	.LC3:
 522 0014 2F00     		.ascii	"/\000"
 523              		.section	.text._ZN5daisy10WavPlayerT4InitEPKcPsjj,"ax",%progbits
 524              		.align	1
 525              		.p2align 2,,3
 526              		.global	_ZN5daisy10WavPlayerT4InitEPKcPsjj
 527              		.syntax unified
 528              		.thumb
 529              		.thumb_func
 531              	_ZN5daisy10WavPlayerT4InitEPKcPsjj:
 532              	.LVL16:
 533              	.LFB4702:
  13:hidtweak.cpp  ****     buff_        = buffer;
 534              		.loc 18 13 1 is_stmt 1 view -0
 535              		.cfi_startproc
 536              		@ args = 4, pretend = 0, frame = 336
 537              		@ frame_needed = 0, uses_anonymous_args = 0
  14:hidtweak.cpp  ****     bufferSize_  = bufferSize / numChannels;
 538              		.loc 18 14 5 view .LVU111
  13:hidtweak.cpp  ****     buff_        = buffer;
 539              		.loc 18 13 1 is_stmt 0 view .LVU112
 540 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 541              		.cfi_def_cfa_offset 28
 542              		.cfi_offset 4, -28
 543              		.cfi_offset 5, -24
 544              		.cfi_offset 6, -20
 545              		.cfi_offset 7, -16
 546              		.cfi_offset 8, -12
 547              		.cfi_offset 9, -8
 548              		.cfi_offset 14, -4
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 37


 549 0004 D5B0     		sub	sp, sp, #340
 550              		.cfi_def_cfa_offset 368
  14:hidtweak.cpp  ****     bufferSize_  = bufferSize / numChannels;
 551              		.loc 18 14 18 view .LVU113
 552 0006 0260     		str	r2, [r0]
  15:hidtweak.cpp  ****     numChannels_ = numChannels;
 553              		.loc 18 15 5 is_stmt 1 view .LVU114
  24:hidtweak.cpp  ****     file_cnt_ = 0;
 554              		.loc 18 24 15 is_stmt 0 view .LVU115
 555 0008 00F54056 		add	r6, r0, #12288
  13:hidtweak.cpp  ****     buff_        = buffer;
 556              		.loc 18 13 1 view .LVU116
 557 000c 0746     		mov	r7, r0
 558 000e 5C9A     		ldr	r2, [sp, #368]
 559              	.LVL17:
  13:hidtweak.cpp  ****     buff_        = buffer;
 560              		.loc 18 13 1 view .LVU117
 561 0010 8946     		mov	r9, r1
  15:hidtweak.cpp  ****     numChannels_ = numChannels;
 562              		.loc 18 15 31 view .LVU118
 563 0012 B3FBF2F3 		udiv	r3, r3, r2
 564              	.LVL18:
  15:hidtweak.cpp  ****     numChannels_ = numChannels;
 565              		.loc 18 15 18 view .LVU119
 566 0016 C0E90132 		strd	r3, r2, [r0, #4]
  16:hidtweak.cpp  **** 
 567              		.loc 18 16 5 is_stmt 1 view .LVU120
  20:hidtweak.cpp  ****     FILINFO fno;
 568              		.loc 18 20 5 view .LVU121
 569              	.LVL19:
  21:hidtweak.cpp  ****     DIR     dir;
 570              		.loc 18 21 5 view .LVU122
  22:hidtweak.cpp  ****     char   *fn;
 571              		.loc 18 22 5 view .LVU123
  23:hidtweak.cpp  ****     file_sel_ = 0;
 572              		.loc 18 23 5 view .LVU124
  24:hidtweak.cpp  ****     file_cnt_ = 0;
 573              		.loc 18 24 5 view .LVU125
  24:hidtweak.cpp  ****     file_cnt_ = 0;
 574              		.loc 18 24 15 is_stmt 0 view .LVU126
 575 001a 0023     		movs	r3, #0
  30:hidtweak.cpp  ****     if(result != FR_OK)
 576              		.loc 18 30 23 view .LVU127
 577 001c 02A8     		add	r0, sp, #8
 578              	.LVL20:
  24:hidtweak.cpp  ****     file_cnt_ = 0;
 579              		.loc 18 24 15 view .LVU128
 580 001e C6F8F038 		str	r3, [r6, #2288]
  25:hidtweak.cpp  ****     playing_  = false;
 581              		.loc 18 25 5 is_stmt 1 view .LVU129
  25:hidtweak.cpp  ****     playing_  = false;
 582              		.loc 18 25 15 is_stmt 0 view .LVU130
 583 0022 C6F8EC38 		str	r3, [r6, #2284]
  26:hidtweak.cpp  ****     looping_  = false;
 584              		.loc 18 26 5 is_stmt 1 view .LVU131
  27:hidtweak.cpp  **** 
 585              		.loc 18 27 5 view .LVU132
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 38


  27:hidtweak.cpp  **** 
 586              		.loc 18 27 15 is_stmt 0 view .LVU133
 587 0026 A6F80039 		strh	r3, [r6, #2304]	@ movhi
  30:hidtweak.cpp  ****     if(result != FR_OK)
 588              		.loc 18 30 5 is_stmt 1 view .LVU134
  30:hidtweak.cpp  ****     if(result != FR_OK)
 589              		.loc 18 30 23 is_stmt 0 view .LVU135
 590 002a FFF7FEFF 		bl	f_opendir
 591              	.LVL21:
  31:hidtweak.cpp  ****     {
 592              		.loc 18 31 5 is_stmt 1 view .LVU136
 593 002e 0446     		mov	r4, r0
 594 0030 0028     		cmp	r0, #0
 595 0032 61D1     		bne	.L34
 596              	.LVL22:
 597              	.L35:
  36:hidtweak.cpp  ****     {
 598              		.loc 18 36 5 view .LVU137
  38:hidtweak.cpp  ****         // Exit if bad read or NULL fname
 599              		.loc 18 38 9 view .LVU138
  38:hidtweak.cpp  ****         // Exit if bad read or NULL fname
 600              		.loc 18 38 27 is_stmt 0 view .LVU139
 601 0034 0EA9     		add	r1, sp, #56
 602 0036 02A8     		add	r0, sp, #8
 603 0038 FFF7FEFF 		bl	f_readdir
 604              	.LVL23:
  43:hidtweak.cpp  ****             continue;
 605              		.loc 18 43 9 is_stmt 1 view .LVU140
  46:hidtweak.cpp  ****         if(file_cnt_ < kMaxFiles - 1)
 606              		.loc 18 46 9 view .LVU141
  47:hidtweak.cpp  ****         {
 607              		.loc 18 47 9 view .LVU142
  49:hidtweak.cpp  ****             {
 608              		.loc 18 49 13 view .LVU143
  38:hidtweak.cpp  ****         // Exit if bad read or NULL fname
 609              		.loc 18 38 27 is_stmt 0 view .LVU144
 610 003c 0446     		mov	r4, r0
 611              	.LVL24:
  40:hidtweak.cpp  ****             break;
 612              		.loc 18 40 9 is_stmt 1 view .LVU145
  51:hidtweak.cpp  ****                 strcpy(file_info_[file_cnt_].path, search_path);
 613              		.loc 18 51 46 is_stmt 0 view .LVU146
 614 003e 4FF40C78 		mov	r8, #560
  49:hidtweak.cpp  ****             {
 615              		.loc 18 49 22 view .LVU147
 616 0042 4849     		ldr	r1, .L60
 617 0044 0DF14E00 		add	r0, sp, #78
 618              	.LVL25:
  40:hidtweak.cpp  ****             break;
 619              		.loc 18 40 9 view .LVU148
 620 0048 002C     		cmp	r4, #0
 621 004a 59D1     		bne	.L36
  40:hidtweak.cpp  ****             break;
 622              		.loc 18 40 42 discriminator 1 view .LVU149
 623 004c 9DF84E40 		ldrb	r4, [sp, #78]	@ zero_extendqisi2
 624              	.LVL26:
  40:hidtweak.cpp  ****             break;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 39


 625              		.loc 18 40 28 discriminator 1 view .LVU150
 626 0050 002C     		cmp	r4, #0
 627 0052 55D0     		beq	.L36
 628 0054 9DF84040 		ldrb	r4, [sp, #64]	@ zero_extendqisi2
  43:hidtweak.cpp  ****             continue;
 629              		.loc 18 43 9 view .LVU151
 630 0058 14F01204 		ands	r4, r4, #18
 631 005c EAD1     		bne	.L35
  47:hidtweak.cpp  ****         {
 632              		.loc 18 47 12 view .LVU152
 633 005e D6F8EC58 		ldr	r5, [r6, #2284]
  47:hidtweak.cpp  ****         {
 634              		.loc 18 47 9 view .LVU153
 635 0062 182D     		cmp	r5, #24
 636 0064 4CD8     		bhi	.L36
  49:hidtweak.cpp  ****             {
 637              		.loc 18 49 22 view .LVU154
 638 0066 FFF7FEFF 		bl	strstr
 639              	.LVL27:
  49:hidtweak.cpp  ****             {
 640              		.loc 18 49 22 view .LVU155
 641 006a 0346     		mov	r3, r0
  49:hidtweak.cpp  ****             {
 642              		.loc 18 49 44 view .LVU156
 643 006c 3E49     		ldr	r1, .L60+4
 644 006e 0DF14E00 		add	r0, sp, #78
 645              	.LVL28:
  49:hidtweak.cpp  ****             {
 646              		.loc 18 49 13 view .LVU157
 647 0072 3BB3     		cbz	r3, .L58
 648              	.LVL29:
 649              	.L38:
  51:hidtweak.cpp  ****                 strcpy(file_info_[file_cnt_].path, search_path);
 650              		.loc 18 51 17 is_stmt 1 view .LVU158
  51:hidtweak.cpp  ****                 strcpy(file_info_[file_cnt_].path, search_path);
 651              		.loc 18 51 46 is_stmt 0 view .LVU159
 652 0074 08FB0575 		mla	r5, r8, r5, r7
  51:hidtweak.cpp  ****                 strcpy(file_info_[file_cnt_].path, search_path);
 653              		.loc 18 51 23 view .LVU160
 654 0078 0DF14E01 		add	r1, sp, #78
 655              	.LVL30:
  51:hidtweak.cpp  ****                 strcpy(file_info_[file_cnt_].path, search_path);
 656              		.loc 18 51 23 view .LVU161
 657 007c 05F13800 		add	r0, r5, #56
 658 0080 FFF7FEFF 		bl	strcpy
 659              	.LVL31:
  52:hidtweak.cpp  **** 
 660              		.loc 18 52 17 is_stmt 1 view .LVU162
  52:hidtweak.cpp  **** 
 661              		.loc 18 52 46 is_stmt 0 view .LVU163
 662 0084 D6F8EC08 		ldr	r0, [r6, #2284]
  52:hidtweak.cpp  **** 
 663              		.loc 18 52 23 view .LVU164
 664 0088 4946     		mov	r1, r9
  52:hidtweak.cpp  **** 
 665              		.loc 18 52 46 view .LVU165
 666 008a 08FB0070 		mla	r0, r8, r0, r7
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 40


  52:hidtweak.cpp  **** 
 667              		.loc 18 52 23 view .LVU166
 668 008e 00F59C70 		add	r0, r0, #312
 669 0092 FFF7FEFF 		bl	strcpy
 670              	.LVL32:
  55:hidtweak.cpp  ****                 {
 671              		.loc 18 55 17 is_stmt 1 view .LVU167
  55:hidtweak.cpp  ****                 {
 672              		.loc 18 55 26 is_stmt 0 view .LVU168
 673 0096 3549     		ldr	r1, .L60+8
 674 0098 4846     		mov	r0, r9
 675 009a FFF7FEFF 		bl	strcmp
 676              	.LVL33:
  55:hidtweak.cpp  ****                 {
 677              		.loc 18 55 17 view .LVU169
 678 009e B0B9     		cbnz	r0, .L59
 679              	.L39:
  60:hidtweak.cpp  ****                 file_cnt_++;
 680              		.loc 18 60 17 is_stmt 1 view .LVU170
  60:hidtweak.cpp  ****                 file_cnt_++;
 681              		.loc 18 60 46 is_stmt 0 view .LVU171
 682 00a0 4FF40C73 		mov	r3, #560
 683 00a4 D6F8EC08 		ldr	r0, [r6, #2284]
  60:hidtweak.cpp  ****                 file_cnt_++;
 684              		.loc 18 60 23 view .LVU172
 685 00a8 0DF14E01 		add	r1, sp, #78
 686              	.LVL34:
  60:hidtweak.cpp  ****                 file_cnt_++;
 687              		.loc 18 60 46 view .LVU173
 688 00ac 03FB0070 		mla	r0, r3, r0, r7
  60:hidtweak.cpp  ****                 file_cnt_++;
 689              		.loc 18 60 23 view .LVU174
 690 00b0 00F59C70 		add	r0, r0, #312
 691 00b4 FFF7FEFF 		bl	strcat
 692              	.LVL35:
  61:hidtweak.cpp  ****                 // For now lets break anyway to test.
 693              		.loc 18 61 17 is_stmt 1 view .LVU175
  61:hidtweak.cpp  ****                 // For now lets break anyway to test.
 694              		.loc 18 61 26 is_stmt 0 view .LVU176
 695 00b8 D6F8EC38 		ldr	r3, [r6, #2284]
 696 00bc 0133     		adds	r3, r3, #1
 697 00be C6F8EC38 		str	r3, [r6, #2284]
 698 00c2 B7E7     		b	.L35
 699              	.LVL36:
 700              	.L58:
  49:hidtweak.cpp  ****             {
 701              		.loc 18 49 44 discriminator 1 view .LVU177
 702 00c4 FFF7FEFF 		bl	strstr
 703              	.LVL37:
  49:hidtweak.cpp  ****             {
 704              		.loc 18 49 35 discriminator 1 view .LVU178
 705 00c8 0028     		cmp	r0, #0
 706 00ca D3D1     		bne	.L38
 707 00cc B2E7     		b	.L35
 708              	.L59:
  57:hidtweak.cpp  ****                 }
 709              		.loc 18 57 21 is_stmt 1 view .LVU179
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 41


  57:hidtweak.cpp  ****                 }
 710              		.loc 18 57 50 is_stmt 0 view .LVU180
 711 00ce D6F8EC38 		ldr	r3, [r6, #2284]
 712 00d2 08FB0378 		mla	r8, r8, r3, r7
 713 00d6 08F59C78 		add	r8, r8, #312
  57:hidtweak.cpp  ****                 }
 714              		.loc 18 57 27 view .LVU181
 715 00da 4046     		mov	r0, r8
 716 00dc FFF7FEFF 		bl	strlen
 717              	.LVL38:
 718 00e0 234B     		ldr	r3, .L60+12
 719 00e2 1B88     		ldrh	r3, [r3]	@ unaligned
 720 00e4 28F80030 		strh	r3, [r8, r0]	@ unaligned
 721 00e8 DAE7     		b	.L39
 722              	.LVL39:
 723              	.L40:
 102:hidtweak.cpp  ****     read_ptr_ = read_ptr_abs_ = 0;
 724              		.loc 18 102 5 is_stmt 1 view .LVU182
 102:hidtweak.cpp  ****     read_ptr_ = read_ptr_abs_ = 0;
 725              		.loc 18 102 17 is_stmt 0 view .LVU183
 726 00ea 0023     		movs	r3, #0
 727 00ec 86F8F438 		strb	r3, [r6, #2292]
 103:hidtweak.cpp  **** 
 728              		.loc 18 103 5 is_stmt 1 view .LVU184
 103:hidtweak.cpp  **** 
 729              		.loc 18 103 31 is_stmt 0 view .LVU185
 730 00f0 C6F8FC38 		str	r3, [r6, #2300]
 103:hidtweak.cpp  **** 
 731              		.loc 18 103 15 view .LVU186
 732 00f4 C6F8F838 		str	r3, [r6, #2296]
 105:hidtweak.cpp  **** }
 733              		.loc 18 105 5 is_stmt 1 view .LVU187
 734              	.LVL40:
 735              	.L34:
 106:hidtweak.cpp  **** 
 736              		.loc 18 106 1 is_stmt 0 view .LVU188
 737 00f8 2046     		mov	r0, r4
 738 00fa 55B0     		add	sp, sp, #340
 739              		.cfi_remember_state
 740              		.cfi_def_cfa_offset 28
 741              		@ sp needed
 742 00fc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 743              	.LVL41:
 744              	.L36:
 745              		.cfi_restore_state
  71:hidtweak.cpp  ****     // Now we'll go through each file and load the WavInfo.
 746              		.loc 18 71 5 is_stmt 1 view .LVU189
  71:hidtweak.cpp  ****     // Now we'll go through each file and load the WavInfo.
 747              		.loc 18 71 15 is_stmt 0 view .LVU190
 748 0100 02A8     		add	r0, sp, #8
 749              	.LVL42:
  71:hidtweak.cpp  ****     // Now we'll go through each file and load the WavInfo.
 750              		.loc 18 71 15 view .LVU191
 751 0102 FFF7FEFF 		bl	f_closedir
 752              	.LVL43:
  73:hidtweak.cpp  ****     {
 753              		.loc 18 73 5 is_stmt 1 view .LVU192
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 42


 754              	.LBB411:
  73:hidtweak.cpp  ****     {
 755              		.loc 18 73 25 view .LVU193
 756 0106 D6F8EC38 		ldr	r3, [r6, #2284]
 757 010a 002B     		cmp	r3, #0
 758 010c EDD0     		beq	.L40
 759              	.LBB412:
  76:hidtweak.cpp  ****            == FR_OK)
 760              		.loc 18 76 18 is_stmt 0 view .LVU194
 761 010e 43F60418 		movw	r8, #14596
 762 0112 07F10C05 		add	r5, r7, #12
 763 0116 B844     		add	r8, r8, r7
 764              	.LBE412:
  73:hidtweak.cpp  ****     {
 765              		.loc 18 73 16 view .LVU195
 766 0118 0027     		movs	r7, #0
 767              	.LVL44:
  73:hidtweak.cpp  ****     {
 768              		.loc 18 73 16 view .LVU196
 769 011a 05E0     		b	.L43
 770              	.LVL45:
 771              	.L41:
  73:hidtweak.cpp  ****     {
 772              		.loc 18 73 5 is_stmt 1 view .LVU197
  73:hidtweak.cpp  ****     {
 773              		.loc 18 73 25 view .LVU198
 774 011c D6F8EC38 		ldr	r3, [r6, #2284]
 775 0120 05F50C75 		add	r5, r5, #560
 776 0124 BB42     		cmp	r3, r7
 777 0126 E0D9     		bls	.L40
 778              	.LVL46:
 779              	.L43:
 780              	.LBB413:
  75:hidtweak.cpp  ****         if(f_open(&fil_, file_info_[i].path, (FA_OPEN_EXISTING | FA_READ))
 781              		.loc 18 75 9 view .LVU199
  76:hidtweak.cpp  ****            == FR_OK)
 782              		.loc 18 76 9 view .LVU200
  76:hidtweak.cpp  ****            == FR_OK)
 783              		.loc 18 76 18 is_stmt 0 view .LVU201
 784 0128 05F59671 		add	r1, r5, #300
 785 012c 0122     		movs	r2, #1
 786 012e 4046     		mov	r0, r8
 787              	.LBE413:
  73:hidtweak.cpp  ****     {
 788              		.loc 18 73 5 view .LVU202
 789 0130 0137     		adds	r7, r7, #1
 790              	.LVL47:
 791              	.LBB414:
  76:hidtweak.cpp  ****            == FR_OK)
 792              		.loc 18 76 18 view .LVU203
 793 0132 FFF7FEFF 		bl	f_open
 794              	.LVL48:
  76:hidtweak.cpp  ****            == FR_OK)
 795              		.loc 18 76 9 view .LVU204
 796 0136 0028     		cmp	r0, #0
 797 0138 F0D1     		bne	.L41
  80:hidtweak.cpp  ****                             (void *)&file_info_[i].raw_data,
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 43


 798              		.loc 18 80 13 is_stmt 1 view .LVU205
  80:hidtweak.cpp  ****                             (void *)&file_info_[i].raw_data,
 799              		.loc 18 80 28 is_stmt 0 view .LVU206
 800 013a 2946     		mov	r1, r5
 801 013c 01AB     		add	r3, sp, #4
 802 013e 2C22     		movs	r2, #44
 803 0140 4046     		mov	r0, r8
 804 0142 FFF7FEFF 		bl	f_read
 805              	.LVL49:
  91:hidtweak.cpp  ****                                  - file_info_[i].raw_data.SubChunk1Size
 806              		.loc 18 91 13 is_stmt 1 view .LVU207
  95:hidtweak.cpp  **** 
 807              		.loc 18 95 13 view .LVU208
  80:hidtweak.cpp  ****                             (void *)&file_info_[i].raw_data,
 808              		.loc 18 80 28 is_stmt 0 view .LVU209
 809 0146 0446     		mov	r4, r0
 810              	.LVL50:
  84:hidtweak.cpp  ****             {
 811              		.loc 18 84 13 is_stmt 1 view .LVU210
  97:hidtweak.cpp  ****         }
 812              		.loc 18 97 20 is_stmt 0 view .LVU211
 813 0148 4046     		mov	r0, r8
  84:hidtweak.cpp  ****             {
 814              		.loc 18 84 13 view .LVU212
 815 014a 002C     		cmp	r4, #0
 816 014c D4D1     		bne	.L34
  93:hidtweak.cpp  **** 
 817              		.loc 18 93 34 view .LVU213
 818 014e 6B68     		ldr	r3, [r5, #4]
 819 0150 2A69     		ldr	r2, [r5, #16]
 820 0152 2C3B     		subs	r3, r3, #44
 821 0154 9B1A     		subs	r3, r3, r2
  95:hidtweak.cpp  **** 
 822              		.loc 18 95 34 view .LVU214
 823 0156 5B08     		lsrs	r3, r3, #1
 824 0158 C5F82C32 		str	r3, [r5, #556]
  97:hidtweak.cpp  ****         }
 825              		.loc 18 97 13 is_stmt 1 view .LVU215
  97:hidtweak.cpp  ****         }
 826              		.loc 18 97 20 is_stmt 0 view .LVU216
 827 015c FFF7FEFF 		bl	f_close
 828              	.LVL51:
 829 0160 DCE7     		b	.L41
 830              	.L61:
 831 0162 00BF     		.align	2
 832              	.L60:
 833 0164 00000000 		.word	.LC0
 834 0168 08000000 		.word	.LC1
 835 016c 10000000 		.word	.LC2
 836 0170 14000000 		.word	.LC3
 837              	.LBE414:
 838              	.LBE411:
 839              		.cfi_endproc
 840              	.LFE4702:
 842              		.section	.text._ZN5daisy10WavPlayerT5CloseEv,"ax",%progbits
 843              		.align	1
 844              		.p2align 2,,3
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 44


 845              		.global	_ZN5daisy10WavPlayerT5CloseEv
 846              		.syntax unified
 847              		.thumb
 848              		.thumb_func
 850              	_ZN5daisy10WavPlayerT5CloseEv:
 851              	.LVL52:
 852              	.LFB4705:
 156:hidtweak.cpp  ****     return f_close(&fil_);
 853              		.loc 18 156 1 is_stmt 1 view -0
 854              		.cfi_startproc
 855              		@ args = 0, pretend = 0, frame = 0
 856              		@ frame_needed = 0, uses_anonymous_args = 0
 157:hidtweak.cpp  **** }
 857              		.loc 18 157 5 view .LVU218
 156:hidtweak.cpp  ****     return f_close(&fil_);
 858              		.loc 18 156 1 is_stmt 0 view .LVU219
 859 0000 08B5     		push	{r3, lr}
 860              		.cfi_def_cfa_offset 8
 861              		.cfi_offset 3, -8
 862              		.cfi_offset 14, -4
 156:hidtweak.cpp  ****     return f_close(&fil_);
 863              		.loc 18 156 1 view .LVU220
 864 0002 0346     		mov	r3, r0
 157:hidtweak.cpp  **** }
 865              		.loc 18 157 19 view .LVU221
 866 0004 43F60410 		movw	r0, #14596
 867              	.LVL53:
 157:hidtweak.cpp  **** }
 868              		.loc 18 157 19 view .LVU222
 869 0008 1844     		add	r0, r0, r3
 870 000a FFF7FEFF 		bl	f_close
 871              	.LVL54:
 158:hidtweak.cpp  **** 
 872              		.loc 18 158 1 view .LVU223
 873 000e 08BD     		pop	{r3, pc}
 874              		.cfi_endproc
 875              	.LFE4705:
 877              		.section	.text._ZN5daisy10WavPlayerT6StreamEv,"ax",%progbits
 878              		.align	1
 879              		.p2align 2,,3
 880              		.global	_ZN5daisy10WavPlayerT6StreamEv
 881              		.syntax unified
 882              		.thumb
 883              		.thumb_func
 885              	_ZN5daisy10WavPlayerT6StreamEv:
 886              	.LVL55:
 887              	.LFB4706:
 161:hidtweak.cpp  ****     int16_t samp;
 888              		.loc 18 161 1 is_stmt 1 view -0
 889              		.cfi_startproc
 890              		@ args = 0, pretend = 0, frame = 0
 891              		@ frame_needed = 0, uses_anonymous_args = 0
 162:hidtweak.cpp  ****     if(playing_)
 892              		.loc 18 162 5 view .LVU225
 163:hidtweak.cpp  ****     {
 893              		.loc 18 163 5 view .LVU226
 163:hidtweak.cpp  ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 45


 894              		.loc 18 163 8 is_stmt 0 view .LVU227
 895 0000 00F5405C 		add	ip, r0, #12288
 161:hidtweak.cpp  ****     int16_t samp;
 896              		.loc 18 161 1 view .LVU228
 897 0004 0346     		mov	r3, r0
 163:hidtweak.cpp  ****     {
 898              		.loc 18 163 5 view .LVU229
 899 0006 9CF80109 		ldrb	r0, [ip, #2305]	@ zero_extendqisi2
 900              	.LVL56:
 163:hidtweak.cpp  ****     {
 901              		.loc 18 163 5 view .LVU230
 902 000a 30B3     		cbz	r0, .L65
 903              	.LVL57:
 904              	.LBB417:
 905              	.LBI417:
 160:hidtweak.cpp  **** {
 906              		.loc 18 160 9 is_stmt 1 view .LVU231
 907              	.LBB418:
 165:hidtweak.cpp  ****         // Increment rpo
 908              		.loc 18 165 9 view .LVU232
 165:hidtweak.cpp  ****         // Increment rpo
 909              		.loc 18 165 22 is_stmt 0 view .LVU233
 910 000c DCF8F828 		ldr	r2, [ip, #2296]
 165:hidtweak.cpp  ****         // Increment rpo
 911              		.loc 18 165 14 view .LVU234
 912 0010 D3E90001 		ldrd	r0, r1, [r3]
 913              	.LBE418:
 914              	.LBE417:
 161:hidtweak.cpp  ****     int16_t samp;
 915              		.loc 18 161 1 view .LVU235
 916 0014 10B5     		push	{r4, lr}
 917              		.cfi_def_cfa_offset 8
 918              		.cfi_offset 4, -8
 919              		.cfi_offset 14, -4
 920              	.LBB421:
 921              	.LBB419:
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 922              		.loc 18 167 52 view .LVU236
 923 0016 9C68     		ldr	r4, [r3, #8]
 165:hidtweak.cpp  ****         // Increment rpo
 924              		.loc 18 165 14 view .LVU237
 925 0018 30F91200 		ldrsh	r0, [r0, r2, lsl #1]
 926              	.LVL58:
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 927              		.loc 18 167 9 is_stmt 1 view .LVU238
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 928              		.loc 18 167 32 is_stmt 0 view .LVU239
 929 001c 0132     		adds	r2, r2, #1
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 930              		.loc 18 167 52 view .LVU240
 931 001e 04FB01F1 		mul	r1, r4, r1
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 932              		.loc 18 167 37 view .LVU241
 933 0022 B2FBF1FE 		udiv	lr, r2, r1
 934 0026 01FB1E22 		mls	r2, r1, lr, r2
 167:hidtweak.cpp  ****         if(read_ptr_ == 0)
 935              		.loc 18 167 19 view .LVU242
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 46


 936 002a CCF8F828 		str	r2, [ip, #2296]
 168:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_1;
 937              		.loc 18 168 9 is_stmt 1 view .LVU243
 938 002e EAB9     		cbnz	r2, .L66
 169:hidtweak.cpp  ****         else if(read_ptr_ == bufferSize_ * numChannels_ / 2)
 939              		.loc 18 169 13 view .LVU244
 169:hidtweak.cpp  ****         else if(read_ptr_ == bufferSize_ * numChannels_ / 2)
 940              		.loc 18 169 25 is_stmt 0 view .LVU245
 941 0030 0222     		movs	r2, #2
 942 0032 8CF8F428 		strb	r2, [ip, #2292]
 943              	.L67:
 174:hidtweak.cpp  ****         read_ptr_abs_ %= file_info_[file_sel_].length;
 944              		.loc 18 174 9 is_stmt 1 view .LVU246
 175:hidtweak.cpp  ****     }
 945              		.loc 18 175 9 view .LVU247
 175:hidtweak.cpp  ****     }
 946              		.loc 18 175 48 is_stmt 0 view .LVU248
 947 0036 DCF8F048 		ldr	r4, [ip, #2288]
 948 003a 4FF40C71 		mov	r1, #560
 174:hidtweak.cpp  ****         read_ptr_abs_ %= file_info_[file_sel_].length;
 949              		.loc 18 174 22 view .LVU249
 950 003e DCF8FC28 		ldr	r2, [ip, #2300]
 175:hidtweak.cpp  ****     }
 951              		.loc 18 175 48 view .LVU250
 952 0042 04FB0111 		mla	r1, r4, r1, r1
 174:hidtweak.cpp  ****         read_ptr_abs_ %= file_info_[file_sel_].length;
 953              		.loc 18 174 22 view .LVU251
 954 0046 0132     		adds	r2, r2, #1
 175:hidtweak.cpp  ****     }
 955              		.loc 18 175 48 view .LVU252
 956 0048 0B44     		add	r3, r3, r1
 957              	.LVL59:
 175:hidtweak.cpp  ****     }
 958              		.loc 18 175 23 view .LVU253
 959 004a 9B68     		ldr	r3, [r3, #8]
 960 004c B2FBF3F1 		udiv	r1, r2, r3
 961 0050 03FB1122 		mls	r2, r3, r1, r2
 962 0054 CCF8FC28 		str	r2, [ip, #2300]
 963              		.loc 18 183 5 is_stmt 1 view .LVU254
 964              	.LVL60:
 965              		.loc 18 183 5 is_stmt 0 view .LVU255
 966              	.LBE419:
 967              	.LBE421:
 968              		.loc 18 183 5 is_stmt 1 view .LVU256
 184:hidtweak.cpp  **** }
 969              		.loc 18 184 1 is_stmt 0 view .LVU257
 970 0058 10BD     		pop	{r4, pc}
 971              	.LVL61:
 972              	.L65:
 973              		.cfi_def_cfa_offset 0
 974              		.cfi_restore 4
 975              		.cfi_restore 14
 179:hidtweak.cpp  ****         if(looping_)
 976              		.loc 18 179 9 is_stmt 1 view .LVU258
 180:hidtweak.cpp  ****             playing_ = true;
 977              		.loc 18 180 9 view .LVU259
 978 005a 9CF80039 		ldrb	r3, [ip, #2304]	@ zero_extendqisi2
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 47


 979              	.LVL62:
 180:hidtweak.cpp  ****             playing_ = true;
 980              		.loc 18 180 9 is_stmt 0 view .LVU260
 981 005e 1BB1     		cbz	r3, .L69
 181:hidtweak.cpp  ****     }
 982              		.loc 18 181 13 is_stmt 1 view .LVU261
 181:hidtweak.cpp  ****     }
 983              		.loc 18 181 22 is_stmt 0 view .LVU262
 984 0060 0123     		movs	r3, #1
 985 0062 8CF80139 		strb	r3, [ip, #2305]
 986 0066 7047     		bx	lr
 987              	.L69:
 179:hidtweak.cpp  ****         if(looping_)
 988              		.loc 18 179 14 view .LVU263
 989 0068 1846     		mov	r0, r3
 990              	.LVL63:
 183:hidtweak.cpp  **** }
 991              		.loc 18 183 5 is_stmt 1 view .LVU264
 992              		.loc 18 184 1 is_stmt 0 view .LVU265
 993 006a 7047     		bx	lr
 994              	.LVL64:
 995              	.L66:
 996              		.cfi_def_cfa_offset 8
 997              		.cfi_offset 4, -8
 998              		.cfi_offset 14, -4
 999              	.LBB422:
 1000              	.LBB420:
 170:hidtweak.cpp  ****             buff_state_ = BUFFER_STATE_PREPARE_0;
 1001              		.loc 18 170 14 is_stmt 1 view .LVU266
 1002 006c B2EB510F 		cmp	r2, r1, lsr #1
 1003 0070 E1D1     		bne	.L67
 171:hidtweak.cpp  **** 
 1004              		.loc 18 171 13 view .LVU267
 171:hidtweak.cpp  **** 
 1005              		.loc 18 171 25 is_stmt 0 view .LVU268
 1006 0072 0122     		movs	r2, #1
 1007 0074 8CF8F428 		strb	r2, [ip, #2292]
 1008 0078 DDE7     		b	.L67
 1009              	.LBE420:
 1010              	.LBE422:
 1011              		.cfi_endproc
 1012              	.LFE4706:
 1014 007a 00BF     		.section	.text._ZN5daisy10WavPlayerT7PrepareEv,"ax",%progbits
 1015              		.align	1
 1016              		.p2align 2,,3
 1017              		.global	_ZN5daisy10WavPlayerT7PrepareEv
 1018              		.syntax unified
 1019              		.thumb
 1020              		.thumb_func
 1022              	_ZN5daisy10WavPlayerT7PrepareEv:
 1023              	.LVL65:
 1024              	.LFB4707:
 185:hidtweak.cpp  **** 
 186:hidtweak.cpp  **** int WavPlayerT::Prepare()
 187:hidtweak.cpp  **** {
 1025              		.loc 18 187 1 is_stmt 1 view -0
 1026              		.cfi_startproc
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 48


 1027              		@ args = 0, pretend = 0, frame = 8
 1028              		@ frame_needed = 0, uses_anonymous_args = 0
 188:hidtweak.cpp  ****     FRESULT readres = FR_OK;
 1029              		.loc 18 188 5 view .LVU270
 189:hidtweak.cpp  **** 
 190:hidtweak.cpp  ****     if(buff_state_ != BUFFER_STATE_IDLE)
 1030              		.loc 18 190 5 view .LVU271
 187:hidtweak.cpp  ****     FRESULT readres = FR_OK;
 1031              		.loc 18 187 1 is_stmt 0 view .LVU272
 1032 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1033              		.cfi_def_cfa_offset 24
 1034              		.cfi_offset 4, -24
 1035              		.cfi_offset 5, -20
 1036              		.cfi_offset 6, -16
 1037              		.cfi_offset 7, -12
 1038              		.cfi_offset 8, -8
 1039              		.cfi_offset 14, -4
 1040              	.LBB427:
 1041              		.loc 18 190 8 view .LVU273
 1042 0004 00F54055 		add	r5, r0, #12288
 1043              	.LBE427:
 187:hidtweak.cpp  ****     FRESULT readres = FR_OK;
 1044              		.loc 18 187 1 view .LVU274
 1045 0008 82B0     		sub	sp, sp, #8
 1046              		.cfi_def_cfa_offset 32
 1047              	.LBB434:
 1048              		.loc 18 190 8 view .LVU275
 1049 000a 95F8F438 		ldrb	r3, [r5, #2292]	@ zero_extendqisi2
 1050              		.loc 18 190 5 view .LVU276
 1051 000e 33B3     		cbz	r3, .L80
 1052 0010 0446     		mov	r4, r0
 1053              	.LBB428:
 191:hidtweak.cpp  ****     {
 192:hidtweak.cpp  ****         size_t offset, bytesread, rxsize;
 1054              		.loc 18 192 9 is_stmt 1 view .LVU277
 193:hidtweak.cpp  ****         bytesread = 0;
 1055              		.loc 18 193 9 view .LVU278
 1056              		.loc 18 193 19 is_stmt 0 view .LVU279
 1057 0012 0021     		movs	r1, #0
 194:hidtweak.cpp  ****         rxsize    = bufferSize_ * numChannels_ * sizeof(buff_[0]) / 2;
 195:hidtweak.cpp  ****         offset    = buff_state_ == BUFFER_STATE_PREPARE_1
 196:hidtweak.cpp  ****                         ? bufferSize_ * numChannels_ / 2
 1058              		.loc 18 196 25 view .LVU280
 1059 0014 022B     		cmp	r3, #2
 193:hidtweak.cpp  ****         bytesread = 0;
 1060              		.loc 18 193 19 view .LVU281
 1061 0016 0191     		str	r1, [sp, #4]
 194:hidtweak.cpp  ****         rxsize    = bufferSize_ * numChannels_ * sizeof(buff_[0]) / 2;
 1062              		.loc 18 194 9 is_stmt 1 view .LVU282
 194:hidtweak.cpp  ****         rxsize    = bufferSize_ * numChannels_ * sizeof(buff_[0]) / 2;
 1063              		.loc 18 194 33 is_stmt 0 view .LVU283
 1064 0018 D0E90102 		ldrd	r0, r2, [r0, #4]
 1065              	.LVL66:
 194:hidtweak.cpp  ****         rxsize    = bufferSize_ * numChannels_ * sizeof(buff_[0]) / 2;
 1066              		.loc 18 194 33 view .LVU284
 1067 001c 02FB00F0 		mul	r0, r2, r0
 194:hidtweak.cpp  ****         rxsize    = bufferSize_ * numChannels_ * sizeof(buff_[0]) / 2;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 49


 1068              		.loc 18 194 19 view .LVU285
 1069 0020 20F00046 		bic	r6, r0, #-2147483648
 1070              	.LVL67:
 195:hidtweak.cpp  ****                         ? bufferSize_ * numChannels_ / 2
 1071              		.loc 18 195 9 is_stmt 1 view .LVU286
 1072              		.loc 18 196 25 is_stmt 0 view .LVU287
 1073 0024 29D0     		beq	.L83
 1074 0026 0F46     		mov	r7, r1
 1075              	.L76:
 1076              	.LVL68:
 197:hidtweak.cpp  ****                         : 0;
 198:hidtweak.cpp  **** 
 199:hidtweak.cpp  ****         readres = f_read(&fil_, &buff_[offset], rxsize, &bytesread);
 1077              		.loc 18 199 9 is_stmt 1 view .LVU288
 1078              		.loc 18 199 25 is_stmt 0 view .LVU289
 1079 0028 43F60418 		movw	r8, #14596
 1080              		.loc 18 199 33 view .LVU290
 1081 002c 2368     		ldr	r3, [r4]
 1082              		.loc 18 199 25 view .LVU291
 1083 002e 3246     		mov	r2, r6
 1084 0030 A044     		add	r8, r8, r4
 1085 0032 1944     		add	r1, r1, r3
 1086 0034 01AB     		add	r3, sp, #4
 1087 0036 4046     		mov	r0, r8
 1088 0038 FFF7FEFF 		bl	f_read
 1089              	.LVL69:
 200:hidtweak.cpp  **** 
 201:hidtweak.cpp  ****         if(bytesread < rxsize || f_eof(&fil_))
 1090              		.loc 18 201 9 view .LVU292
 1091 003c 019A     		ldr	r2, [sp, #4]
 199:hidtweak.cpp  **** 
 1092              		.loc 18 199 25 view .LVU293
 1093 003e 0346     		mov	r3, r0
 1094              	.LVL70:
 1095              		.loc 18 201 9 is_stmt 1 view .LVU294
 1096 0040 B242     		cmp	r2, r6
 1097 0042 10D3     		bcc	.L77
 1098              		.loc 18 201 31 is_stmt 0 discriminator 1 view .LVU295
 1099 0044 D5F81819 		ldr	r1, [r5, #2328]
 1100 0048 D5F81029 		ldr	r2, [r5, #2320]
 1101 004c 9142     		cmp	r1, r2
 1102 004e 0AD0     		beq	.L77
 202:hidtweak.cpp  ****         {
 203:hidtweak.cpp  ****             if(looping_)
 204:hidtweak.cpp  ****             {
 205:hidtweak.cpp  ****                 Restart();
 206:hidtweak.cpp  ****                 readres = f_read(&fil_,
 207:hidtweak.cpp  ****                                  &buff_[offset + (bytesread / 2)],
 208:hidtweak.cpp  ****                                  rxsize - bytesread,
 209:hidtweak.cpp  ****                                  &bytesread);
 210:hidtweak.cpp  ****             }
 211:hidtweak.cpp  ****             else
 212:hidtweak.cpp  ****             {
 213:hidtweak.cpp  ****                 playing_ = false;
 214:hidtweak.cpp  ****             }
 215:hidtweak.cpp  ****         }
 216:hidtweak.cpp  ****         buff_state_ = BUFFER_STATE_IDLE;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 50


 1103              		.loc 18 216 9 is_stmt 1 view .LVU296
 1104              		.loc 18 216 21 is_stmt 0 view .LVU297
 1105 0050 0022     		movs	r2, #0
 1106              	.LBE428:
 1107              	.LBE434:
 217:hidtweak.cpp  ****     }
 218:hidtweak.cpp  **** 
 219:hidtweak.cpp  ****     return readres;
 1108              		.loc 18 219 12 view .LVU298
 1109 0052 1846     		mov	r0, r3
 1110              	.LBB435:
 1111              	.LBB431:
 216:hidtweak.cpp  ****     }
 1112              		.loc 18 216 21 view .LVU299
 1113 0054 85F8F428 		strb	r2, [r5, #2292]
 1114              	.LVL71:
 1115              	.L85:
 216:hidtweak.cpp  ****     }
 1116              		.loc 18 216 21 view .LVU300
 1117              	.LBE431:
 1118              	.LBE435:
 220:hidtweak.cpp  **** }
 1119              		.loc 18 220 1 view .LVU301
 1120 0058 02B0     		add	sp, sp, #8
 1121              		.cfi_remember_state
 1122              		.cfi_def_cfa_offset 24
 1123              		@ sp needed
 1124 005a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1125              	.LVL72:
 1126              	.L80:
 1127              		.cfi_restore_state
 1128              	.LBB436:
 1129              		.loc 18 220 1 view .LVU302
 1130 005e 1846     		mov	r0, r3
 1131              	.LVL73:
 1132              		.loc 18 220 1 view .LVU303
 1133              	.LBE436:
 219:hidtweak.cpp  **** }
 1134              		.loc 18 219 5 is_stmt 1 view .LVU304
 1135              		.loc 18 220 1 is_stmt 0 view .LVU305
 1136 0060 02B0     		add	sp, sp, #8
 1137              		.cfi_remember_state
 1138              		.cfi_def_cfa_offset 24
 1139              		@ sp needed
 1140 0062 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1141              	.LVL74:
 1142              	.L77:
 1143              		.cfi_restore_state
 1144              	.LBB437:
 1145              	.LBB432:
 203:hidtweak.cpp  ****             {
 1146              		.loc 18 203 13 is_stmt 1 view .LVU306
 1147 0066 95F80029 		ldrb	r2, [r5, #2304]	@ zero_extendqisi2
 1148 006a 52B9     		cbnz	r2, .L84
 213:hidtweak.cpp  ****             }
 1149              		.loc 18 213 17 view .LVU307
 213:hidtweak.cpp  ****             }
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 51


 1150              		.loc 18 213 26 is_stmt 0 view .LVU308
 1151 006c 85F80129 		strb	r2, [r5, #2305]
 216:hidtweak.cpp  ****     }
 1152              		.loc 18 216 9 is_stmt 1 view .LVU309
 216:hidtweak.cpp  ****     }
 1153              		.loc 18 216 21 is_stmt 0 view .LVU310
 1154 0070 0022     		movs	r2, #0
 1155              	.LBE432:
 1156              	.LBE437:
 219:hidtweak.cpp  **** }
 1157              		.loc 18 219 12 view .LVU311
 1158 0072 1846     		mov	r0, r3
 1159              	.LBB438:
 1160              	.LBB433:
 216:hidtweak.cpp  ****     }
 1161              		.loc 18 216 21 view .LVU312
 1162 0074 85F8F428 		strb	r2, [r5, #2292]
 1163 0078 EEE7     		b	.L85
 1164              	.LVL75:
 1165              	.L83:
 196:hidtweak.cpp  ****                         : 0;
 1166              		.loc 18 196 25 discriminator 1 view .LVU313
 1167 007a 4708     		lsrs	r7, r0, #1
 199:hidtweak.cpp  **** 
 1168              		.loc 18 199 46 discriminator 1 view .LVU314
 1169 007c 20F00101 		bic	r1, r0, #1
 1170 0080 D2E7     		b	.L76
 1171              	.LVL76:
 1172              	.L84:
 205:hidtweak.cpp  ****                 readres = f_read(&fil_,
 1173              		.loc 18 205 17 is_stmt 1 view .LVU315
 1174              	.LBB429:
 1175              	.LBI429:
 221:hidtweak.cpp  **** 
 222:hidtweak.cpp  **** void WavPlayerT::Restart()
 1176              		.loc 18 222 6 view .LVU316
 1177              	.LBB430:
 223:hidtweak.cpp  **** {
 224:hidtweak.cpp  ****     f_lseek(&fil_,
 1178              		.loc 18 224 5 view .LVU317
 225:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 226:hidtweak.cpp  ****                 + file_info_[file_sel_].raw_data.SubChunk1Size);
 1179              		.loc 18 226 50 is_stmt 0 view .LVU318
 1180 0082 4FF40C72 		mov	r2, #560
 1181 0086 D5F8F038 		ldr	r3, [r5, #2288]
 1182              	.LVL77:
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1183              		.loc 18 224 12 view .LVU319
 1184 008a 4046     		mov	r0, r8
 1185              		.loc 18 226 50 view .LVU320
 1186 008c 02FB0343 		mla	r3, r2, r3, r4
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1187              		.loc 18 224 12 view .LVU321
 1188 0090 D969     		ldr	r1, [r3, #28]
 1189 0092 2C31     		adds	r1, r1, #44
 1190 0094 FFF7FEFF 		bl	f_lseek
 1191              	.LVL78:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 52


 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1192              		.loc 18 224 12 view .LVU322
 1193              	.LBE430:
 1194              	.LBE429:
 206:hidtweak.cpp  ****                                  &buff_[offset + (bytesread / 2)],
 1195              		.loc 18 206 17 is_stmt 1 view .LVU323
 207:hidtweak.cpp  ****                                  rxsize - bytesread,
 1196              		.loc 18 207 61 is_stmt 0 view .LVU324
 1197 0098 019A     		ldr	r2, [sp, #4]
 207:hidtweak.cpp  ****                                  rxsize - bytesread,
 1198              		.loc 18 207 34 view .LVU325
 1199 009a 2168     		ldr	r1, [r4]
 206:hidtweak.cpp  ****                                  &buff_[offset + (bytesread / 2)],
 1200              		.loc 18 206 33 view .LVU326
 1201 009c 01AB     		add	r3, sp, #4
 207:hidtweak.cpp  ****                                  rxsize - bytesread,
 1202              		.loc 18 207 48 view .LVU327
 1203 009e 07EB5207 		add	r7, r7, r2, lsr #1
 1204              	.LVL79:
 206:hidtweak.cpp  ****                                  &buff_[offset + (bytesread / 2)],
 1205              		.loc 18 206 33 view .LVU328
 1206 00a2 4046     		mov	r0, r8
 1207 00a4 B21A     		subs	r2, r6, r2
 1208 00a6 01EB4701 		add	r1, r1, r7, lsl #1
 1209 00aa FFF7FEFF 		bl	f_read
 1210              	.LVL80:
 216:hidtweak.cpp  ****     }
 1211              		.loc 18 216 21 view .LVU329
 1212 00ae 0022     		movs	r2, #0
 206:hidtweak.cpp  ****                                  &buff_[offset + (bytesread / 2)],
 1213              		.loc 18 206 33 view .LVU330
 1214 00b0 0346     		mov	r3, r0
 1215              	.LVL81:
 216:hidtweak.cpp  ****     }
 1216              		.loc 18 216 9 is_stmt 1 view .LVU331
 216:hidtweak.cpp  ****     }
 1217              		.loc 18 216 21 is_stmt 0 view .LVU332
 1218 00b2 85F8F428 		strb	r2, [r5, #2292]
 1219              	.LBE433:
 1220              	.LBE438:
 219:hidtweak.cpp  **** }
 1221              		.loc 18 219 12 view .LVU333
 1222 00b6 1846     		mov	r0, r3
 1223 00b8 CEE7     		b	.L85
 1224              		.cfi_endproc
 1225              	.LFE4707:
 1227 00ba 00BF     		.section	.text._ZN5daisy10WavPlayerT4OpenEj,"ax",%progbits
 1228              		.align	1
 1229              		.p2align 2,,3
 1230              		.global	_ZN5daisy10WavPlayerT4OpenEj
 1231              		.syntax unified
 1232              		.thumb
 1233              		.thumb_func
 1235              	_ZN5daisy10WavPlayerT4OpenEj:
 1236              	.LVL82:
 1237              	.LFB4703:
 110:hidtweak.cpp  ****     if(sel != file_sel_)
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 53


 1238              		.loc 18 110 1 is_stmt 1 view -0
 1239              		.cfi_startproc
 1240              		@ args = 0, pretend = 0, frame = 0
 1241              		@ frame_needed = 0, uses_anonymous_args = 0
 110:hidtweak.cpp  ****     if(sel != file_sel_)
 1242              		.loc 18 110 1 is_stmt 0 view .LVU335
 1243 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1244              		.cfi_def_cfa_offset 24
 1245              		.cfi_offset 4, -24
 1246              		.cfi_offset 5, -20
 1247              		.cfi_offset 6, -16
 1248              		.cfi_offset 7, -12
 1249              		.cfi_offset 8, -8
 1250              		.cfi_offset 14, -4
 111:hidtweak.cpp  ****     {
 1251              		.loc 18 111 15 view .LVU336
 1252 0004 00F54057 		add	r7, r0, #12288
 113:hidtweak.cpp  ****         file_sel_ = sel < file_cnt_ ? sel : file_cnt_ - 1;
 1253              		.loc 18 113 16 view .LVU337
 1254 0008 43F60416 		movw	r6, #14596
 110:hidtweak.cpp  ****     if(sel != file_sel_)
 1255              		.loc 18 110 1 view .LVU338
 1256 000c 0546     		mov	r5, r0
 111:hidtweak.cpp  ****     {
 1257              		.loc 18 111 5 is_stmt 1 view .LVU339
 110:hidtweak.cpp  ****     if(sel != file_sel_)
 1258              		.loc 18 110 1 is_stmt 0 view .LVU340
 1259 000e 0C46     		mov	r4, r1
 111:hidtweak.cpp  ****     {
 1260              		.loc 18 111 5 view .LVU341
 1261 0010 D7F8F038 		ldr	r3, [r7, #2288]
 113:hidtweak.cpp  ****         file_sel_ = sel < file_cnt_ ? sel : file_cnt_ - 1;
 1262              		.loc 18 113 16 view .LVU342
 1263 0014 0644     		add	r6, r6, r0
 111:hidtweak.cpp  ****     {
 1264              		.loc 18 111 5 view .LVU343
 1265 0016 8B42     		cmp	r3, r1
 1266 0018 0AD0     		beq	.L88
 113:hidtweak.cpp  ****         file_sel_ = sel < file_cnt_ ? sel : file_cnt_ - 1;
 1267              		.loc 18 113 9 is_stmt 1 view .LVU344
 113:hidtweak.cpp  ****         file_sel_ = sel < file_cnt_ ? sel : file_cnt_ - 1;
 1268              		.loc 18 113 16 is_stmt 0 view .LVU345
 1269 001a 3046     		mov	r0, r6
 1270              	.LVL83:
 113:hidtweak.cpp  ****         file_sel_ = sel < file_cnt_ ? sel : file_cnt_ - 1;
 1271              		.loc 18 113 16 view .LVU346
 1272 001c FFF7FEFF 		bl	f_close
 1273              	.LVL84:
 114:hidtweak.cpp  ****     }
 1274              		.loc 18 114 9 is_stmt 1 view .LVU347
 114:hidtweak.cpp  ****     }
 1275              		.loc 18 114 27 is_stmt 0 view .LVU348
 1276 0020 D7F8EC38 		ldr	r3, [r7, #2284]
 114:hidtweak.cpp  ****     }
 1277              		.loc 18 114 37 view .LVU349
 1278 0024 A342     		cmp	r3, r4
 1279 0026 98BF     		it	ls
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 54


 1280 0028 03F1FF34 		addls	r4, r3, #-1
 1281              	.LVL85:
 114:hidtweak.cpp  ****     }
 1282              		.loc 18 114 19 view .LVU350
 1283 002c C7F8F048 		str	r4, [r7, #2288]
 1284              	.L88:
 118:hidtweak.cpp  ****         &fil_, file_info_[file_sel_].path, (FA_OPEN_EXISTING | FA_READ)))
 1285              		.loc 18 118 5 is_stmt 1 view .LVU351
 1286              	.LBB445:
 119:hidtweak.cpp  ****     {
 1287              		.loc 18 119 38 is_stmt 0 view .LVU352
 1288 0030 4FF40C78 		mov	r8, #560
 118:hidtweak.cpp  ****         &fil_, file_info_[file_sel_].path, (FA_OPEN_EXISTING | FA_READ)))
 1289              		.loc 18 118 27 view .LVU353
 1290 0034 0122     		movs	r2, #1
 1291 0036 3046     		mov	r0, r6
 119:hidtweak.cpp  ****     {
 1292              		.loc 18 119 38 view .LVU354
 1293 0038 08FB0451 		mla	r1, r8, r4, r5
 118:hidtweak.cpp  ****         &fil_, file_info_[file_sel_].path, (FA_OPEN_EXISTING | FA_READ)))
 1294              		.loc 18 118 27 view .LVU355
 1295 003c 01F59C71 		add	r1, r1, #312
 1296 0040 FFF7FEFF 		bl	f_open
 1297              	.LVL86:
 118:hidtweak.cpp  ****         &fil_, file_info_[file_sel_].path, (FA_OPEN_EXISTING | FA_READ)))
 1298              		.loc 18 118 5 view .LVU356
 1299 0044 0446     		mov	r4, r0
 1300 0046 10B1     		cbz	r0, .L92
 1301              	.LBE445:
 133:hidtweak.cpp  **** 
 1302              		.loc 18 133 1 view .LVU357
 1303 0048 2046     		mov	r0, r4
 133:hidtweak.cpp  **** 
 1304              		.loc 18 133 1 view .LVU358
 1305 004a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1306              	.LVL87:
 1307              	.L92:
 1308              	.LBB446:
 1309              	.LBI446:
 109:hidtweak.cpp  **** {
 1310              		.loc 18 109 5 is_stmt 1 view .LVU359
 1311              	.LBB447:
 126:hidtweak.cpp  ****         buff_state_ = BUFFER_STATE_PREPARE_0;
 1312              		.loc 18 126 9 view .LVU360
 1313              	.LBB448:
 1314              	.LBB449:
 1315              		.loc 18 226 50 is_stmt 0 view .LVU361
 1316 004e D7F8F038 		ldr	r3, [r7, #2288]
 1317              	.LBE449:
 1318              	.LBE448:
 126:hidtweak.cpp  ****         buff_state_ = BUFFER_STATE_PREPARE_0;
 1319              		.loc 18 126 35 view .LVU362
 1320 0052 C7F8FC08 		str	r0, [r7, #2300]
 1321              	.LBB454:
 1322              	.LBB450:
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1323              		.loc 18 224 12 view .LVU363
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 55


 1324 0056 3046     		mov	r0, r6
 1325              	.LVL88:
 1326              		.loc 18 226 50 view .LVU364
 1327 0058 08FB0353 		mla	r3, r8, r3, r5
 1328              	.LBE450:
 1329              	.LBE454:
 126:hidtweak.cpp  ****         buff_state_ = BUFFER_STATE_PREPARE_0;
 1330              		.loc 18 126 19 view .LVU365
 1331 005c C7F8F848 		str	r4, [r7, #2296]
 127:hidtweak.cpp  ****         Restart();
 1332              		.loc 18 127 9 is_stmt 1 view .LVU366
 1333              	.LBB455:
 1334              	.LBB451:
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1335              		.loc 18 224 12 is_stmt 0 view .LVU367
 1336 0060 D969     		ldr	r1, [r3, #28]
 1337              	.LBE451:
 1338              	.LBE455:
 127:hidtweak.cpp  ****         Restart();
 1339              		.loc 18 127 21 view .LVU368
 1340 0062 0123     		movs	r3, #1
 1341              	.LBB456:
 1342              	.LBB452:
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1343              		.loc 18 224 12 view .LVU369
 1344 0064 2C31     		adds	r1, r1, #44
 1345              	.LBE452:
 1346              	.LBE456:
 127:hidtweak.cpp  ****         Restart();
 1347              		.loc 18 127 21 view .LVU370
 1348 0066 87F8F438 		strb	r3, [r7, #2292]
 128:hidtweak.cpp  ****         Prepare();
 1349              		.loc 18 128 9 is_stmt 1 view .LVU371
 1350              	.LVL89:
 1351              	.LBB457:
 1352              	.LBI448:
 222:hidtweak.cpp  **** {
 1353              		.loc 18 222 6 view .LVU372
 1354              	.LBB453:
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1355              		.loc 18 224 5 view .LVU373
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1356              		.loc 18 224 12 is_stmt 0 view .LVU374
 1357 006a FFF7FEFF 		bl	f_lseek
 1358              	.LVL90:
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1359              		.loc 18 224 12 view .LVU375
 1360              	.LBE453:
 1361              	.LBE457:
 129:hidtweak.cpp  **** 
 1362              		.loc 18 129 9 is_stmt 1 view .LVU376
 129:hidtweak.cpp  **** 
 1363              		.loc 18 129 16 is_stmt 0 view .LVU377
 1364 006e 2846     		mov	r0, r5
 1365 0070 FFF7FEFF 		bl	_ZN5daisy10WavPlayerT7PrepareEv
 1366              	.LVL91:
 131:hidtweak.cpp  ****     }
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 56


 1367              		.loc 18 131 9 is_stmt 1 view .LVU378
 131:hidtweak.cpp  ****     }
 1368              		.loc 18 131 9 is_stmt 0 view .LVU379
 1369              	.LBE447:
 1370              	.LBE446:
 133:hidtweak.cpp  **** 
 1371              		.loc 18 133 1 view .LVU380
 1372 0074 2046     		mov	r0, r4
 1373 0076 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 133:hidtweak.cpp  **** 
 1374              		.loc 18 133 1 view .LVU381
 1375              		.cfi_endproc
 1376              	.LFE4703:
 1378 007a 00BF     		.section	.text._ZN5daisy10WavPlayerT8OpenByIdEPKc,"ax",%progbits
 1379              		.align	1
 1380              		.p2align 2,,3
 1381              		.global	_ZN5daisy10WavPlayerT8OpenByIdEPKc
 1382              		.syntax unified
 1383              		.thumb
 1384              		.thumb_func
 1386              	_ZN5daisy10WavPlayerT8OpenByIdEPKc:
 1387              	.LVL92:
 1388              	.LFB4704:
 136:hidtweak.cpp  ****     // add extension
 1389              		.loc 18 136 1 is_stmt 1 view -0
 1390              		.cfi_startproc
 1391              		@ args = 0, pretend = 0, frame = 0
 1392              		@ frame_needed = 0, uses_anonymous_args = 0
 139:hidtweak.cpp  ****     for(size_t i = 0; i < kMaxFiles; i++)
 1393              		.loc 18 139 5 view .LVU383
 140:hidtweak.cpp  ****     {
 1394              		.loc 18 140 5 view .LVU384
 1395              	.LBB458:
 140:hidtweak.cpp  ****     {
 1396              		.loc 18 140 25 view .LVU385
 1397              	.LBE458:
 136:hidtweak.cpp  ****     // add extension
 1398              		.loc 18 136 1 is_stmt 0 view .LVU386
 1399 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1400              		.cfi_def_cfa_offset 24
 1401              		.cfi_offset 3, -24
 1402              		.cfi_offset 4, -20
 1403              		.cfi_offset 5, -16
 1404              		.cfi_offset 6, -12
 1405              		.cfi_offset 7, -8
 1406              		.cfi_offset 14, -4
 1407              	.LBB459:
 140:hidtweak.cpp  ****     {
 1408              		.loc 18 140 16 view .LVU387
 1409 0002 0025     		movs	r5, #0
 1410              	.LBE459:
 136:hidtweak.cpp  ****     // add extension
 1411              		.loc 18 136 1 view .LVU388
 1412 0004 0746     		mov	r7, r0
 1413 0006 0E46     		mov	r6, r1
 1414 0008 00F13804 		add	r4, r0, #56
 1415 000c 02E0     		b	.L95
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 57


 1416              	.LVL93:
 1417              	.L94:
 1418              	.LBB460:
 140:hidtweak.cpp  ****     {
 1419              		.loc 18 140 5 discriminator 2 view .LVU389
 1420 000e 0135     		adds	r5, r5, #1
 1421              	.LVL94:
 140:hidtweak.cpp  ****     {
 1422              		.loc 18 140 25 is_stmt 1 discriminator 2 view .LVU390
 1423 0010 1A2D     		cmp	r5, #26
 1424 0012 0DD0     		beq	.L98
 1425              	.LVL95:
 1426              	.L95:
 142:hidtweak.cpp  ****         {
 1427              		.loc 18 142 9 view .LVU391
 142:hidtweak.cpp  ****         {
 1428              		.loc 18 142 18 is_stmt 0 view .LVU392
 1429 0014 2046     		mov	r0, r4
 1430 0016 3146     		mov	r1, r6
 140:hidtweak.cpp  ****     {
 1431              		.loc 18 140 25 view .LVU393
 1432 0018 04F50C74 		add	r4, r4, #560
 142:hidtweak.cpp  ****         {
 1433              		.loc 18 142 18 view .LVU394
 1434 001c FFF7FEFF 		bl	strstr
 1435              	.LVL96:
 140:hidtweak.cpp  ****     {
 1436              		.loc 18 140 5 is_stmt 1 view .LVU395
 142:hidtweak.cpp  ****         {
 1437              		.loc 18 142 9 is_stmt 0 view .LVU396
 1438 0020 0028     		cmp	r0, #0
 1439 0022 F4D0     		beq	.L94
 144:hidtweak.cpp  ****             break;
 1440              		.loc 18 144 13 is_stmt 1 view .LVU397
 1441              	.LVL97:
 145:hidtweak.cpp  ****         }
 1442              		.loc 18 145 13 view .LVU398
 145:hidtweak.cpp  ****         }
 1443              		.loc 18 145 13 is_stmt 0 view .LVU399
 1444              	.LBE460:
 149:hidtweak.cpp  ****         return Open(idx);
 1445              		.loc 18 149 5 is_stmt 1 view .LVU400
 150:hidtweak.cpp  ****     else
 1446              		.loc 18 150 9 view .LVU401
 150:hidtweak.cpp  ****     else
 1447              		.loc 18 150 20 is_stmt 0 view .LVU402
 1448 0024 2946     		mov	r1, r5
 1449 0026 3846     		mov	r0, r7
 153:hidtweak.cpp  **** 
 1450              		.loc 18 153 1 view .LVU403
 1451 0028 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 1452              		.cfi_remember_state
 1453              		.cfi_restore 14
 1454              		.cfi_restore 7
 1455              		.cfi_restore 6
 1456              		.cfi_restore 5
 1457              		.cfi_restore 4
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 58


 1458              		.cfi_restore 3
 1459              		.cfi_def_cfa_offset 0
 1460              	.LVL98:
 150:hidtweak.cpp  ****     else
 1461              		.loc 18 150 20 view .LVU404
 1462 002c FFF7FEBF 		b	_ZN5daisy10WavPlayerT4OpenEj
 1463              	.LVL99:
 1464              	.L98:
 1465              		.cfi_restore_state
 153:hidtweak.cpp  **** 
 1466              		.loc 18 153 1 view .LVU405
 1467 0030 0620     		movs	r0, #6
 1468 0032 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 153:hidtweak.cpp  **** 
 1469              		.loc 18 153 1 view .LVU406
 1470              		.cfi_endproc
 1471              	.LFE4704:
 1473              		.section	.text._ZN5daisy10WavPlayerT7RestartEv,"ax",%progbits
 1474              		.align	1
 1475              		.p2align 2,,3
 1476              		.global	_ZN5daisy10WavPlayerT7RestartEv
 1477              		.syntax unified
 1478              		.thumb
 1479              		.thumb_func
 1481              	_ZN5daisy10WavPlayerT7RestartEv:
 1482              	.LVL100:
 1483              	.LFB4708:
 223:hidtweak.cpp  ****     f_lseek(&fil_,
 1484              		.loc 18 223 1 is_stmt 1 view -0
 1485              		.cfi_startproc
 1486              		@ args = 0, pretend = 0, frame = 0
 1487              		@ frame_needed = 0, uses_anonymous_args = 0
 1488              		@ link register save eliminated.
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1489              		.loc 18 224 5 view .LVU408
 223:hidtweak.cpp  ****     f_lseek(&fil_,
 1490              		.loc 18 223 1 is_stmt 0 view .LVU409
 1491 0000 0346     		mov	r3, r0
 1492              		.loc 18 226 50 view .LVU410
 1493 0002 4FF40C71 		mov	r1, #560
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1494              		.loc 18 224 12 view .LVU411
 1495 0006 43F60410 		movw	r0, #14596
 1496              	.LVL101:
 1497              		.loc 18 226 50 view .LVU412
 1498 000a 03F54052 		add	r2, r3, #12288
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1499              		.loc 18 224 12 view .LVU413
 1500 000e 1844     		add	r0, r0, r3
 1501              		.loc 18 226 50 view .LVU414
 1502 0010 D2F8F028 		ldr	r2, [r2, #2288]
 1503 0014 01FB0233 		mla	r3, r1, r2, r3
 1504              	.LVL102:
 224:hidtweak.cpp  ****             sizeof(WAV_FormatTypeDef)
 1505              		.loc 18 224 12 view .LVU415
 1506 0018 D969     		ldr	r1, [r3, #28]
 1507 001a 2C31     		adds	r1, r1, #44
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 59


 1508 001c FFF7FEBF 		b	f_lseek
 1509              	.LVL103:
 1510              		.cfi_endproc
 1511              	.LFE4708:
 1513              		.section	.text._ZN5daisy10WavPlayerT16GetNextBuffStateEv,"ax",%progbits
 1514              		.align	1
 1515              		.p2align 2,,3
 1516              		.global	_ZN5daisy10WavPlayerT16GetNextBuffStateEv
 1517              		.syntax unified
 1518              		.thumb
 1519              		.thumb_func
 1521              	_ZN5daisy10WavPlayerT16GetNextBuffStateEv:
 1522              	.LVL104:
 1523              	.LFB4709:
 227:hidtweak.cpp  **** }
 228:hidtweak.cpp  **** 
 229:hidtweak.cpp  **** WavPlayerT::BufferState WavPlayerT::GetNextBuffState()
 230:hidtweak.cpp  **** {
 1524              		.loc 18 230 1 is_stmt 1 view -0
 1525              		.cfi_startproc
 1526              		@ args = 0, pretend = 0, frame = 0
 1527              		@ frame_needed = 0, uses_anonymous_args = 0
 1528              		@ link register save eliminated.
 231:hidtweak.cpp  ****     size_t next_samp;
 1529              		.loc 18 231 5 view .LVU417
 232:hidtweak.cpp  ****     next_samp = (read_ptr_ + 1) % bufferSize_;
 1530              		.loc 18 232 5 view .LVU418
 1531              		.loc 18 232 18 is_stmt 0 view .LVU419
 1532 0000 00F54053 		add	r3, r0, #12288
 1533              		.loc 18 232 35 view .LVU420
 1534 0004 4268     		ldr	r2, [r0, #4]
 1535              	.LVL105:
 233:hidtweak.cpp  ****     if(next_samp < bufferSize_ / 2)
 1536              		.loc 18 233 5 is_stmt 1 view .LVU421
 232:hidtweak.cpp  ****     next_samp = (read_ptr_ + 1) % bufferSize_;
 1537              		.loc 18 232 28 is_stmt 0 view .LVU422
 1538 0006 D3F8F838 		ldr	r3, [r3, #2296]
 1539 000a 0133     		adds	r3, r3, #1
 232:hidtweak.cpp  ****     next_samp = (read_ptr_ + 1) % bufferSize_;
 1540              		.loc 18 232 15 view .LVU423
 1541 000c B3FBF2F1 		udiv	r1, r3, r2
 1542 0010 02FB1133 		mls	r3, r2, r1, r3
 234:hidtweak.cpp  ****     {
 235:hidtweak.cpp  ****         return BUFFER_STATE_PREPARE_1;
 236:hidtweak.cpp  ****     }
 237:hidtweak.cpp  ****     else
 238:hidtweak.cpp  ****     {
 239:hidtweak.cpp  ****         return BUFFER_STATE_PREPARE_0;
 1543              		.loc 18 239 16 view .LVU424
 1544 0014 B3EB520F 		cmp	r3, r2, lsr #1
 240:hidtweak.cpp  ****     }
 241:hidtweak.cpp  **** }
 1545              		.loc 18 241 1 view .LVU425
 1546 0018 34BF     		ite	cc
 1547 001a 0220     		movcc	r0, #2
 1548              	.LVL106:
 1549              		.loc 18 241 1 view .LVU426
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 60


 1550 001c 0120     		movcs	r0, #1
 1551 001e 7047     		bx	lr
 1552              		.cfi_endproc
 1553              	.LFE4709:
 1555              		.section	.text._ZN5daisy10WavPlayerT12TimeUntilEOFEv,"ax",%progbits
 1556              		.align	1
 1557              		.p2align 2,,3
 1558              		.global	_ZN5daisy10WavPlayerT12TimeUntilEOFEv
 1559              		.syntax unified
 1560              		.thumb
 1561              		.thumb_func
 1563              	_ZN5daisy10WavPlayerT12TimeUntilEOFEv:
 1564              	.LVL107:
 1565              	.LFB4710:
 242:hidtweak.cpp  **** 
 243:hidtweak.cpp  **** uint32_t WavPlayerT::TimeUntilEOF() {
 1566              		.loc 18 243 37 is_stmt 1 view -0
 1567              		.cfi_startproc
 1568              		@ args = 0, pretend = 0, frame = 0
 1569              		@ frame_needed = 0, uses_anonymous_args = 0
 1570              		@ link register save eliminated.
 244:hidtweak.cpp  ****     if(!playing_) return 0;
 1571              		.loc 18 244 5 view .LVU428
 1572              		.loc 18 244 9 is_stmt 0 view .LVU429
 1573 0000 00F54052 		add	r2, r0, #12288
 1574              		.loc 18 244 5 view .LVU430
 1575 0004 92F80139 		ldrb	r3, [r2, #2305]	@ zero_extendqisi2
 1576 0008 1BB3     		cbz	r3, .L105
 245:hidtweak.cpp  ****     return (float)((file_info_[file_sel_].length - read_ptr_abs_) / numChannels_ / 48000.0) * 1000;
 1577              		.loc 18 245 5 is_stmt 1 view .LVU431
 1578              		.loc 18 245 43 is_stmt 0 view .LVU432
 1579 000a D2F8F038 		ldr	r3, [r2, #2288]
 1580 000e 4FF40C71 		mov	r1, #560
 1581              		.loc 18 245 93 view .LVU433
 1582 0012 DFED135A 		vldr.32	s11, .L110+8
 1583              		.loc 18 245 43 view .LVU434
 1584 0016 03FB0111 		mla	r1, r3, r1, r1
 243:hidtweak.cpp  ****     if(!playing_) return 0;
 1585              		.loc 18 243 37 view .LVU435
 1586 001a 10B4     		push	{r4}
 1587              		.cfi_def_cfa_offset 4
 1588              		.cfi_offset 4, -4
 1589              		.loc 18 245 50 view .LVU436
 1590 001c D2F8FC48 		ldr	r4, [r2, #2300]
 1591              		.loc 18 245 67 view .LVU437
 1592 0020 8268     		ldr	r2, [r0, #8]
 1593              		.loc 18 245 43 view .LVU438
 1594 0022 0844     		add	r0, r0, r1
 1595              	.LVL108:
 1596              		.loc 18 245 50 view .LVU439
 1597 0024 8368     		ldr	r3, [r0, #8]
 1598 0026 1B1B     		subs	r3, r3, r4
 246:hidtweak.cpp  **** };...
 1599              		.loc 18 246 1 view .LVU440
 1600 0028 5DF8044B 		ldr	r4, [sp], #4
 1601              		.cfi_restore 4
 1602              		.cfi_def_cfa_offset 0
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 61


 245:hidtweak.cpp  ****     return (float)((file_info_[file_sel_].length - read_ptr_abs_) / numChannels_ / 48000.0) * 1000;
 1603              		.loc 18 245 67 view .LVU441
 1604 002c B3FBF2F3 		udiv	r3, r3, r2
 245:hidtweak.cpp  ****     return (float)((file_info_[file_sel_].length - read_ptr_abs_) / numChannels_ / 48000.0) * 1000;
 1605              		.loc 18 245 82 view .LVU442
 1606 0030 07EE903A 		vmov	s15, r3	@ int
 1607 0034 9FED084B 		vldr.64	d4, .L110
 1608 0038 B8EE676B 		vcvt.f64.u32	d6, s15
 1609 003c 86EE047B 		vdiv.f64	d7, d6, d4
 245:hidtweak.cpp  ****     return (float)((file_info_[file_sel_].length - read_ptr_abs_) / numChannels_ / 48000.0) * 1000;
 1610              		.loc 18 245 12 view .LVU443
 1611 0040 B7EEC77B 		vcvt.f32.f64	s14, d7
 245:hidtweak.cpp  ****     return (float)((file_info_[file_sel_].length - read_ptr_abs_) / numChannels_ / 48000.0) * 1000;
 1612              		.loc 18 245 93 view .LVU444
 1613 0044 27EE257A 		vmul.f32	s14, s14, s11
 245:hidtweak.cpp  ****     return (float)((file_info_[file_sel_].length - read_ptr_abs_) / numChannels_ / 48000.0) * 1000;
 1614              		.loc 18 245 95 view .LVU445
 1615 0048 FCEEC77A 		vcvt.u32.f32	s15, s14
 1616 004c 17EE900A 		vmov	r0, s15	@ int
 1617              		.loc 18 246 1 view .LVU446
 1618 0050 7047     		bx	lr
 1619              	.LVL109:
 1620              	.L105:
 244:hidtweak.cpp  ****     if(!playing_) return 0;
 1621              		.loc 18 244 26 view .LVU447
 1622 0052 1846     		mov	r0, r3
 1623              	.LVL110:
 1624              		.loc 18 246 1 view .LVU448
 1625 0054 7047     		bx	lr
 1626              	.L111:
 1627 0056 00BF     		.align	3
 1628              	.L110:
 1629 0058 00000000 		.word	0
 1630 005c 0070E740 		.word	1088909312
 1631 0060 00007A44 		.word	1148846080
 1632              		.cfi_endproc
 1633              	.LFE4710:
 1635              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 1636              		.align	2
 1637              	.LC4:
 1638 0000 6D6F756E 		.ascii	"mount...\000"
 1638      742E2E2E 
 1638      00
 1639 0009 000000   		.align	2
 1640              	.LC5:
 1641 000c 64696420 		.ascii	"did not mount - err %d\000"
 1641      6E6F7420 
 1641      6D6F756E 
 1641      74202D20 
 1641      65727220 
 1642 0023 00       		.align	2
 1643              	.LC6:
 1644 0024 6F6B2100 		.ascii	"ok!\000"
 1645              		.align	2
 1646              	.LC7:
 1647 0028 64696420 		.ascii	"did not initialize p1 - err %d\000"
 1647      6E6F7420 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 62


 1647      696E6974 
 1647      69616C69 
 1647      7A652070 
 1648 0047 00       		.align	2
 1649              	.LC8:
 1650 0048 7031202D 		.ascii	"p1 - loaded %d files\000"
 1650      206C6F61 
 1650      64656420 
 1650      25642066 
 1650      696C6573 
 1651 005d 000000   		.align	2
 1652              	.LC9:
 1653 0060 73746172 		.ascii	"starting audio...\000"
 1653      74696E67 
 1653      20617564 
 1653      696F2E2E 
 1653      2E00
 1654 0072 0000     		.align	2
 1655              	.LC10:
 1656 0074 4552524F 		.ascii	"ERROR WHILE PREPARING P1 - err %d\000"
 1656      52205748 
 1656      494C4520 
 1656      50524550 
 1656      4152494E 
 1657 0096 0000     		.align	2
 1658              	.LC11:
 1659 0098 6368616E 		.ascii	"changed plus\000"
 1659      67656420 
 1659      706C7573 
 1659      00
 1660 00a5 000000   		.align	2
 1661              	.LC12:
 1662 00a8 6368616E 		.ascii	"changed minus\000"
 1662      67656420 
 1662      6D696E75 
 1662      7300
 1663              		.section	.text.startup.main,"ax",%progbits
 1664              		.align	1
 1665              		.p2align 2,,3
 1666              		.global	main
 1667              		.syntax unified
 1668              		.thumb
 1669              		.thumb_func
 1671              	main:
 1672              	.LFB4712:
  43:WavPlayerTweak.cpp **** 
  44:WavPlayerTweak.cpp **** int main(void)
  45:WavPlayerTweak.cpp **** {
 1673              		.loc 17 45 1 is_stmt 1 view -0
 1674              		.cfi_startproc
 1675              		@ args = 0, pretend = 0, frame = 16
 1676              		@ frame_needed = 0, uses_anonymous_args = 0
  46:WavPlayerTweak.cpp ****     hw.Init();
 1677              		.loc 17 46 5 view .LVU450
  45:WavPlayerTweak.cpp ****     hw.Init();
 1678              		.loc 17 45 1 is_stmt 0 view .LVU451
 1679 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 63


 1680              		.cfi_def_cfa_offset 12
 1681              		.cfi_offset 4, -12
 1682              		.cfi_offset 5, -8
 1683              		.cfi_offset 14, -4
 1684              		.loc 17 46 12 view .LVU452
 1685 0002 0021     		movs	r1, #0
  45:WavPlayerTweak.cpp ****     hw.Init();
 1686              		.loc 17 45 1 view .LVU453
 1687 0004 87B0     		sub	sp, sp, #28
 1688              		.cfi_def_cfa_offset 40
 1689              	.LBB461:
 1690              	.LBB462:
  72:../../libDaisy/src/per/sdmmc.h ****             clock_powersave = false;
 1691              		.loc 1 72 29 view .LVU454
 1692 0006 0125     		movs	r5, #1
 1693              	.LBE462:
 1694              	.LBE461:
 1695              		.loc 17 46 12 view .LVU455
 1696 0008 4B48     		ldr	r0, .L138
 1697 000a FFF7FEFF 		bl	_ZN5daisy8DaisyPod4InitEb
 1698              	.LVL111:
  47:WavPlayerTweak.cpp ****     hw.SetAudioBlockSize(24);
 1699              		.loc 17 47 5 is_stmt 1 view .LVU456
 1700              		.loc 17 47 25 is_stmt 0 view .LVU457
 1701 000e 1821     		movs	r1, #24
 1702 0010 4948     		ldr	r0, .L138
 1703              	.LBB466:
 1704              	.LBB463:
  73:../../libDaisy/src/per/sdmmc.h ****         }
 1705              		.loc 1 73 29 view .LVU458
 1706 0012 0024     		movs	r4, #0
 1707              	.LBE463:
 1708              	.LBE466:
 1709              		.loc 17 47 25 view .LVU459
 1710 0014 FFF7FEFF 		bl	_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
 1711              	.LVL112:
  48:WavPlayerTweak.cpp ****     hw.seed.StartLog(true);
 1712              		.loc 17 48 5 is_stmt 1 view .LVU460
 1713              	.LBB467:
 1714              	.LBI467:
  23:../../libDaisy/src/daisy_seed.h **** 
  24:../../libDaisy/src/daisy_seed.h ****     /** This function used to provide a pre-initialization configuraiton 
  25:../../libDaisy/src/daisy_seed.h ****      *  it has since been deprecated, and does nothing.
  26:../../libDaisy/src/daisy_seed.h ****      */
  27:../../libDaisy/src/daisy_seed.h ****     void Configure();
  28:../../libDaisy/src/daisy_seed.h **** 
  29:../../libDaisy/src/daisy_seed.h ****     /** 
  30:../../libDaisy/src/daisy_seed.h ****     Initializes the Daisy Seed and the following peripherals:
  31:../../libDaisy/src/daisy_seed.h ****     SDRAM, QSPI, 24-bit 48kHz Audio via AK4556, Internal USB,
  32:../../libDaisy/src/daisy_seed.h ****     as well as the built-in LED and Testpoint.
  33:../../libDaisy/src/daisy_seed.h **** 
  34:../../libDaisy/src/daisy_seed.h ****     ADCs, DACs, and other special peripherals (such as I2C, SPI, etc.)
  35:../../libDaisy/src/daisy_seed.h ****     can be initialized using their specific initializers within libdaisy
  36:../../libDaisy/src/daisy_seed.h ****     for a specific application.
  37:../../libDaisy/src/daisy_seed.h ****     */
  38:../../libDaisy/src/daisy_seed.h ****     void Init(bool boost = false);
  39:../../libDaisy/src/daisy_seed.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 64


  40:../../libDaisy/src/daisy_seed.h ****     /** 
  41:../../libDaisy/src/daisy_seed.h ****     Deinitializes all peripherals automatically handled by `Init`.
  42:../../libDaisy/src/daisy_seed.h ****     */
  43:../../libDaisy/src/daisy_seed.h ****     void DeInit();
  44:../../libDaisy/src/daisy_seed.h **** 
  45:../../libDaisy/src/daisy_seed.h ****     /** 
  46:../../libDaisy/src/daisy_seed.h ****     Wait some ms before going on.
  47:../../libDaisy/src/daisy_seed.h ****     \param del Delay time in ms.
  48:../../libDaisy/src/daisy_seed.h ****     */
  49:../../libDaisy/src/daisy_seed.h ****     void DelayMs(size_t del);
  50:../../libDaisy/src/daisy_seed.h **** 
  51:../../libDaisy/src/daisy_seed.h ****     /** 
  52:../../libDaisy/src/daisy_seed.h ****     Returns the gpio_pin corresponding to the index 0-31.
  53:../../libDaisy/src/daisy_seed.h ****     For the given GPIO on the Daisy Seed (labeled 1-32 in docs).
  54:../../libDaisy/src/daisy_seed.h ****     */
  55:../../libDaisy/src/daisy_seed.h ****     static dsy_gpio_pin GetPin(uint8_t pin_idx);
  56:../../libDaisy/src/daisy_seed.h **** 
  57:../../libDaisy/src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  58:../../libDaisy/src/daisy_seed.h ****     the specified callback will get called whenever
  59:../../libDaisy/src/daisy_seed.h ****     new data is ready to be prepared.
  60:../../libDaisy/src/daisy_seed.h ****     */
  61:../../libDaisy/src/daisy_seed.h ****     void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  62:../../libDaisy/src/daisy_seed.h **** 
  63:../../libDaisy/src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  64:../../libDaisy/src/daisy_seed.h ****     the specified callback will get called whenever
  65:../../libDaisy/src/daisy_seed.h ****     new data is ready to be prepared.
  66:../../libDaisy/src/daisy_seed.h ****     This will use the newer non-interleaved callback.
  67:../../libDaisy/src/daisy_seed.h ****     */
  68:../../libDaisy/src/daisy_seed.h ****     void StartAudio(AudioHandle::AudioCallback cb);
  69:../../libDaisy/src/daisy_seed.h **** 
  70:../../libDaisy/src/daisy_seed.h ****     /** Changes to a new interleaved callback
  71:../../libDaisy/src/daisy_seed.h ****      */
  72:../../libDaisy/src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  73:../../libDaisy/src/daisy_seed.h **** 
  74:../../libDaisy/src/daisy_seed.h ****     /** Changes to a new multichannel callback
  75:../../libDaisy/src/daisy_seed.h ****      */
  76:../../libDaisy/src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  77:../../libDaisy/src/daisy_seed.h **** 
  78:../../libDaisy/src/daisy_seed.h ****     /** Stops the audio if it is running. */
  79:../../libDaisy/src/daisy_seed.h ****     void StopAudio();
  80:../../libDaisy/src/daisy_seed.h **** 
  81:../../libDaisy/src/daisy_seed.h ****     /** Updates the Audio Sample Rate, and reinitializes.
  82:../../libDaisy/src/daisy_seed.h ****      ** Audio must be stopped for this to work.
  83:../../libDaisy/src/daisy_seed.h ****      */
  84:../../libDaisy/src/daisy_seed.h ****     void SetAudioSampleRate(SaiHandle::Config::SampleRate samplerate);
  85:../../libDaisy/src/daisy_seed.h **** 
  86:../../libDaisy/src/daisy_seed.h ****     /** Returns the audio sample rate in Hz as a floating point number.
  87:../../libDaisy/src/daisy_seed.h ****      */
  88:../../libDaisy/src/daisy_seed.h ****     float AudioSampleRate();
  89:../../libDaisy/src/daisy_seed.h **** 
  90:../../libDaisy/src/daisy_seed.h ****     /** Sets the number of samples processed per channel by the audio callback.
  91:../../libDaisy/src/daisy_seed.h ****      */
  92:../../libDaisy/src/daisy_seed.h ****     void SetAudioBlockSize(size_t blocksize);
  93:../../libDaisy/src/daisy_seed.h **** 
  94:../../libDaisy/src/daisy_seed.h ****     /** Returns the number of samples per channel in a block of audio. */
  95:../../libDaisy/src/daisy_seed.h ****     size_t AudioBlockSize();
  96:../../libDaisy/src/daisy_seed.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 65


  97:../../libDaisy/src/daisy_seed.h ****     /** Returns the rate in Hz that the Audio callback is called */
  98:../../libDaisy/src/daisy_seed.h ****     float AudioCallbackRate() const;
  99:../../libDaisy/src/daisy_seed.h **** 
 100:../../libDaisy/src/daisy_seed.h ****     /** Returns the SAI Handle for the Daisy Seed 
 101:../../libDaisy/src/daisy_seed.h ****      *  This can be useful when adding a secondary codec,
 102:../../libDaisy/src/daisy_seed.h ****      *  the result of this function can be passed to the audio reinit 
 103:../../libDaisy/src/daisy_seed.h ****      *  with an SAI2 configuration
 104:../../libDaisy/src/daisy_seed.h ****      */
 105:../../libDaisy/src/daisy_seed.h ****     const SaiHandle& AudioSaiHandle() const;
 106:../../libDaisy/src/daisy_seed.h **** 
 107:../../libDaisy/src/daisy_seed.h ****     /** Sets the state of the built in LED
 108:../../libDaisy/src/daisy_seed.h ****      */
 109:../../libDaisy/src/daisy_seed.h ****     void SetLed(bool state);
 110:../../libDaisy/src/daisy_seed.h **** 
 111:../../libDaisy/src/daisy_seed.h ****     /** Sets the state of the test point near pin 10
 112:../../libDaisy/src/daisy_seed.h ****      */
 113:../../libDaisy/src/daisy_seed.h ****     void SetTestPoint(bool state);
 114:../../libDaisy/src/daisy_seed.h **** 
 115:../../libDaisy/src/daisy_seed.h ****     /** Print formatted debug log message
 116:../../libDaisy/src/daisy_seed.h ****      */
 117:../../libDaisy/src/daisy_seed.h ****     template <typename... VA>
 118:../../libDaisy/src/daisy_seed.h ****     static void Print(const char* format, VA... va)
 119:../../libDaisy/src/daisy_seed.h ****     {
 120:../../libDaisy/src/daisy_seed.h ****         Log::Print(format, va...);
 121:../../libDaisy/src/daisy_seed.h ****     }
 122:../../libDaisy/src/daisy_seed.h **** 
 123:../../libDaisy/src/daisy_seed.h ****     /** Print formatted debug log message with automatic line termination
 124:../../libDaisy/src/daisy_seed.h ****     */
 125:../../libDaisy/src/daisy_seed.h ****     template <typename... VA>
 126:../../libDaisy/src/daisy_seed.h ****     static void PrintLine(const char* format, VA... va)
 127:../../libDaisy/src/daisy_seed.h ****     {
 128:../../libDaisy/src/daisy_seed.h ****         Log::PrintLine(format, va...);
 129:../../libDaisy/src/daisy_seed.h ****     }
 130:../../libDaisy/src/daisy_seed.h **** 
 131:../../libDaisy/src/daisy_seed.h ****     /** Start the logging session. Optionally wait for terminal connection before proceeding.
 132:../../libDaisy/src/daisy_seed.h ****     */
 133:../../libDaisy/src/daisy_seed.h ****     static void StartLog(bool wait_for_pc = false)
 1715              		.loc 11 133 17 view .LVU461
 1716              	.LBB468:
 134:../../libDaisy/src/daisy_seed.h ****     {
 135:../../libDaisy/src/daisy_seed.h ****         Log::StartLog(wait_for_pc);
 1717              		.loc 11 135 9 view .LVU462
 1718              		.loc 11 135 22 is_stmt 0 view .LVU463
 1719 0018 2846     		mov	r0, r5
 1720 001a FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
 1721              	.LVL113:
 1722              		.loc 11 135 22 view .LVU464
 1723              	.LBE468:
 1724              	.LBE467:
  49:WavPlayerTweak.cpp **** 
  50:WavPlayerTweak.cpp ****     System::Delay(1000);
 1725              		.loc 17 50 5 is_stmt 1 view .LVU465
 1726              		.loc 17 50 18 is_stmt 0 view .LVU466
 1727 001e 4FF47A70 		mov	r0, #1000
 1728 0022 FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 1729              	.LVL114:
  51:WavPlayerTweak.cpp **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 66


  52:WavPlayerTweak.cpp ****     // initialize SD card
  53:WavPlayerTweak.cpp ****     SdmmcHandler::Config sd_cfg;
 1730              		.loc 17 53 5 is_stmt 1 view .LVU467
  54:WavPlayerTweak.cpp ****     sd_cfg.Defaults();
 1731              		.loc 17 54 5 view .LVU468
 1732              	.LBB469:
 1733              	.LBI461:
  69:../../libDaisy/src/per/sdmmc.h ****         {
 1734              		.loc 1 69 14 view .LVU469
 1735              	.LBB464:
  71:../../libDaisy/src/per/sdmmc.h ****             width           = BusWidth::BITS_4;
 1736              		.loc 1 71 13 view .LVU470
  71:../../libDaisy/src/per/sdmmc.h ****             width           = BusWidth::BITS_4;
 1737              		.loc 1 71 29 is_stmt 0 view .LVU471
 1738 0026 0323     		movs	r3, #3
 1739              	.LBE464:
 1740              	.LBE469:
  55:WavPlayerTweak.cpp ****     // sd_cfg.speed = SdmmcHandler::Speed::FAST;
  56:WavPlayerTweak.cpp ****     sdcard.Init(sd_cfg);
 1741              		.loc 17 56 16 view .LVU472
 1742 0028 03A9     		add	r1, sp, #12
 1743              	.LVL115:
 1744              		.loc 17 56 16 view .LVU473
 1745 002a 4448     		ldr	r0, .L138+4
 1746              	.LBB470:
 1747              	.LBB465:
  73:../../libDaisy/src/per/sdmmc.h ****         }
 1748              		.loc 1 73 29 view .LVU474
 1749 002c 8DF81440 		strb	r4, [sp, #20]
  71:../../libDaisy/src/per/sdmmc.h ****             width           = BusWidth::BITS_4;
 1750              		.loc 1 71 29 view .LVU475
 1751 0030 CDE90335 		strd	r3, r5, [sp, #12]
  72:../../libDaisy/src/per/sdmmc.h ****             clock_powersave = false;
 1752              		.loc 1 72 13 is_stmt 1 view .LVU476
  73:../../libDaisy/src/per/sdmmc.h ****         }
 1753              		.loc 1 73 13 view .LVU477
 1754              	.LVL116:
  73:../../libDaisy/src/per/sdmmc.h ****         }
 1755              		.loc 1 73 13 is_stmt 0 view .LVU478
 1756              	.LBE465:
 1757              	.LBE470:
 1758              		.loc 17 56 5 is_stmt 1 view .LVU479
 1759              		.loc 17 56 16 is_stmt 0 view .LVU480
 1760 0034 FFF7FEFF 		bl	_ZN5daisy12SdmmcHandler4InitERKNS0_6ConfigE
 1761              	.LVL117:
  57:WavPlayerTweak.cpp ****     fsi.Init(FatFSInterface::Config::MEDIA_SD);
 1762              		.loc 17 57 5 is_stmt 1 view .LVU481
 1763              		.loc 17 57 13 is_stmt 0 view .LVU482
 1764 0038 2946     		mov	r1, r5
 1765 003a 4148     		ldr	r0, .L138+8
 1766 003c FFF7FEFF 		bl	_ZN5daisy14FatFSInterface4InitEh
 1767              	.LVL118:
  58:WavPlayerTweak.cpp **** 
  59:WavPlayerTweak.cpp ****     hw.seed.Print("mount...");
 1768              		.loc 17 59 5 is_stmt 1 view .LVU483
 1769              	.LBB471:
 1770              	.LBI471:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 67


 118:../../libDaisy/src/daisy_seed.h ****     {
 1771              		.loc 11 118 17 view .LVU484
 1772              	.LBB472:
 120:../../libDaisy/src/daisy_seed.h ****     }
 1773              		.loc 11 120 19 is_stmt 0 view .LVU485
 1774 0040 4048     		ldr	r0, .L138+12
 1775 0042 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE5PrintEPKcz
 1776              	.LVL119:
 120:../../libDaisy/src/daisy_seed.h ****     }
 1777              		.loc 11 120 19 view .LVU486
 1778              	.LBE472:
 1779              	.LBE471:
  60:WavPlayerTweak.cpp ****     if(FRESULT result = f_mount(&fsi.GetSDFileSystem(), fsi.GetSDPath(), 0))
 1780              		.loc 17 60 5 is_stmt 1 view .LVU487
 1781              	.LBB473:
 1782              	.LBB474:
 1783              	.LBI474:
 1784              		.file 20 "../../libDaisy/src/sys/fatfs.h"
   1:../../libDaisy/src/sys/fatfs.h **** #ifndef __fatfs_H
   2:../../libDaisy/src/sys/fatfs.h **** #define __fatfs_H /**< & */
   3:../../libDaisy/src/sys/fatfs.h **** 
   4:../../libDaisy/src/sys/fatfs.h **** #include "ff.h"
   5:../../libDaisy/src/sys/fatfs.h **** 
   6:../../libDaisy/src/sys/fatfs.h **** namespace daisy
   7:../../libDaisy/src/sys/fatfs.h **** {
   8:../../libDaisy/src/sys/fatfs.h **** /** @brief Daisy FatFS Driver Interface
   9:../../libDaisy/src/sys/fatfs.h ****  *  @details Specifies the desired media (SD Card, USB, etc.) to be mountable with FatFS
  10:../../libDaisy/src/sys/fatfs.h ****  *           within a given application. Once initialization is called, the standard
  11:../../libDaisy/src/sys/fatfs.h ****  *           FatFS API will be usable with the media mounted in the order 
  12:../../libDaisy/src/sys/fatfs.h ****  *           they are listed in the Media config struct. 
  13:../../libDaisy/src/sys/fatfs.h ****  *           For example, when only using an SD Card, it will mount at "0:/",
  14:../../libDaisy/src/sys/fatfs.h ****  *           when only using USB, it will mount at "0:/". However, when mounting 
  15:../../libDaisy/src/sys/fatfs.h ****  *           with SD card and USB, the SD card will mount at "0:/", and the USB 
  16:../../libDaisy/src/sys/fatfs.h ****  *           will mount at "1:/".
  17:../../libDaisy/src/sys/fatfs.h ****  *           The relevant hardware peripheral (SDMMC, or MSD) needs to be initialized
  18:../../libDaisy/src/sys/fatfs.h ****  *           separately by the application before using FatFS.
  19:../../libDaisy/src/sys/fatfs.h ****  *          
  20:../../libDaisy/src/sys/fatfs.h ****  *           This object has some memory limitations due to the media connected to it.
  21:../../libDaisy/src/sys/fatfs.h ****  *           The SDMMC1 peripheral can only communicate with the AXI SRAM, and the DTCMRAM 
  22:../../libDaisy/src/sys/fatfs.h ****  *           cannot communicate with the DMA. So the FatFSInterface object should always be
  23:../../libDaisy/src/sys/fatfs.h ****  *           located in the AXI SRAM. This is the default location for all data/bss memory
  24:../../libDaisy/src/sys/fatfs.h ****  *           using the standard build. However, applciations using the electrosmith bootloader
  25:../../libDaisy/src/sys/fatfs.h ****  *           will need special consideration when using this object AND an SD Card. 
  26:../../libDaisy/src/sys/fatfs.h ****  */
  27:../../libDaisy/src/sys/fatfs.h **** class FatFSInterface
  28:../../libDaisy/src/sys/fatfs.h **** {
  29:../../libDaisy/src/sys/fatfs.h ****   public:
  30:../../libDaisy/src/sys/fatfs.h ****     /** Return values specifying specific errors for linking Daisy to FatFS */
  31:../../libDaisy/src/sys/fatfs.h ****     enum Result
  32:../../libDaisy/src/sys/fatfs.h ****     {
  33:../../libDaisy/src/sys/fatfs.h ****         OK,
  34:../../libDaisy/src/sys/fatfs.h ****         ERR_TOO_MANY_VOLUMES,
  35:../../libDaisy/src/sys/fatfs.h ****         ERR_NO_MEDIA_SELECTED,
  36:../../libDaisy/src/sys/fatfs.h ****         ERR_GENERIC,
  37:../../libDaisy/src/sys/fatfs.h ****     };
  38:../../libDaisy/src/sys/fatfs.h **** 
  39:../../libDaisy/src/sys/fatfs.h ****     /** Config structure for configuring Daisy to FatFS */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 68


  40:../../libDaisy/src/sys/fatfs.h ****     struct Config
  41:../../libDaisy/src/sys/fatfs.h ****     {
  42:../../libDaisy/src/sys/fatfs.h ****         /** Selected Media that will be linked to FatFS 
  43:../../libDaisy/src/sys/fatfs.h ****          *  These values can be OR'd together when multiple
  44:../../libDaisy/src/sys/fatfs.h ****          *  volumes are desired 
  45:../../libDaisy/src/sys/fatfs.h ****          *  i.e. config.media = Media::SD | Media::USBH;
  46:../../libDaisy/src/sys/fatfs.h ****          * 
  47:../../libDaisy/src/sys/fatfs.h ****          *  When mounting multiple volumes, ffconf.h must have 
  48:../../libDaisy/src/sys/fatfs.h ****          *  _VOLUMES set to an appropriate value.
  49:../../libDaisy/src/sys/fatfs.h ****          * 
  50:../../libDaisy/src/sys/fatfs.h ****          *  FatFS will register multiple volumes in the order of the enum,
  51:../../libDaisy/src/sys/fatfs.h ****          *   the first registered class will mount at "0:/",
  52:../../libDaisy/src/sys/fatfs.h ****          *   the second registered class will mount at "1:/", and so on
  53:../../libDaisy/src/sys/fatfs.h ****          */
  54:../../libDaisy/src/sys/fatfs.h ****         enum Media : uint8_t
  55:../../libDaisy/src/sys/fatfs.h ****         {
  56:../../libDaisy/src/sys/fatfs.h ****             MEDIA_SD  = 0x01,
  57:../../libDaisy/src/sys/fatfs.h ****             MEDIA_USB = 0x02,
  58:../../libDaisy/src/sys/fatfs.h ****             // MEDIA_QSPI = 0x04,
  59:../../libDaisy/src/sys/fatfs.h ****         };
  60:../../libDaisy/src/sys/fatfs.h **** 
  61:../../libDaisy/src/sys/fatfs.h ****         uint8_t media;
  62:../../libDaisy/src/sys/fatfs.h ****     };
  63:../../libDaisy/src/sys/fatfs.h **** 
  64:../../libDaisy/src/sys/fatfs.h ****     FatFSInterface() {}
  65:../../libDaisy/src/sys/fatfs.h **** 
  66:../../libDaisy/src/sys/fatfs.h ****     /** Link the desired hardware specified via Config::Media */
  67:../../libDaisy/src/sys/fatfs.h ****     Result Init(const Config& cfg);
  68:../../libDaisy/src/sys/fatfs.h **** 
  69:../../libDaisy/src/sys/fatfs.h ****     /** Link the desired hardware specified via Config::Media 
  70:../../libDaisy/src/sys/fatfs.h ****      * 
  71:../../libDaisy/src/sys/fatfs.h ****      *  Alternate, explicit initialization provided for simplified syntax.
  72:../../libDaisy/src/sys/fatfs.h ****      */
  73:../../libDaisy/src/sys/fatfs.h ****     Result Init(const uint8_t media);
  74:../../libDaisy/src/sys/fatfs.h **** 
  75:../../libDaisy/src/sys/fatfs.h ****     /** Unlinks FatFS from the configured media */
  76:../../libDaisy/src/sys/fatfs.h ****     Result DeInit();
  77:../../libDaisy/src/sys/fatfs.h **** 
  78:../../libDaisy/src/sys/fatfs.h ****     bool Initialized() const { return initialized_; }
  79:../../libDaisy/src/sys/fatfs.h **** 
  80:../../libDaisy/src/sys/fatfs.h ****     /** Return the current configuration */
  81:../../libDaisy/src/sys/fatfs.h ****     const Config& GetConfig() const { return cfg_; }
  82:../../libDaisy/src/sys/fatfs.h **** 
  83:../../libDaisy/src/sys/fatfs.h ****     /** Return a mutable reference to the Configuration */
  84:../../libDaisy/src/sys/fatfs.h ****     Config& GetMutableConfig() { return cfg_; }
  85:../../libDaisy/src/sys/fatfs.h **** 
  86:../../libDaisy/src/sys/fatfs.h ****     /** Returns the path to an SD Card volume to use with f_mount */
  87:../../libDaisy/src/sys/fatfs.h ****     const char* GetSDPath() const { return path_[0]; }
  88:../../libDaisy/src/sys/fatfs.h **** 
  89:../../libDaisy/src/sys/fatfs.h ****     /** Returns the path to a USB Device volume to use with f_mount */
  90:../../libDaisy/src/sys/fatfs.h ****     const char* GetUSBPath() const { return path_[1]; }
  91:../../libDaisy/src/sys/fatfs.h **** 
  92:../../libDaisy/src/sys/fatfs.h ****     /** Returns reference to filesystem object for the SD volume. */
  93:../../libDaisy/src/sys/fatfs.h ****     FATFS& GetSDFileSystem() { return fs_[0]; }
 1785              		.loc 20 93 12 view .LVU488
 1786              	.LBE474:
 1787              	.LBE473:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 69


 1788              		.loc 20 93 32 view .LVU489
 1789              	.LBB478:
 1790              	.LBB475:
 1791              	.LBI475:
  87:../../libDaisy/src/sys/fatfs.h **** 
 1792              		.loc 20 87 17 view .LVU490
 1793              	.LBE475:
 1794              	.LBE478:
  87:../../libDaisy/src/sys/fatfs.h **** 
 1795              		.loc 20 87 37 view .LVU491
 1796              	.LBB479:
 1797              		.loc 17 60 32 is_stmt 0 view .LVU492
 1798 0046 4049     		ldr	r1, .L138+16
 1799 0048 2246     		mov	r2, r4
 1800 004a A1F58E60 		sub	r0, r1, #1136
 1801 004e FFF7FEFF 		bl	f_mount
 1802              	.LVL120:
 1803              		.loc 17 60 5 view .LVU493
 1804 0052 0028     		cmp	r0, #0
 1805 0054 63D1     		bne	.L135
 1806              	.LVL121:
 1807              	.L113:
 1808              		.loc 17 60 5 view .LVU494
 1809              	.LBE479:
  61:WavPlayerTweak.cpp ****     {
  62:WavPlayerTweak.cpp ****         hw.seed.PrintLine("did not mount - err %d", result);
  63:WavPlayerTweak.cpp ****         asm("bkpt 255");
  64:WavPlayerTweak.cpp ****     }
  65:WavPlayerTweak.cpp ****     hw.seed.PrintLine("ok!");
 1810              		.loc 17 65 5 is_stmt 1 view .LVU495
 1811              	.LBB480:
 1812              	.LBI480:
 126:../../libDaisy/src/daisy_seed.h ****     {
 1813              		.loc 11 126 17 view .LVU496
 1814              	.LBB481:
 128:../../libDaisy/src/daisy_seed.h ****     }
 1815              		.loc 11 128 23 is_stmt 0 view .LVU497
 1816 0056 3D48     		ldr	r0, .L138+20
 1817              	.LBE481:
 1818              	.LBE480:
 1819              	.LBB483:
  66:WavPlayerTweak.cpp ****     System::Delay(1000);
  67:WavPlayerTweak.cpp **** 
  68:WavPlayerTweak.cpp ****     // initialize first sampler on /folder1
  69:WavPlayerTweak.cpp ****     if(int result = p1.Init("0:/", buffer1, BUFSIZE, 1))
 1820              		.loc 17 69 28 view .LVU498
 1821 0058 0124     		movs	r4, #1
 1822              	.LBE483:
 1823              	.LBB486:
 1824              	.LBB482:
 128:../../libDaisy/src/daisy_seed.h ****     }
 1825              		.loc 11 128 23 view .LVU499
 1826 005a FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 1827              	.LVL122:
 128:../../libDaisy/src/daisy_seed.h ****     }
 1828              		.loc 11 128 23 view .LVU500
 1829              	.LBE482:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 70


 1830              	.LBE486:
  66:WavPlayerTweak.cpp ****     System::Delay(1000);
 1831              		.loc 17 66 5 is_stmt 1 view .LVU501
  66:WavPlayerTweak.cpp ****     System::Delay(1000);
 1832              		.loc 17 66 18 is_stmt 0 view .LVU502
 1833 005e 4FF47A70 		mov	r0, #1000
 1834 0062 FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 1835              	.LVL123:
 1836              		.loc 17 69 5 is_stmt 1 view .LVU503
 1837              	.LBB487:
 1838              		.loc 17 69 28 is_stmt 0 view .LVU504
 1839 0066 4FF48053 		mov	r3, #4096
 1840 006a 394A     		ldr	r2, .L138+24
 1841 006c 3949     		ldr	r1, .L138+28
 1842 006e 3A48     		ldr	r0, .L138+32
 1843 0070 0094     		str	r4, [sp]
 1844 0072 FFF7FEFF 		bl	_ZN5daisy10WavPlayerT4InitEPKcPsjj
 1845              	.LVL124:
 1846              		.loc 17 69 5 view .LVU505
 1847 0076 0028     		cmp	r0, #0
 1848 0078 57D1     		bne	.L136
 1849              	.LVL125:
 1850              	.L114:
 1851              		.loc 17 69 5 view .LVU506
 1852              	.LBE487:
  70:WavPlayerTweak.cpp ****     {
  71:WavPlayerTweak.cpp ****         hw.seed.PrintLine("did not initialize p1 - err %d", result);
  72:WavPlayerTweak.cpp ****         asm("bkpt 255");
  73:WavPlayerTweak.cpp ****     }
  74:WavPlayerTweak.cpp ****     hw.seed.PrintLine("p1 - loaded %d files", p1.GetNumberFiles());
 1853              		.loc 17 74 5 is_stmt 1 view .LVU507
 1854              	.LBB488:
 1855              	.LBI488:
  37:wavplayert.h  **** 
  38:wavplayert.h  ****     /** Initializes the WavPlayer, loading up to max_files of wav files from an SD Card. */
  39:wavplayert.h  ****     FRESULT Init(const char* search_path,
  40:wavplayert.h  ****                  int16_t*    buffer,
  41:wavplayert.h  ****                  size_t      bufferSize,
  42:wavplayert.h  ****                  size_t      numChannels = 1);
  43:wavplayert.h  **** 
  44:wavplayert.h  ****     /** Opens the file at index sel for reading.
  45:wavplayert.h  ****     \param sel File to open
  46:wavplayert.h  ****      */
  47:wavplayert.h  ****     int Open(size_t sel);
  48:wavplayert.h  **** 
  49:wavplayert.h  ****     /** Opens the file by name for reading.
  50:wavplayert.h  ****     \param id ID of file to open
  51:wavplayert.h  ****      */
  52:wavplayert.h  ****     int OpenById(const char* id);
  53:wavplayert.h  **** 
  54:wavplayert.h  ****     /** Closes whatever file is currently open.
  55:wavplayert.h  ****     \return &
  56:wavplayert.h  ****      */
  57:wavplayert.h  ****     int Close();
  58:wavplayert.h  **** 
  59:wavplayert.h  ****     /** \return The next sample if playing, otherwise returns 0 */
  60:wavplayert.h  ****     int16_t  Stream();
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 71


  61:wavplayert.h  **** 
  62:wavplayert.h  ****     /** Collects buffer for playback when needed. */
  63:wavplayert.h  ****     int Prepare();
  64:wavplayert.h  **** 
  65:wavplayert.h  **** 
  66:wavplayert.h  ****     inline void Play()  { playing_ = true; };
  67:wavplayert.h  ****     inline void Pause() { playing_ = false; };
  68:wavplayert.h  **** 
  69:wavplayert.h  ****     /** Resets the playback position to the beginning of the file immediately */
  70:wavplayert.h  ****     void Restart();
  71:wavplayert.h  **** 
  72:wavplayert.h  ****     /** Sets whether or not the current file will repeat after completing playback. 
  73:wavplayert.h  ****     \param loop To loop or not to loop.
  74:wavplayert.h  ****     */
  75:wavplayert.h  ****     inline void SetLooping(bool loop) { looping_ = loop; }
  76:wavplayert.h  **** 
  77:wavplayert.h  ****     /** \return Whether the WavPlayer is looping or not. */
  78:wavplayert.h  ****     inline bool GetLooping() const { return looping_; }
  79:wavplayert.h  **** 
  80:wavplayert.h  ****     /** \return The number of files loaded by the WavPlayer */
  81:wavplayert.h  ****     inline size_t GetNumberFiles() const { return file_cnt_; }
 1856              		.loc 16 81 19 view .LVU508
 1857              	.LBB489:
 1858              		.loc 16 81 44 view .LVU509
 1859              		.loc 16 81 44 is_stmt 0 view .LVU510
 1860              	.LBE489:
 1861              	.LBE488:
 1862              	.LBB491:
 1863              	.LBI491:
 126:../../libDaisy/src/daisy_seed.h ****     {
 1864              		.loc 11 126 17 is_stmt 1 view .LVU511
 1865              	.LBE491:
 1866              	.LBB493:
 1867              	.LBB490:
 1868              		.loc 16 81 51 is_stmt 0 view .LVU512
 1869 007a 384D     		ldr	r5, .L138+36
 1870              	.LBE490:
 1871              	.LBE493:
 1872              	.LBB494:
 1873              	.LBB492:
 128:../../libDaisy/src/daisy_seed.h ****     }
 1874              		.loc 11 128 23 view .LVU513
 1875 007c 3848     		ldr	r0, .L138+40
 1876 007e D5F8EC18 		ldr	r1, [r5, #2284]
 1877 0082 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 1878              	.LVL126:
 128:../../libDaisy/src/daisy_seed.h ****     }
 1879              		.loc 11 128 23 view .LVU514
 1880              	.LBE492:
 1881              	.LBE494:
  75:WavPlayerTweak.cpp ****     System::Delay(500);
 1882              		.loc 17 75 5 is_stmt 1 view .LVU515
 1883              		.loc 17 75 18 is_stmt 0 view .LVU516
 1884 0086 4FF4FA70 		mov	r0, #500
 1885 008a FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 1886              	.LVL127:
  76:WavPlayerTweak.cpp **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 72


  77:WavPlayerTweak.cpp ****     // // initialize second sampler on /folder2
  78:WavPlayerTweak.cpp ****     // if(int result = p2.Init("0:/folder2", buffer2, BUFSIZE, 1))
  79:WavPlayerTweak.cpp ****     // {
  80:WavPlayerTweak.cpp ****     //     hw.seed.PrintLine("did not initialize p2 - err %d", result);
  81:WavPlayerTweak.cpp ****     //     asm("bkpt 255");
  82:WavPlayerTweak.cpp ****     // }
  83:WavPlayerTweak.cpp ****     // hw.seed.PrintLine("p2 - loaded %d files", p2.GetNumberFiles());
  84:WavPlayerTweak.cpp ****     // System::Delay(500);
  85:WavPlayerTweak.cpp ****     
  86:WavPlayerTweak.cpp ****     // set both to looping
  87:WavPlayerTweak.cpp ****     p1.SetLooping(true);
 1887              		.loc 17 87 5 is_stmt 1 view .LVU517
 1888              	.LBB495:
 1889              	.LBI495:
  75:wavplayert.h  **** 
 1890              		.loc 16 75 17 view .LVU518
 1891              	.LBB496:
  75:wavplayert.h  **** 
 1892              		.loc 16 75 41 view .LVU519
  75:wavplayert.h  **** 
 1893              		.loc 16 75 50 is_stmt 0 view .LVU520
 1894 008e 0123     		movs	r3, #1
 1895              	.LBE496:
 1896              	.LBE495:
  88:WavPlayerTweak.cpp ****     // p2.SetLooping(true);
  89:WavPlayerTweak.cpp **** 
  90:WavPlayerTweak.cpp ****     // open both samples respectively
  91:WavPlayerTweak.cpp ****     p1.Open(0);
 1897              		.loc 17 91 12 view .LVU521
 1898 0090 0021     		movs	r1, #0
 1899 0092 294C     		ldr	r4, .L138
 1900 0094 A5F54050 		sub	r0, r5, #12288
 1901              	.LBB498:
 1902              	.LBB497:
  75:wavplayert.h  **** 
 1903              		.loc 16 75 50 view .LVU522
 1904 0098 85F80039 		strb	r3, [r5, #2304]
 1905              	.LVL128:
  75:wavplayert.h  **** 
 1906              		.loc 16 75 50 view .LVU523
 1907              	.LBE497:
 1908              	.LBE498:
 1909              		.loc 17 91 5 is_stmt 1 view .LVU524
 1910              		.loc 17 91 12 is_stmt 0 view .LVU525
 1911 009c FFF7FEFF 		bl	_ZN5daisy10WavPlayerT4OpenEj
 1912              	.LVL129:
  92:WavPlayerTweak.cpp ****     // p2.Open(0);
  93:WavPlayerTweak.cpp **** 
  94:WavPlayerTweak.cpp ****     // start audio
  95:WavPlayerTweak.cpp ****     hw.seed.Print("starting audio...");
 1913              		.loc 17 95 5 is_stmt 1 view .LVU526
 1914              	.LBB499:
 1915              	.LBI499:
 118:../../libDaisy/src/daisy_seed.h ****     {
 1916              		.loc 11 118 17 view .LVU527
 1917              	.LBB500:
 120:../../libDaisy/src/daisy_seed.h ****     }
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 73


 1918              		.loc 11 120 19 is_stmt 0 view .LVU528
 1919 00a0 3048     		ldr	r0, .L138+44
 1920 00a2 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE5PrintEPKcz
 1921              	.LVL130:
 120:../../libDaisy/src/daisy_seed.h ****     }
 1922              		.loc 11 120 19 view .LVU529
 1923              	.LBE500:
 1924              	.LBE499:
  96:WavPlayerTweak.cpp ****     hw.StartAudio(AudioCallback);
 1925              		.loc 17 96 5 is_stmt 1 view .LVU530
 1926              		.loc 17 96 18 is_stmt 0 view .LVU531
 1927 00a6 2046     		mov	r0, r4
 1928 00a8 2F49     		ldr	r1, .L138+48
 1929 00aa FFF7FEFF 		bl	_ZN5daisy8DaisyPod10StartAudioEPFvPKfPfjE
 1930              	.LVL131:
  97:WavPlayerTweak.cpp ****     hw.seed.PrintLine("ok!");
 1931              		.loc 17 97 5 is_stmt 1 view .LVU532
 1932              	.LBB501:
 1933              	.LBI501:
 126:../../libDaisy/src/daisy_seed.h ****     {
 1934              		.loc 11 126 17 view .LVU533
 1935              	.LBB502:
 128:../../libDaisy/src/daisy_seed.h ****     }
 1936              		.loc 11 128 23 is_stmt 0 view .LVU534
 1937 00ae 2748     		ldr	r0, .L138+20
 1938 00b0 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 1939              	.LVL132:
 1940              	.L115:
 128:../../libDaisy/src/daisy_seed.h ****     }
 1941              		.loc 11 128 23 view .LVU535
 1942              	.LBE502:
 1943              	.LBE501:
  98:WavPlayerTweak.cpp **** 
  99:WavPlayerTweak.cpp ****     /**
 100:WavPlayerTweak.cpp ****      * MAIN LOOP
 101:WavPlayerTweak.cpp ****      */
 102:WavPlayerTweak.cpp ****     for(;;)
 1944              		.loc 17 102 5 is_stmt 1 view .LVU536
 1945              	.LBB503:
 103:WavPlayerTweak.cpp ****     {
 104:WavPlayerTweak.cpp ****         // prepare samples for sampler 1; manage errors
 105:WavPlayerTweak.cpp ****         if(int result = p1.Prepare())
 1946              		.loc 17 105 9 view .LVU537
 1947              	.LBB504:
 1948              		.loc 17 105 35 is_stmt 0 view .LVU538
 1949 00b4 2848     		ldr	r0, .L138+32
 1950 00b6 FFF7FEFF 		bl	_ZN5daisy10WavPlayerT7PrepareEv
 1951              	.LVL133:
 1952              		.loc 17 105 9 view .LVU539
 1953 00ba 0146     		mov	r1, r0
 1954 00bc E8B9     		cbnz	r0, .L137
 1955              	.LVL134:
 1956              	.L116:
 1957              		.loc 17 105 9 view .LVU540
 1958              	.LBE504:
 106:WavPlayerTweak.cpp ****         {
 107:WavPlayerTweak.cpp ****             hw.seed.PrintLine("ERROR WHILE PREPARING P1 - err %d", result);
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 74


 108:WavPlayerTweak.cpp ****             asm("bkpt 255");
 109:WavPlayerTweak.cpp ****         }
 110:WavPlayerTweak.cpp ****     int32_t inc;
 1959              		.loc 17 110 5 is_stmt 1 view .LVU541
 111:WavPlayerTweak.cpp **** 
 112:WavPlayerTweak.cpp ****     // Debounce digital controls
 113:WavPlayerTweak.cpp ****     hw.ProcessDigitalControls();
 1960              		.loc 17 113 5 view .LVU542
 1961              		.loc 17 113 30 is_stmt 0 view .LVU543
 1962 00be 1E48     		ldr	r0, .L138
 1963 00c0 FFF7FEFF 		bl	_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
 1964              	.LVL135:
 114:WavPlayerTweak.cpp **** 
 115:WavPlayerTweak.cpp ****     // Change file with encoder.
 116:WavPlayerTweak.cpp ****     inc = hw.encoder.Increment();
 1965              		.loc 17 116 5 is_stmt 1 view .LVU544
 1966              	.LBB507:
 1967              	.LBI507:
  22:../../libDaisy/src/hid/encoder.h **** 
  23:../../libDaisy/src/hid/encoder.h ****     /** Initializes the encoder with the specified hardware pins.
  24:../../libDaisy/src/hid/encoder.h ****      * Update rate is to be deprecated in a future release
  25:../../libDaisy/src/hid/encoder.h ****      */
  26:../../libDaisy/src/hid/encoder.h ****     void Init(dsy_gpio_pin a,
  27:../../libDaisy/src/hid/encoder.h ****               dsy_gpio_pin b,
  28:../../libDaisy/src/hid/encoder.h ****               dsy_gpio_pin click,
  29:../../libDaisy/src/hid/encoder.h ****               float        update_rate = 0.f);
  30:../../libDaisy/src/hid/encoder.h ****     /** Called at update_rate to debounce and handle timing for the switch.
  31:../../libDaisy/src/hid/encoder.h ****      * In order for events not to be missed, its important that the Edge/Pressed checks be made at 
  32:../../libDaisy/src/hid/encoder.h ****      */
  33:../../libDaisy/src/hid/encoder.h ****     void Debounce();
  34:../../libDaisy/src/hid/encoder.h **** 
  35:../../libDaisy/src/hid/encoder.h ****     /** Returns +1 if the encoder was turned clockwise, -1 if it was turned counter-clockwise, or 0
  36:../../libDaisy/src/hid/encoder.h ****     inline int32_t Increment() const { return updated_ ? inc_ : 0; }
 1968              		.loc 10 36 20 view .LVU545
 1969              	.LBB508:
 1970              		.loc 10 36 40 view .LVU546
 1971              		.loc 10 36 56 is_stmt 0 view .LVU547
 1972 00c4 94F84430 		ldrb	r3, [r4, #68]	@ zero_extendqisi2
 1973 00c8 002B     		cmp	r3, #0
 1974 00ca F3D0     		beq	.L115
 1975              	.LBE508:
 1976              	.LBE507:
 1977              	.LBB510:
 1978              	.LBB511:
 117:WavPlayerTweak.cpp ****     if(inc > 0) {
 118:WavPlayerTweak.cpp ****         size_t curfile;
 1979              		.loc 17 118 9 is_stmt 1 view .LVU548
 119:WavPlayerTweak.cpp ****         curfile = p1.GetCurrentFile();
 1980              		.loc 17 119 9 view .LVU549
 1981              	.LVL136:
 1982              	.LBB512:
 1983              	.LBI512:
  82:wavplayert.h  **** 
  83:wavplayert.h  ****     /** \return currently selected file.*/
  84:wavplayert.h  ****     inline size_t GetCurrentFile() const { return file_sel_; }
 1984              		.loc 16 84 19 view .LVU550
 1985              	.LBB513:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 75


 1986              		.loc 16 84 44 view .LVU551
 1987              		.loc 16 84 44 is_stmt 0 view .LVU552
 1988              	.LBE513:
 1989              	.LBE512:
 1990              	.LBE511:
 1991              	.LBE510:
 1992              	.LBE503:
 120:WavPlayerTweak.cpp ****         if(curfile < p1.GetNumberFiles() - 1)
 121:WavPlayerTweak.cpp ****         {
 122:WavPlayerTweak.cpp ****             p1.Open(curfile + 1);
 123:WavPlayerTweak.cpp ****             hw.seed.PrintLine("changed plus");
 124:WavPlayerTweak.cpp ****         }
 125:WavPlayerTweak.cpp ****     }
 126:WavPlayerTweak.cpp ****     else if(inc < 0) {
 1993              		.loc 17 126 10 is_stmt 1 view .LVU553
 1994              	.LBB534:
 1995              	.LBB530:
 1996              	.LBB509:
 1997              		.loc 10 36 56 is_stmt 0 view .LVU554
 1998 00cc 636E     		ldr	r3, [r4, #100]
 1999              	.LVL137:
 2000              		.loc 10 36 56 view .LVU555
 2001              	.LBE509:
 2002              	.LBE530:
 117:WavPlayerTweak.cpp ****         size_t curfile;
 2003              		.loc 17 117 5 is_stmt 1 view .LVU556
 2004              	.LBB531:
 2005 00ce 002B     		cmp	r3, #0
 2006 00d0 18DD     		ble	.L118
 2007              	.LBB520:
 122:WavPlayerTweak.cpp ****             hw.seed.PrintLine("changed plus");
 2008              		.loc 17 122 13 view .LVU557
 120:WavPlayerTweak.cpp ****         if(curfile < p1.GetNumberFiles() - 1)
 2009              		.loc 17 120 42 is_stmt 0 view .LVU558
 2010 00d2 D5F8EC38 		ldr	r3, [r5, #2284]
 2011              	.LVL138:
 2012              	.LBB515:
 2013              	.LBB514:
 2014              		.loc 16 84 51 view .LVU559
 2015 00d6 D5F8F028 		ldr	r2, [r5, #2288]
 2016              	.LVL139:
 2017              		.loc 16 84 51 view .LVU560
 2018              	.LBE514:
 2019              	.LBE515:
 120:WavPlayerTweak.cpp ****         if(curfile < p1.GetNumberFiles() - 1)
 2020              		.loc 17 120 9 is_stmt 1 view .LVU561
 2021              	.LBB516:
 2022              	.LBI516:
  81:wavplayert.h  **** 
 2023              		.loc 16 81 19 view .LVU562
 2024              	.LBB517:
  81:wavplayert.h  **** 
 2025              		.loc 16 81 44 view .LVU563
  81:wavplayert.h  **** 
 2026              		.loc 16 81 44 is_stmt 0 view .LVU564
 2027              	.LBE517:
 2028              	.LBE516:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 76


 120:WavPlayerTweak.cpp ****         {
 2029              		.loc 17 120 42 view .LVU565
 2030 00da 013B     		subs	r3, r3, #1
 122:WavPlayerTweak.cpp ****             hw.seed.PrintLine("changed plus");
 2031              		.loc 17 122 20 view .LVU566
 2032 00dc 1E48     		ldr	r0, .L138+32
 2033 00de 511C     		adds	r1, r2, #1
 120:WavPlayerTweak.cpp ****         {
 2034              		.loc 17 120 9 view .LVU567
 2035 00e0 9342     		cmp	r3, r2
 2036 00e2 E7D9     		bls	.L115
 122:WavPlayerTweak.cpp ****             hw.seed.PrintLine("changed plus");
 2037              		.loc 17 122 20 view .LVU568
 2038 00e4 FFF7FEFF 		bl	_ZN5daisy10WavPlayerT4OpenEj
 2039              	.LVL140:
 123:WavPlayerTweak.cpp ****         }
 2040              		.loc 17 123 13 is_stmt 1 view .LVU569
 2041              	.LBB518:
 2042              	.LBI518:
 126:../../libDaisy/src/daisy_seed.h ****     {
 2043              		.loc 11 126 17 view .LVU570
 2044              	.LBB519:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2045              		.loc 11 128 23 is_stmt 0 view .LVU571
 2046 00e8 2048     		ldr	r0, .L138+52
 2047 00ea FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 2048              	.LVL141:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2049              		.loc 11 128 23 view .LVU572
 2050              	.LBE519:
 2051              	.LBE518:
 2052              	.LBE520:
 2053              	.LBE531:
 2054              	.LBE534:
 102:WavPlayerTweak.cpp ****     {
 2055              		.loc 17 102 5 is_stmt 1 view .LVU573
 2056              	.LBB535:
 105:WavPlayerTweak.cpp ****         {
 2057              		.loc 17 105 9 view .LVU574
 2058              	.LBB532:
 105:WavPlayerTweak.cpp ****         {
 2059              		.loc 17 105 35 is_stmt 0 view .LVU575
 2060 00ee 1A48     		ldr	r0, .L138+32
 2061 00f0 FFF7FEFF 		bl	_ZN5daisy10WavPlayerT7PrepareEv
 2062              	.LVL142:
 105:WavPlayerTweak.cpp ****         {
 2063              		.loc 17 105 9 view .LVU576
 2064 00f4 0146     		mov	r1, r0
 2065 00f6 0028     		cmp	r0, #0
 2066 00f8 E1D0     		beq	.L116
 2067              	.L137:
 107:WavPlayerTweak.cpp ****             asm("bkpt 255");
 2068              		.loc 17 107 13 is_stmt 1 view .LVU577
 2069              	.LVL143:
 2070              	.LBB505:
 2071              	.LBI505:
 126:../../libDaisy/src/daisy_seed.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 77


 2072              		.loc 11 126 17 view .LVU578
 2073              	.LBB506:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2074              		.loc 11 128 23 is_stmt 0 view .LVU579
 2075 00fa 1D48     		ldr	r0, .L138+56
 2076              	.LVL144:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2077              		.loc 11 128 23 view .LVU580
 2078 00fc FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 2079              	.LVL145:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2080              		.loc 11 128 23 view .LVU581
 2081              	.LBE506:
 2082              	.LBE505:
 108:WavPlayerTweak.cpp ****         }
 2083              		.loc 17 108 13 is_stmt 1 view .LVU582
 2084              		.syntax unified
 2085              	@ 108 "WavPlayerTweak.cpp" 1
 2086 0100 FFBE     		bkpt 255
 2087              	@ 0 "" 2
 2088              		.thumb
 2089              		.syntax unified
 2090 0102 DCE7     		b	.L116
 2091              	.LVL146:
 2092              	.L118:
 108:WavPlayerTweak.cpp ****         }
 2093              		.loc 17 108 13 is_stmt 0 view .LVU583
 2094              	.LBE532:
 2095              	.LBB533:
 2096              	.LBB521:
 2097              	.LBB522:
 127:WavPlayerTweak.cpp ****         size_t curfile;
 2098              		.loc 17 127 9 is_stmt 1 view .LVU584
 128:WavPlayerTweak.cpp ****         curfile = p1.GetCurrentFile();
 2099              		.loc 17 128 9 view .LVU585
 2100              	.LBB523:
 2101              	.LBI523:
 2102              		.loc 16 84 19 view .LVU586
 2103              	.LBB524:
 2104              		.loc 16 84 44 view .LVU587
 2105              	.LBE524:
 2106              	.LBE523:
 2107              	.LBE522:
 126:WavPlayerTweak.cpp ****         size_t curfile;
 2108              		.loc 17 126 10 is_stmt 0 view .LVU588
 2109 0104 D6D0     		beq	.L115
 2110              	.LBB529:
 2111              	.LBB526:
 2112              	.LBB525:
 2113              		.loc 16 84 51 view .LVU589
 2114 0106 D5F8F018 		ldr	r1, [r5, #2288]
 2115              	.LVL147:
 2116              		.loc 16 84 51 view .LVU590
 2117              	.LBE525:
 2118              	.LBE526:
 129:WavPlayerTweak.cpp ****         if(curfile > 0)
 2119              		.loc 17 129 9 is_stmt 1 view .LVU591
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 78


 2120 010a 0029     		cmp	r1, #0
 2121 010c D2D0     		beq	.L115
 130:WavPlayerTweak.cpp ****         {
 131:WavPlayerTweak.cpp ****             p1.Open(curfile - 1);
 2122              		.loc 17 131 13 view .LVU592
 2123              		.loc 17 131 20 is_stmt 0 view .LVU593
 2124 010e 0139     		subs	r1, r1, #1
 2125              	.LVL148:
 2126              		.loc 17 131 20 view .LVU594
 2127 0110 1148     		ldr	r0, .L138+32
 2128 0112 FFF7FEFF 		bl	_ZN5daisy10WavPlayerT4OpenEj
 2129              	.LVL149:
 132:WavPlayerTweak.cpp ****             hw.seed.PrintLine("changed minus");
 2130              		.loc 17 132 13 is_stmt 1 view .LVU595
 2131              	.LBB527:
 2132              	.LBI527:
 126:../../libDaisy/src/daisy_seed.h ****     {
 2133              		.loc 11 126 17 view .LVU596
 2134              	.LBB528:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2135              		.loc 11 128 23 is_stmt 0 view .LVU597
 2136 0116 1748     		ldr	r0, .L138+60
 2137 0118 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 2138              	.LVL150:
 129:../../libDaisy/src/daisy_seed.h **** 
 2139              		.loc 11 129 5 view .LVU598
 2140 011c CAE7     		b	.L115
 2141              	.LVL151:
 2142              	.L135:
 129:../../libDaisy/src/daisy_seed.h **** 
 2143              		.loc 11 129 5 view .LVU599
 2144              	.LBE528:
 2145              	.LBE527:
 2146              	.LBE529:
 2147              	.LBE521:
 2148              	.LBE533:
 2149              	.LBE535:
 2150              	.LBB536:
  62:WavPlayerTweak.cpp ****         asm("bkpt 255");
 2151              		.loc 17 62 9 is_stmt 1 view .LVU600
 2152              	.LBB476:
 2153              	.LBI476:
 126:../../libDaisy/src/daisy_seed.h ****     {
 2154              		.loc 11 126 17 view .LVU601
 2155              	.LBB477:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2156              		.loc 11 128 23 is_stmt 0 view .LVU602
 2157 011e 0146     		mov	r1, r0
 2158 0120 1548     		ldr	r0, .L138+64
 2159              	.LVL152:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2160              		.loc 11 128 23 view .LVU603
 2161 0122 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 2162              	.LVL153:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2163              		.loc 11 128 23 view .LVU604
 2164              	.LBE477:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 79


 2165              	.LBE476:
  63:WavPlayerTweak.cpp ****     }
 2166              		.loc 17 63 9 is_stmt 1 view .LVU605
 2167              		.syntax unified
 2168              	@ 63 "WavPlayerTweak.cpp" 1
 2169 0126 FFBE     		bkpt 255
 2170              	@ 0 "" 2
 2171              		.thumb
 2172              		.syntax unified
 2173 0128 95E7     		b	.L113
 2174              	.LVL154:
 2175              	.L136:
  63:WavPlayerTweak.cpp ****     }
 2176              		.loc 17 63 9 is_stmt 0 view .LVU606
 2177              	.LBE536:
 2178              	.LBB537:
  71:WavPlayerTweak.cpp ****         asm("bkpt 255");
 2179              		.loc 17 71 9 is_stmt 1 view .LVU607
 2180              	.LBB484:
 2181              	.LBI484:
 126:../../libDaisy/src/daisy_seed.h ****     {
 2182              		.loc 11 126 17 view .LVU608
 2183              	.LBB485:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2184              		.loc 11 128 23 is_stmt 0 view .LVU609
 2185 012a 0146     		mov	r1, r0
 2186 012c 1348     		ldr	r0, .L138+68
 2187              	.LVL155:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2188              		.loc 11 128 23 view .LVU610
 2189 012e FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 2190              	.LVL156:
 128:../../libDaisy/src/daisy_seed.h ****     }
 2191              		.loc 11 128 23 view .LVU611
 2192              	.LBE485:
 2193              	.LBE484:
  72:WavPlayerTweak.cpp ****     }
 2194              		.loc 17 72 9 is_stmt 1 view .LVU612
 2195              		.syntax unified
 2196              	@ 72 "WavPlayerTweak.cpp" 1
 2197 0132 FFBE     		bkpt 255
 2198              	@ 0 "" 2
 2199              		.thumb
 2200              		.syntax unified
 2201 0134 A1E7     		b	.L114
 2202              	.L139:
 2203 0136 00BF     		.align	2
 2204              	.L138:
 2205 0138 00000000 		.word	hw
 2206 013c 00000000 		.word	.LANCHOR0
 2207 0140 00000000 		.word	.LANCHOR1
 2208 0144 00000000 		.word	.LC4
 2209 0148 74040000 		.word	.LANCHOR1+1140
 2210 014c 24000000 		.word	.LC6
 2211 0150 00000000 		.word	buffer1
 2212 0154 10000000 		.word	.LC2
 2213 0158 00000000 		.word	p1
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 80


 2214 015c 00300000 		.word	p1+12288
 2215 0160 48000000 		.word	.LC8
 2216 0164 60000000 		.word	.LC9
 2217 0168 00000000 		.word	_Z13AudioCallbackPKfPfj
 2218 016c 98000000 		.word	.LC11
 2219 0170 74000000 		.word	.LC10
 2220 0174 A8000000 		.word	.LC12
 2221 0178 0C000000 		.word	.LC5
 2222 017c 28000000 		.word	.LC7
 2223              	.LBE537:
 2224              		.cfi_endproc
 2225              	.LFE4712:
 2227              		.section	.text.startup._GLOBAL__sub_I__ZN5daisy10WavPlayerT4InitEPKcPsjj,"ax",%progbits
 2228              		.align	1
 2229              		.p2align 2,,3
 2230              		.syntax unified
 2231              		.thumb
 2232              		.thumb_func
 2234              	_GLOBAL__sub_I__ZN5daisy10WavPlayerT4InitEPKcPsjj:
 2235              	.LFB5301:
 133:WavPlayerTweak.cpp ****         }
 134:WavPlayerTweak.cpp ****     }
 135:WavPlayerTweak.cpp **** 
 136:WavPlayerTweak.cpp ****         // prepare samples for sampler 2; manage errors
 137:WavPlayerTweak.cpp ****         // if(int result = p2.Prepare())
 138:WavPlayerTweak.cpp ****         // {
 139:WavPlayerTweak.cpp ****         //     hw.PrintLine("ERROR WHILE PREPARING P2 - err %d", result);
 140:WavPlayerTweak.cpp ****         //     asm("bkpt 255");
 141:WavPlayerTweak.cpp ****         // }
 142:WavPlayerTweak.cpp ****     }
 143:WavPlayerTweak.cpp **** }...
 2236              		.loc 17 143 1 view -0
 2237              		.cfi_startproc
 2238              		@ args = 0, pretend = 0, frame = 0
 2239              		@ frame_needed = 0, uses_anonymous_args = 0
 2240              	.LBB612:
 2241              	.LBI612:
 2242              		.loc 17 143 1 view .LVU614
 2243              	.LVL157:
 2244              	.LBB613:
 2245              	.LBB614:
 2246              	.LBI614:
  35:../../libDaisy/src/daisy_pod.h ****     ~DaisyPod() {}
 2247              		.loc 2 35 5 view .LVU615
 2248              	.LBB615:
 2249              	.LBB616:
 2250              	.LBI616:
  21:../../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 2251              		.loc 11 21 5 view .LVU616
 2252              	.LBB617:
 2253              	.LBB618:
 2254              	.LBI618:
 2255              		.file 21 "../../libDaisy/src/per/qspi.h"
   1:../../libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
   3:../../libDaisy/src/per/qspi.h **** 
   4:../../libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 81


   5:../../libDaisy/src/per/qspi.h **** 
   6:../../libDaisy/src/per/qspi.h **** #include <cstdint>
   7:../../libDaisy/src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../../libDaisy/src/per/qspi.h **** 
   9:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  11:../../libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  14:../../libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../../libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  17:../../libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../../libDaisy/src/per/qspi.h **** 
  19:../../libDaisy/src/per/qspi.h **** namespace daisy
  20:../../libDaisy/src/per/qspi.h **** {
  21:../../libDaisy/src/per/qspi.h **** /** @addtogroup serial
  22:../../libDaisy/src/per/qspi.h **** @{
  23:../../libDaisy/src/per/qspi.h **** */
  24:../../libDaisy/src/per/qspi.h **** 
  25:../../libDaisy/src/per/qspi.h **** /** 
  26:../../libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../../libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../../libDaisy/src/per/qspi.h ****     * IS25LP080D
  29:../../libDaisy/src/per/qspi.h **** */
  30:../../libDaisy/src/per/qspi.h **** class QSPIHandle
  31:../../libDaisy/src/per/qspi.h **** {
  32:../../libDaisy/src/per/qspi.h ****   public:
  33:../../libDaisy/src/per/qspi.h ****     enum Result
  34:../../libDaisy/src/per/qspi.h ****     {
  35:../../libDaisy/src/per/qspi.h ****         OK = 0,
  36:../../libDaisy/src/per/qspi.h ****         ERR
  37:../../libDaisy/src/per/qspi.h ****     };
  38:../../libDaisy/src/per/qspi.h **** 
  39:../../libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../../libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../../libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../../libDaisy/src/per/qspi.h ****          * 
  43:../../libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../../libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../../libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../../libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../../libDaisy/src/per/qspi.h ****          */
  48:../../libDaisy/src/per/qspi.h ****     enum Status
  49:../../libDaisy/src/per/qspi.h ****     {
  50:../../libDaisy/src/per/qspi.h ****         GOOD = 0,
  51:../../libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  52:../../libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../../libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  54:../../libDaisy/src/per/qspi.h ****     };
  55:../../libDaisy/src/per/qspi.h **** 
  56:../../libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../../libDaisy/src/per/qspi.h ****     struct Config
  58:../../libDaisy/src/per/qspi.h ****     {
  59:../../libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
  60:../../libDaisy/src/per/qspi.h ****         enum Device
  61:../../libDaisy/src/per/qspi.h ****         {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 82


  62:../../libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../../libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../../libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../../libDaisy/src/per/qspi.h ****         };
  66:../../libDaisy/src/per/qspi.h **** 
  67:../../libDaisy/src/per/qspi.h ****         /** 
  68:../../libDaisy/src/per/qspi.h ****         Modes of operation.
  69:../../libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../../libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../../libDaisy/src/per/qspi.h ****         possible in this mode. \n 
  72:../../libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../../libDaisy/src/per/qspi.h ****         */
  74:../../libDaisy/src/per/qspi.h ****         enum Mode
  75:../../libDaisy/src/per/qspi.h ****         {
  76:../../libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../../libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../../libDaisy/src/per/qspi.h ****             MODE_LAST,
  79:../../libDaisy/src/per/qspi.h ****         };
  80:../../libDaisy/src/per/qspi.h **** 
  81:../../libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../../libDaisy/src/per/qspi.h ****         struct
  83:../../libDaisy/src/per/qspi.h ****         {
  84:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../../libDaisy/src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../../libDaisy/src/per/qspi.h ****         } pin_config;
  91:../../libDaisy/src/per/qspi.h **** 
  92:../../libDaisy/src/per/qspi.h ****         Device device;
  93:../../libDaisy/src/per/qspi.h ****         Mode   mode;
  94:../../libDaisy/src/per/qspi.h ****     };
  95:../../libDaisy/src/per/qspi.h **** 
  96:../../libDaisy/src/per/qspi.h ****     /** 
  97:../../libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../../libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../../libDaisy/src/per/qspi.h ****         */
 101:../../libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 102:../../libDaisy/src/per/qspi.h **** 
 103:../../libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 104:../../libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 105:../../libDaisy/src/per/qspi.h **** 
 106:../../libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../../libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../../libDaisy/src/per/qspi.h ****     /** 
 109:../../libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 110:../../libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../../libDaisy/src/per/qspi.h ****         */
 113:../../libDaisy/src/per/qspi.h ****     Result DeInit();
 114:../../libDaisy/src/per/qspi.h **** 
 115:../../libDaisy/src/per/qspi.h ****     /** 
 116:../../libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
 117:../../libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../../libDaisy/src/per/qspi.h ****         \param address Address to write to
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 83


 119:../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 120:../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 121:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../../libDaisy/src/per/qspi.h ****         */
 123:../../libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../../libDaisy/src/per/qspi.h **** 
 125:../../libDaisy/src/per/qspi.h ****     /** 
 126:../../libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../../libDaisy/src/per/qspi.h ****         \param address Address to write to
 128:../../libDaisy/src/per/qspi.h ****         \param size Buffer size
 129:../../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 130:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../../libDaisy/src/per/qspi.h ****         */
 132:../../libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../../libDaisy/src/per/qspi.h **** 
 134:../../libDaisy/src/per/qspi.h ****     /** 
 135:../../libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 136:../../libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../../libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../../libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../../libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../../libDaisy/src/per/qspi.h ****         */
 142:../../libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../../libDaisy/src/per/qspi.h **** 
 144:../../libDaisy/src/per/qspi.h ****     /**  
 145:../../libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../../libDaisy/src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../../libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 148:../../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../../libDaisy/src/per/qspi.h ****         */
 150:../../libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../../libDaisy/src/per/qspi.h **** 
 152:../../libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../../libDaisy/src/per/qspi.h ****      *  \returns Status
 154:../../libDaisy/src/per/qspi.h ****      */
 155:../../libDaisy/src/per/qspi.h ****     Status GetStatus();
 156:../../libDaisy/src/per/qspi.h **** 
 157:../../libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../../libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 159:../../libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 160:../../libDaisy/src/per/qspi.h ****      * 
 161:../../libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../../libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 163:../../libDaisy/src/per/qspi.h ****     */
 164:../../libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../../libDaisy/src/per/qspi.h **** 
 166:../../libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 2256              		.loc 21 166 5 view .LVU617
 2257              	.LBE618:
 2258              	.LBE617:
 2259              	.LBE616:
 2260              	.LBE615:
 2261              	.LBE614:
 2262              	.LBE613:
 2263              	.LBE612:
 2264              		.loc 17 143 1 is_stmt 0 view .LVU618
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 84


 2265 0000 38B5     		push	{r3, r4, r5, lr}
 2266              		.cfi_def_cfa_offset 16
 2267              		.cfi_offset 3, -16
 2268              		.cfi_offset 4, -12
 2269              		.cfi_offset 5, -8
 2270              		.cfi_offset 14, -4
 2271              	.LBB706:
 2272              	.LBB704:
 2273              	.LBB699:
 2274              	.LBB697:
 2275              	.LBB639:
 2276              	.LBB637:
 2277              	.LBB623:
 2278              	.LBB619:
 2279              	.LBB620:
 2280              		.loc 21 166 34 view .LVU619
 2281 0002 174C     		ldr	r4, .L142
 2282 0004 0025     		movs	r5, #0
 2283              	.LBE620:
 2284              	.LBE619:
 2285              	.LBE623:
 2286              	.LBE637:
 2287              	.LBE639:
 2288              	.LBB640:
 2289              	.LBB641:
 2290              	.LBB642:
 2291              	.LBB643:
 157:../../libDaisy/src/hid/midi.h **** 
 158:../../libDaisy/src/hid/midi.h ****     struct Config
 2292              		.loc 3 158 12 view .LVU620
 2293 0006 04F5C070 		add	r0, r4, #384
 2294              	.LBE643:
 2295              	.LBE642:
 2296              	.LBE641:
 2297              	.LBE640:
 2298              	.LBB677:
 2299              	.LBB638:
 2300              	.LBB624:
 2301              	.LBB622:
 2302              	.LBB621:
 2303              		.loc 21 166 34 view .LVU621
 2304 000a 2560     		str	r5, [r4]
 2305              	.LVL158:
 2306              		.loc 21 166 34 view .LVU622
 2307              	.LBE621:
 2308              	.LBE622:
 2309              	.LBE624:
 2310              	.LBB625:
 2311              	.LBI625:
  95:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 2312              		.loc 15 95 5 is_stmt 1 view .LVU623
 2313              	.LBB626:
 2314              	.LBB627:
  95:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 2315              		.loc 15 95 35 is_stmt 0 view .LVU624
 2316 000c 6561     		str	r5, [r4, #20]
 2317              	.LVL159:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 85


  95:../../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 2318              		.loc 15 95 35 view .LVU625
 2319              	.LBE627:
 2320              	.LBE626:
 2321              	.LBE625:
 2322              	.LBB628:
 2323              	.LBI628:
 109:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 2324              		.loc 14 109 5 is_stmt 1 view .LVU626
 109:../../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 2325              		.loc 14 109 5 is_stmt 0 view .LVU627
 2326              	.LBE628:
 2327              	.LBB629:
 2328              	.LBI629:
 2329              		.file 22 "../../libDaisy/src/per/dac.h"
   1:../../libDaisy/src/per/dac.h **** #pragma once
   2:../../libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../../libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../../libDaisy/src/per/dac.h **** 
   5:../../libDaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../../libDaisy/src/per/dac.h **** 
   7:../../libDaisy/src/per/dac.h **** namespace daisy
   8:../../libDaisy/src/per/dac.h **** {
   9:../../libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../../libDaisy/src/per/dac.h ****  *  @ingroup per_analog
  11:../../libDaisy/src/per/dac.h ****  ** 
  12:../../libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../../libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../../libDaisy/src/per/dac.h ****  **
  15:../../libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../../libDaisy/src/per/dac.h ****  **
  17:../../libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../../libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../../libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../../libDaisy/src/per/dac.h ****  ***/
  21:../../libDaisy/src/per/dac.h **** class DacHandle
  22:../../libDaisy/src/per/dac.h **** {
  23:../../libDaisy/src/per/dac.h ****   public:
  24:../../libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../../libDaisy/src/per/dac.h ****     enum class Result
  26:../../libDaisy/src/per/dac.h ****     {
  27:../../libDaisy/src/per/dac.h ****         OK,
  28:../../libDaisy/src/per/dac.h ****         ERR,
  29:../../libDaisy/src/per/dac.h ****     };
  30:../../libDaisy/src/per/dac.h **** 
  31:../../libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../../libDaisy/src/per/dac.h ****     enum class Channel
  33:../../libDaisy/src/per/dac.h ****     {
  34:../../libDaisy/src/per/dac.h ****         ONE,
  35:../../libDaisy/src/per/dac.h ****         TWO,
  36:../../libDaisy/src/per/dac.h ****         BOTH,
  37:../../libDaisy/src/per/dac.h ****     };
  38:../../libDaisy/src/per/dac.h **** 
  39:../../libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../../libDaisy/src/per/dac.h ****      **
  41:../../libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../../libDaisy/src/per/dac.h ****      **
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 86


  43:../../libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../../libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../../libDaisy/src/per/dac.h ****      ***/
  46:../../libDaisy/src/per/dac.h ****     enum class Mode
  47:../../libDaisy/src/per/dac.h ****     {
  48:../../libDaisy/src/per/dac.h ****         POLLING,
  49:../../libDaisy/src/per/dac.h ****         DMA,
  50:../../libDaisy/src/per/dac.h ****     };
  51:../../libDaisy/src/per/dac.h **** 
  52:../../libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../../libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../../libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../../libDaisy/src/per/dac.h ****      ***/
  56:../../libDaisy/src/per/dac.h ****     enum class BitDepth
  57:../../libDaisy/src/per/dac.h ****     {
  58:../../libDaisy/src/per/dac.h ****         BITS_8,
  59:../../libDaisy/src/per/dac.h ****         BITS_12
  60:../../libDaisy/src/per/dac.h ****     };
  61:../../libDaisy/src/per/dac.h **** 
  62:../../libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../../libDaisy/src/per/dac.h ****     enum class BufferState
  64:../../libDaisy/src/per/dac.h ****     {
  65:../../libDaisy/src/per/dac.h ****         ENABLED,
  66:../../libDaisy/src/per/dac.h ****         DISABLED,
  67:../../libDaisy/src/per/dac.h ****     };
  68:../../libDaisy/src/per/dac.h **** 
  69:../../libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../../libDaisy/src/per/dac.h ****     struct Config
  71:../../libDaisy/src/per/dac.h ****     {
  72:../../libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../../libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../../libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../../libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../../libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:../../libDaisy/src/per/dac.h **** 
  78:../../libDaisy/src/per/dac.h ****         Channel     chn;
  79:../../libDaisy/src/per/dac.h ****         Mode        mode;
  80:../../libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:../../libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:../../libDaisy/src/per/dac.h ****     };
  83:../../libDaisy/src/per/dac.h **** 
  84:../../libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 2330              		.loc 22 84 5 is_stmt 1 view .LVU628
 2331              	.LBB630:
 2332              	.LBB631:
 2333              		.loc 22 84 33 is_stmt 0 view .LVU629
 2334 000e 2562     		str	r5, [r4, #32]
 2335              	.LVL160:
 2336              		.loc 22 84 33 view .LVU630
 2337              	.LBE631:
 2338              	.LBE630:
 2339              	.LBE629:
 2340              	.LBB632:
 2341              	.LBI632:
  40:../../libDaisy/src/hid/usb.h **** 
 2342              		.loc 13 40 5 is_stmt 1 view .LVU631
  40:../../libDaisy/src/hid/usb.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 87


 2343              		.loc 13 40 5 is_stmt 0 view .LVU632
 2344              	.LBE632:
 2345              	.LBB633:
 2346              	.LBI633:
  96:../../libDaisy/src/sys/system.h ****     ~System() {}
 2347              		.loc 12 96 5 is_stmt 1 view .LVU633
  96:../../libDaisy/src/sys/system.h ****     ~System() {}
 2348              		.loc 12 96 5 is_stmt 0 view .LVU634
 2349              	.LBE633:
 2350              	.LBB634:
 2351              	.LBI634:
 2352              		.file 23 "../../libDaisy/src/per/sai.h"
   1:../../libDaisy/src/per/sai.h **** #pragma once
   2:../../libDaisy/src/per/sai.h **** #ifndef DSY_SAI_H
   3:../../libDaisy/src/per/sai.h **** #define DSY_SAI_H
   4:../../libDaisy/src/per/sai.h **** 
   5:../../libDaisy/src/per/sai.h **** #include "daisy_core.h"
   6:../../libDaisy/src/per/sai.h **** 
   7:../../libDaisy/src/per/sai.h **** namespace daisy
   8:../../libDaisy/src/per/sai.h **** {
   9:../../libDaisy/src/per/sai.h **** /** 
  10:../../libDaisy/src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  11:../../libDaisy/src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  12:../../libDaisy/src/per/sai.h ****  * and other behavior for each peripheral, and block.
  13:../../libDaisy/src/per/sai.h ****  * 
  14:../../libDaisy/src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  15:../../libDaisy/src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  16:../../libDaisy/src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  17:../../libDaisy/src/per/sai.h ****  *
  18:../../libDaisy/src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  19:../../libDaisy/src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  20:../../libDaisy/src/per/sai.h ****  * 
  21:../../libDaisy/src/per/sai.h ****  * Use SAI Handle like this:
  22:../../libDaisy/src/per/sai.h ****  * 
  23:../../libDaisy/src/per/sai.h ****  *  SaiHandle::Config sai_config;
  24:../../libDaisy/src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  25:../../libDaisy/src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  26:../../libDaisy/src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
  27:../../libDaisy/src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  28:../../libDaisy/src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  29:../../libDaisy/src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
  30:../../libDaisy/src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  31:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
  32:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  33:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  34:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  35:../../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
  36:../../libDaisy/src/per/sai.h ****  *  // Then Initialize
  37:../../libDaisy/src/per/sai.h ****  *  SaiHandle sai;
  38:../../libDaisy/src/per/sai.h ****  *  sai.Init(sai_config);
  39:../../libDaisy/src/per/sai.h ****  *  // Now you can use it:
  40:../../libDaisy/src/per/sai.h ****  *  sai.StartDma(. . .);
  41:../../libDaisy/src/per/sai.h ****  */
  42:../../libDaisy/src/per/sai.h **** class SaiHandle
  43:../../libDaisy/src/per/sai.h **** {
  44:../../libDaisy/src/per/sai.h ****   public:
  45:../../libDaisy/src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 88


  46:../../libDaisy/src/per/sai.h ****     struct Config
  47:../../libDaisy/src/per/sai.h ****     {
  48:../../libDaisy/src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  49:../../libDaisy/src/per/sai.h ****         enum class Peripheral
  50:../../libDaisy/src/per/sai.h ****         {
  51:../../libDaisy/src/per/sai.h ****             SAI_1,
  52:../../libDaisy/src/per/sai.h ****             SAI_2,
  53:../../libDaisy/src/per/sai.h ****         };
  54:../../libDaisy/src/per/sai.h **** 
  55:../../libDaisy/src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  56:../../libDaisy/src/per/sai.h ****         enum class SampleRate
  57:../../libDaisy/src/per/sai.h ****         {
  58:../../libDaisy/src/per/sai.h ****             SAI_8KHZ,
  59:../../libDaisy/src/per/sai.h ****             SAI_16KHZ,
  60:../../libDaisy/src/per/sai.h ****             SAI_32KHZ,
  61:../../libDaisy/src/per/sai.h ****             SAI_48KHZ,
  62:../../libDaisy/src/per/sai.h ****             SAI_96KHZ,
  63:../../libDaisy/src/per/sai.h ****         };
  64:../../libDaisy/src/per/sai.h **** 
  65:../../libDaisy/src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  66:../../libDaisy/src/per/sai.h ****         enum class BitDepth
  67:../../libDaisy/src/per/sai.h ****         {
  68:../../libDaisy/src/per/sai.h ****             SAI_16BIT,
  69:../../libDaisy/src/per/sai.h ****             SAI_24BIT,
  70:../../libDaisy/src/per/sai.h ****             SAI_32BIT,
  71:../../libDaisy/src/per/sai.h ****         };
  72:../../libDaisy/src/per/sai.h **** 
  73:../../libDaisy/src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  74:../../libDaisy/src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  75:../../libDaisy/src/per/sai.h ****          ** expected that the codec will have its own xtal.
  76:../../libDaisy/src/per/sai.h ****          */
  77:../../libDaisy/src/per/sai.h ****         enum class Sync
  78:../../libDaisy/src/per/sai.h ****         {
  79:../../libDaisy/src/per/sai.h ****             MASTER,
  80:../../libDaisy/src/per/sai.h ****             SLAVE,
  81:../../libDaisy/src/per/sai.h ****         };
  82:../../libDaisy/src/per/sai.h **** 
  83:../../libDaisy/src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
  84:../../libDaisy/src/per/sai.h ****         enum class Direction
  85:../../libDaisy/src/per/sai.h ****         {
  86:../../libDaisy/src/per/sai.h ****             TRANSMIT,
  87:../../libDaisy/src/per/sai.h ****             RECEIVE,
  88:../../libDaisy/src/per/sai.h ****         };
  89:../../libDaisy/src/per/sai.h **** 
  90:../../libDaisy/src/per/sai.h ****         Peripheral periph;
  91:../../libDaisy/src/per/sai.h ****         struct
  92:../../libDaisy/src/per/sai.h ****         {
  93:../../libDaisy/src/per/sai.h ****             dsy_gpio_pin mclk, fs, sck, sa, sb;
  94:../../libDaisy/src/per/sai.h ****         } pin_config;
  95:../../libDaisy/src/per/sai.h ****         SampleRate sr;
  96:../../libDaisy/src/per/sai.h ****         BitDepth   bit_depth;
  97:../../libDaisy/src/per/sai.h ****         Sync       a_sync, b_sync;
  98:../../libDaisy/src/per/sai.h ****         Direction  a_dir, b_dir;
  99:../../libDaisy/src/per/sai.h ****     };
 100:../../libDaisy/src/per/sai.h **** 
 101:../../libDaisy/src/per/sai.h ****     /** Return values for SAI functions */
 102:../../libDaisy/src/per/sai.h ****     enum class Result
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 89


 103:../../libDaisy/src/per/sai.h ****     {
 104:../../libDaisy/src/per/sai.h ****         OK,
 105:../../libDaisy/src/per/sai.h ****         ERR,
 106:../../libDaisy/src/per/sai.h ****     };
 107:../../libDaisy/src/per/sai.h **** 
 108:../../libDaisy/src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 2353              		.loc 23 108 5 is_stmt 1 view .LVU635
 2354              	.LBB635:
 2355              	.LBB636:
 2356              		.loc 23 108 33 is_stmt 0 view .LVU636
 2357 0010 E563     		str	r5, [r4, #60]
 2358              	.LVL161:
 2359              		.loc 23 108 33 view .LVU637
 2360              	.LBE636:
 2361              	.LBE635:
 2362              	.LBE634:
 2363              	.LBE638:
 2364              	.LBE677:
 2365              	.LBB678:
 2366              	.LBI678:
  20:../../libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 2367              		.loc 10 20 5 is_stmt 1 view .LVU638
 2368              	.LBB679:
 2369              	.LBB680:
 2370              	.LBI680:
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 2371              		.loc 8 41 5 view .LVU639
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 2372              		.loc 8 41 5 is_stmt 0 view .LVU640
 2373              	.LBE680:
 2374              	.LBE679:
 2375              	.LBE678:
 2376              	.LBB681:
 2377              	.LBI681:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 2378              		.loc 9 21 5 is_stmt 1 view .LVU641
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 2379              		.loc 9 21 5 is_stmt 0 view .LVU642
 2380              	.LBE681:
 2381              	.LBB682:
 2382              	.LBI682:
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 2383              		.loc 9 21 5 is_stmt 1 view .LVU643
  21:../../libDaisy/src/hid/ctrl.h ****     /** destructor */
 2384              		.loc 9 21 5 is_stmt 0 view .LVU644
 2385              	.LBE682:
 2386              	.LBB683:
 2387              	.LBI683:
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 2388              		.loc 8 41 5 is_stmt 1 view .LVU645
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 2389              		.loc 8 41 5 is_stmt 0 view .LVU646
 2390              	.LBE683:
 2391              	.LBB684:
 2392              	.LBI684:
  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 2393              		.loc 8 41 5 is_stmt 1 view .LVU647
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 90


  41:../../libDaisy/src/hid/switch.h ****     ~Switch() {}
 2394              		.loc 8 41 5 is_stmt 0 view .LVU648
 2395              	.LBE684:
 2396              	.LBB685:
 2397              	.LBI685:
  17:../../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 2398              		.loc 6 17 5 is_stmt 1 view .LVU649
 2399              	.LBB686:
 2400              	.LBB687:
 2401              	.LBI687:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2402              		.loc 7 24 5 view .LVU650
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2403              		.loc 7 24 5 is_stmt 0 view .LVU651
 2404              	.LBE687:
 2405              	.LBB688:
 2406              	.LBI688:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2407              		.loc 7 24 5 is_stmt 1 view .LVU652
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2408              		.loc 7 24 5 is_stmt 0 view .LVU653
 2409              	.LBE688:
 2410              	.LBB689:
 2411              	.LBI689:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2412              		.loc 7 24 5 is_stmt 1 view .LVU654
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2413              		.loc 7 24 5 is_stmt 0 view .LVU655
 2414              	.LBE689:
 2415              	.LBE686:
 2416              	.LBE685:
 2417              	.LBB690:
 2418              	.LBI690:
  17:../../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 2419              		.loc 6 17 5 is_stmt 1 view .LVU656
 2420              	.LBB691:
 2421              	.LBB692:
 2422              	.LBI692:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2423              		.loc 7 24 5 view .LVU657
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2424              		.loc 7 24 5 is_stmt 0 view .LVU658
 2425              	.LBE692:
 2426              	.LBB693:
 2427              	.LBI693:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2428              		.loc 7 24 5 is_stmt 1 view .LVU659
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2429              		.loc 7 24 5 is_stmt 0 view .LVU660
 2430              	.LBE693:
 2431              	.LBB694:
 2432              	.LBI694:
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2433              		.loc 7 24 5 is_stmt 1 view .LVU661
  24:../../libDaisy/src/hid/led.h ****     ~Led() {}
 2434              		.loc 7 24 5 is_stmt 0 view .LVU662
 2435              	.LBE694:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 91


 2436              	.LBE691:
 2437              	.LBE690:
 2438              	.LBB695:
 2439              	.LBI640:
 155:../../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 2440              		.loc 3 155 5 is_stmt 1 view .LVU663
 2441              	.LBB675:
 2442              	.LBB645:
 2443              	.LBI642:
 2444              		.loc 3 158 12 view .LVU664
 2445              	.LBB644:
 2446 0012 FFF7FEFF 		bl	_ZN5daisy17MidiUartTransport6ConfigC1Ev
 2447              	.LVL162:
 2448              		.loc 3 158 12 is_stmt 0 view .LVU665
 2449              	.LBE644:
 2450              	.LBE645:
 2451              	.LBB646:
 2452              	.LBI646:
  31:../../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
 2453              		.loc 3 31 5 is_stmt 1 view .LVU666
 2454              	.LBB647:
 2455              	.LBB648:
 2456              	.LBI648:
 2457              		.file 24 "../../libDaisy/src/per/uart.h"
   1:../../libDaisy/src/per/uart.h **** /* 
   2:../../libDaisy/src/per/uart.h **** TODO
   3:../../libDaisy/src/per/uart.h **** - Overflow handling, etc. for Rx Queue.
   4:../../libDaisy/src/per/uart.h **** */
   5:../../libDaisy/src/per/uart.h **** 
   6:../../libDaisy/src/per/uart.h **** #pragma once
   7:../../libDaisy/src/per/uart.h **** #ifndef DSY_UART_H
   8:../../libDaisy/src/per/uart.h **** #define DSY_UART_H /**< macro */
   9:../../libDaisy/src/per/uart.h **** #include "daisy_core.h"
  10:../../libDaisy/src/per/uart.h **** 
  11:../../libDaisy/src/per/uart.h **** 
  12:../../libDaisy/src/per/uart.h **** namespace daisy
  13:../../libDaisy/src/per/uart.h **** {
  14:../../libDaisy/src/per/uart.h **** /** @addtogroup serial
  15:../../libDaisy/src/per/uart.h ****     @{
  16:../../libDaisy/src/per/uart.h ****     */
  17:../../libDaisy/src/per/uart.h **** 
  18:../../libDaisy/src/per/uart.h **** /** 
  19:../../libDaisy/src/per/uart.h ****     Uart Peripheral
  20:../../libDaisy/src/per/uart.h ****     @author shensley
  21:../../libDaisy/src/per/uart.h ****     @date March 2020
  22:../../libDaisy/src/per/uart.h ****     */
  23:../../libDaisy/src/per/uart.h **** class UartHandler
  24:../../libDaisy/src/per/uart.h **** {
  25:../../libDaisy/src/per/uart.h ****   public:
  26:../../libDaisy/src/per/uart.h ****     struct Config
  27:../../libDaisy/src/per/uart.h ****     {
  28:../../libDaisy/src/per/uart.h ****         enum class Peripheral
  29:../../libDaisy/src/per/uart.h ****         {
  30:../../libDaisy/src/per/uart.h ****             USART_1,
  31:../../libDaisy/src/per/uart.h ****             USART_2,
  32:../../libDaisy/src/per/uart.h ****             USART_3,
  33:../../libDaisy/src/per/uart.h ****             UART_4,
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 92


  34:../../libDaisy/src/per/uart.h ****             UART_5,
  35:../../libDaisy/src/per/uart.h ****             USART_6,
  36:../../libDaisy/src/per/uart.h ****             UART_7,
  37:../../libDaisy/src/per/uart.h ****             UART_8,
  38:../../libDaisy/src/per/uart.h ****             LPUART_1,
  39:../../libDaisy/src/per/uart.h ****         };
  40:../../libDaisy/src/per/uart.h **** 
  41:../../libDaisy/src/per/uart.h ****         enum class StopBits
  42:../../libDaisy/src/per/uart.h ****         {
  43:../../libDaisy/src/per/uart.h ****             BITS_0_5,
  44:../../libDaisy/src/per/uart.h ****             BITS_1,
  45:../../libDaisy/src/per/uart.h ****             BITS_1_5,
  46:../../libDaisy/src/per/uart.h ****             BITS_2,
  47:../../libDaisy/src/per/uart.h ****         };
  48:../../libDaisy/src/per/uart.h **** 
  49:../../libDaisy/src/per/uart.h ****         enum class Parity
  50:../../libDaisy/src/per/uart.h ****         {
  51:../../libDaisy/src/per/uart.h ****             NONE,
  52:../../libDaisy/src/per/uart.h ****             EVEN,
  53:../../libDaisy/src/per/uart.h ****             ODD,
  54:../../libDaisy/src/per/uart.h ****         };
  55:../../libDaisy/src/per/uart.h **** 
  56:../../libDaisy/src/per/uart.h ****         enum class Mode
  57:../../libDaisy/src/per/uart.h ****         {
  58:../../libDaisy/src/per/uart.h ****             RX,
  59:../../libDaisy/src/per/uart.h ****             TX,
  60:../../libDaisy/src/per/uart.h ****             TX_RX,
  61:../../libDaisy/src/per/uart.h ****         };
  62:../../libDaisy/src/per/uart.h **** 
  63:../../libDaisy/src/per/uart.h ****         enum class WordLength
  64:../../libDaisy/src/per/uart.h ****         {
  65:../../libDaisy/src/per/uart.h ****             BITS_7,
  66:../../libDaisy/src/per/uart.h ****             BITS_8,
  67:../../libDaisy/src/per/uart.h ****             BITS_9,
  68:../../libDaisy/src/per/uart.h ****         };
  69:../../libDaisy/src/per/uart.h **** 
  70:../../libDaisy/src/per/uart.h ****         struct
  71:../../libDaisy/src/per/uart.h ****         {
  72:../../libDaisy/src/per/uart.h ****             dsy_gpio_pin tx; /**< & */
  73:../../libDaisy/src/per/uart.h ****             dsy_gpio_pin rx; /**< & */
  74:../../libDaisy/src/per/uart.h ****         } pin_config;        /**< & */
  75:../../libDaisy/src/per/uart.h **** 
  76:../../libDaisy/src/per/uart.h ****         Config()
  77:../../libDaisy/src/per/uart.h ****         {
  78:../../libDaisy/src/per/uart.h ****             // user must init periph, pin_config, and mode
  79:../../libDaisy/src/per/uart.h ****             stopbits   = StopBits::BITS_1;
  80:../../libDaisy/src/per/uart.h ****             parity     = Parity::NONE;
  81:../../libDaisy/src/per/uart.h ****             wordlength = WordLength::BITS_8;
  82:../../libDaisy/src/per/uart.h ****             baudrate   = 31250;
  83:../../libDaisy/src/per/uart.h ****         }
  84:../../libDaisy/src/per/uart.h **** 
  85:../../libDaisy/src/per/uart.h ****         Peripheral periph;
  86:../../libDaisy/src/per/uart.h ****         StopBits   stopbits;
  87:../../libDaisy/src/per/uart.h ****         Parity     parity;
  88:../../libDaisy/src/per/uart.h ****         Mode       mode;
  89:../../libDaisy/src/per/uart.h ****         WordLength wordlength;
  90:../../libDaisy/src/per/uart.h ****         uint32_t   baudrate;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 93


  91:../../libDaisy/src/per/uart.h ****     };
  92:../../libDaisy/src/per/uart.h **** 
  93:../../libDaisy/src/per/uart.h **** 
  94:../../libDaisy/src/per/uart.h ****     UartHandler() : pimpl_(nullptr) {}
 2458              		.loc 24 94 5 view .LVU667
 2459              		.loc 24 94 5 is_stmt 0 view .LVU668
 2460              	.LBE648:
 2461              	.LBE647:
 2462              	.LBE646:
 2463              	.LBB653:
 2464              	.LBI653:
  18:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 2465              		.loc 5 18 5 is_stmt 1 view .LVU669
 2466              	.LBB654:
  18:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 2467              		.loc 5 18 17 is_stmt 0 view .LVU670
 2468 0016 1349     		ldr	r1, .L142+4
 2469 0018 40F20F73 		movw	r3, #1807
 2470              	.LBE654:
 2471              	.LBE653:
 2472              	.LBE675:
 2473              	.LBE695:
 2474              	.LBE697:
 2475              	.LBE699:
  10:WavPlayerTweak.cpp **** DaisyPod hw;
 2476              		.loc 17 10 10 view .LVU671
 2477 001c 124A     		ldr	r2, .L142+8
 2478 001e 2046     		mov	r0, r4
 2479              	.LBB700:
 2480              	.LBB698:
 2481              	.LBB696:
 2482              	.LBB676:
 2483              	.LBB657:
 2484              	.LBB655:
  18:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 2485              		.loc 5 18 17 view .LVU672
 2486 0020 C4F83812 		str	r1, [r4, #568]
 2487              	.LBE655:
 2488              	.LBE657:
 2489              	.LBB658:
 2490              	.LBB659:
 2491              	.LBB660:
 2492              	.LBB661:
 2493              	.LBB662:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2494              		.loc 4 15 75 view .LVU673
 2495 0024 04F51471 		add	r1, r4, #592
 2496              	.LBE662:
 2497              	.LBE661:
 2498              	.LBE660:
 2499              	.LBE659:
 2500              	.LBE658:
 2501              	.LBB671:
 2502              	.LBB656:
  18:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 2503              		.loc 5 18 17 view .LVU674
 2504 0028 A4F83C32 		strh	r3, [r4, #572]	@ movhi
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 94


 2505              	.LVL163:
  18:../../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 2506              		.loc 5 18 17 view .LVU675
 2507              	.LBE656:
 2508              	.LBE671:
 2509              	.LBB672:
 2510              	.LBI658:
 299:../../libDaisy/src/util/FIFO.h **** {
 300:../../libDaisy/src/util/FIFO.h ****   public:
 301:../../libDaisy/src/util/FIFO.h ****     /** Creates an empty FIFO */
 302:../../libDaisy/src/util/FIFO.h ****     FIFO() : FIFOBase<T>(buffer_, capacity + 1) {}
 2511              		.loc 4 302 5 is_stmt 1 view .LVU676
 2512              	.LBB669:
 2513              	.LBB667:
 2514              	.LBI660:
  14:../../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
 2515              		.loc 4 14 5 view .LVU677
 2516              	.LBB665:
 2517              	.LBB663:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2518              		.loc 4 15 75 is_stmt 0 view .LVU678
 2519 002c 40F20113 		movw	r3, #257
 2520              	.LBE663:
 2521              	.LBE665:
 2522              	.LBE667:
 2523              	.LBE669:
 2524              	.LBE672:
 2525              	.LBB673:
 2526              	.LBB652:
 2527              	.LBB651:
 2528              	.LBB649:
 2529              	.LBB650:
 2530              		.loc 24 94 35 view .LVU679
 2531 0030 C4F89051 		str	r5, [r4, #400]
 2532              	.LBE650:
 2533              	.LBE649:
 2534              	.LBE651:
 2535              	.LBE652:
 2536              	.LBE673:
 2537              	.LBB674:
 2538              	.LBB670:
 2539              	.LBB668:
 2540              	.LBB666:
 2541              	.LBB664:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2542              		.loc 4 15 75 view .LVU680
 2543 0034 C4F84852 		str	r5, [r4, #584]
 2544 0038 C4F84C52 		str	r5, [r4, #588]
 2545              	.LVL164:
  15:../../libDaisy/src/util/FIFO.h ****     {
 2546              		.loc 4 15 75 view .LVU681
 2547 003c C4E99013 		strd	r1, r3, [r4, #576]
 2548              	.LBE664:
 2549              	.LBE666:
 2550              	.LBE668:
 2551              	.LBE670:
 2552              	.LBE674:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 95


 2553              	.LBE676:
 2554              	.LBE696:
 2555              	.LBE698:
 2556              	.LBE700:
  10:WavPlayerTweak.cpp **** DaisyPod hw;
 2557              		.loc 17 10 10 view .LVU682
 2558 0040 0A49     		ldr	r1, .L142+12
 2559 0042 FFF7FEFF 		bl	__aeabi_atexit
 2560              	.LVL165:
 2561              	.LBB701:
 2562              	.LBI701:
  77:../../libDaisy/src/per/sdmmc.h ****     ~SdmmcHandler() {}
 2563              		.loc 1 77 5 is_stmt 1 view .LVU683
  77:../../libDaisy/src/per/sdmmc.h ****     ~SdmmcHandler() {}
 2564              		.loc 1 77 5 is_stmt 0 view .LVU684
 2565              	.LBE701:
  11:WavPlayerTweak.cpp **** SdmmcHandler sdcard;
 2566              		.loc 17 11 14 view .LVU685
 2567 0046 084A     		ldr	r2, .L142+8
 2568 0048 0949     		ldr	r1, .L142+16
 2569 004a 0A48     		ldr	r0, .L142+20
 2570 004c FFF7FEFF 		bl	__aeabi_atexit
 2571              	.LVL166:
 2572              	.LBB702:
 2573              	.LBI702:
  64:../../libDaisy/src/sys/fatfs.h **** 
 2574              		.loc 20 64 5 is_stmt 1 view .LVU686
  64:../../libDaisy/src/sys/fatfs.h **** 
 2575              		.loc 20 64 5 is_stmt 0 view .LVU687
 2576              	.LBE702:
 2577              	.LBB703:
 2578              	.LBI703:
  35:wavplayert.h  ****     ~WavPlayerT() {}
 2579              		.loc 16 35 5 is_stmt 1 view .LVU688
  35:wavplayert.h  ****     ~WavPlayerT() {}
 2580              		.loc 16 35 5 is_stmt 0 view .LVU689
 2581              	.LBE703:
  13:WavPlayerTweak.cpp **** WavPlayerT p1;
 2582              		.loc 17 13 12 view .LVU690
 2583 0050 054A     		ldr	r2, .L142+8
 2584 0052 0949     		ldr	r1, .L142+24
 2585 0054 0948     		ldr	r0, .L142+28
 2586              	.LBE704:
 2587              	.LBE706:
 2588              		.loc 17 143 1 view .LVU691
 2589 0056 BDE83840 		pop	{r3, r4, r5, lr}
 2590              		.cfi_restore 14
 2591              		.cfi_restore 5
 2592              		.cfi_restore 4
 2593              		.cfi_restore 3
 2594              		.cfi_def_cfa_offset 0
 2595              	.LBB707:
 2596              	.LBB705:
  13:WavPlayerTweak.cpp **** WavPlayerT p1;
 2597              		.loc 17 13 12 view .LVU692
 2598 005a FFF7FEBF 		b	__aeabi_atexit
 2599              	.LVL167:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 96


 2600              	.L143:
 2601 005e 00BF     		.align	2
 2602              	.L142:
 2603 0060 00000000 		.word	hw
 2604 0064 0080707F 		.word	2138079232
 2605 0068 00000000 		.word	__dso_handle
 2606 006c 00000000 		.word	_ZN5daisy8DaisyPodD1Ev
 2607 0070 00000000 		.word	_ZN5daisy12SdmmcHandlerD1Ev
 2608 0074 00000000 		.word	.LANCHOR0
 2609 0078 00000000 		.word	_ZN5daisy10WavPlayerTD1Ev
 2610 007c 00000000 		.word	p1
 2611              	.LBE705:
 2612              	.LBE707:
 2613              		.cfi_endproc
 2614              	.LFE5301:
 2616              		.section	.init_array,"aw",%init_array
 2617              		.align	2
 2618 0000 00000000 		.word	_GLOBAL__sub_I__ZN5daisy10WavPlayerT4InitEPKcPsjj(target1)
 2619              		.global	buffer1
 2620              		.global	p1
 2621              		.global	fsi
 2622              		.global	sdcard
 2623              		.global	hw
 2624              		.section	.bss.fsi,"aw",%nobits
 2625              		.align	2
 2626              		.set	.LANCHOR1,. + 0
 2629              	fsi:
 2630 0000 00000000 		.space	1152
 2630      00000000 
 2630      00000000 
 2630      00000000 
 2630      00000000 
 2631              		.section	.bss.hw,"aw",%nobits
 2632              		.align	2
 2635              	hw:
 2636 0000 00000000 		.space	37600
 2636      00000000 
 2636      00000000 
 2636      00000000 
 2636      00000000 
 2637              		.section	.bss.p1,"aw",%nobits
 2638              		.align	2
 2641              	p1:
 2642 0000 00000000 		.space	15152
 2642      00000000 
 2642      00000000 
 2642      00000000 
 2642      00000000 
 2643              		.section	.bss.sdcard,"aw",%nobits
 2644              		.align	2
 2645              		.set	.LANCHOR0,. + 0
 2648              	sdcard:
 2649 0000 00       		.space	1
 2650              		.section	.sdram_bss,"aw"
 2651              		.align	2
 2654              	buffer1:
 2655 0000 00000000 		.space	8192
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 97


 2655      00000000 
 2655      00000000 
 2655      00000000 
 2655      00000000 
 2656              		.text
 2657              	.Letext0:
 2658              		.file 25 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/machine/_default_types.h"
 2659              		.file 26 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_stdint.h"
 2660              		.file 27 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdint.h"
 2661              		.file 28 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 2662              		.file 29 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cmath"
 2663              		.file 30 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/std_abs.h"
 2664              		.file 31 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdlib"
 2665              		.file 32 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdint"
 2666              		.file 33 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/arm-none-eabi/thumb/v
 2667              		.file 34 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/type_traits"
 2668              		.file 35 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/debug/debug.h"
 2669              		.file 36 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/algorithmfwd.h"
 2670              		.file 37 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_pair.h"
 2671              		.file 38 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/exception_ptr.h"
 2672              		.file 39 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/initializer_list"
 2673              		.file 40 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdarg"
 2674              		.file 41 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdio"
 2675              		.file 42 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstring"
 2676              		.file 43 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cwchar"
 2677              		.file 44 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/clocale"
 2678              		.file 45 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/basic_string.h"
 2679              		.file 46 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_iterator.h"
 2680              		.file 47 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/predefined_ops.h
 2681              		.file 48 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_types.h"
 2682              		.file 49 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/reent.h"
 2683              		.file 50 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/lock.h"
 2684              		.file 51 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/math.h"
 2685              		.file 52 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdlib.h"
 2686              		.file 53 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/math.h"
 2687              		.file 54 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/stdlib.h"
 2688              		.file 55 "../../libDaisy/src/per/tim.h"
 2689              		.file 56 "../../libDaisy/src/hid/MidiEvent.h"
 2690              		.file 57 "../../libDaisy/src/hid/logger_impl.h"
 2691              		.file 58 "../../libDaisy/src/util/wav_format.h"
 2692              		.file 59 "../../libDaisy/src/util/color.h"
 2693              		.file 60 "../../libDaisy/src/dev/max11300.h"
 2694              		.file 61 "../../libDaisy/src/hid/logger.h"
 2695              		.file 62 "../../libDaisy/src/per/gpio.h"
 2696              		.file 63 "../../libDaisy/src/dev/sdram.h"
 2697              		.file 64 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 2698              		.file 65 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdio.h"
 2699              		.file 66 "../../libDaisy/Middlewares/Third_Party/FatFs/src/integer.h"
 2700              		.file 67 "../../libDaisy/Middlewares/Third_Party/FatFs/src/ff.h"
 2701              		.file 68 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/string.h"
 2702              		.file 69 "../../DaisySP/Source/Control/adenv.h"
 2703              		.file 70 "../../DaisySP/Source/Utility/dsp.h"
 2704              		.file 71 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/wchar.h"
 2705              		.file 72 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/locale.h"
 2706              		.file 73 "../../libDaisy/src/dev/sr_595.h"
 2707              		.file 74 "<built-in>"
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 98


DEFINED SYMBOLS
                            *ABS*:0000000000000000 WavPlayerTweak.cpp
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:19     .text._ZN5daisy12SdmmcHandlerD2Ev:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:26     .text._ZN5daisy12SdmmcHandlerD2Ev:0000000000000000 _ZN5daisy12SdmmcHandlerD2Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:26     .text._ZN5daisy12SdmmcHandlerD2Ev:0000000000000000 _ZN5daisy12SdmmcHandlerD1Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:43     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:50     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD2Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:50     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD1Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:194    .text._ZN5daisy10WavPlayerTD2Ev:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:201    .text._ZN5daisy10WavPlayerTD2Ev:0000000000000000 _ZN5daisy10WavPlayerTD2Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:201    .text._ZN5daisy10WavPlayerTD2Ev:0000000000000000 _ZN5daisy10WavPlayerTD1Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:218    .text._Z13AudioCallbackPKfPfj:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:225    .text._Z13AudioCallbackPKfPfj:0000000000000000 _Z13AudioCallbackPKfPfj
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:500    .text._Z13AudioCallbackPKfPfj:0000000000000100 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2641   .bss.p1:0000000000000000 p1
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:511    .rodata._ZN5daisy10WavPlayerT4InitEPKcPsjj.str1.4:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:524    .text._ZN5daisy10WavPlayerT4InitEPKcPsjj:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:531    .text._ZN5daisy10WavPlayerT4InitEPKcPsjj:0000000000000000 _ZN5daisy10WavPlayerT4InitEPKcPsjj
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:833    .text._ZN5daisy10WavPlayerT4InitEPKcPsjj:0000000000000164 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:843    .text._ZN5daisy10WavPlayerT5CloseEv:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:850    .text._ZN5daisy10WavPlayerT5CloseEv:0000000000000000 _ZN5daisy10WavPlayerT5CloseEv
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:878    .text._ZN5daisy10WavPlayerT6StreamEv:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:885    .text._ZN5daisy10WavPlayerT6StreamEv:0000000000000000 _ZN5daisy10WavPlayerT6StreamEv
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1015   .text._ZN5daisy10WavPlayerT7PrepareEv:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1022   .text._ZN5daisy10WavPlayerT7PrepareEv:0000000000000000 _ZN5daisy10WavPlayerT7PrepareEv
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1228   .text._ZN5daisy10WavPlayerT4OpenEj:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1235   .text._ZN5daisy10WavPlayerT4OpenEj:0000000000000000 _ZN5daisy10WavPlayerT4OpenEj
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1379   .text._ZN5daisy10WavPlayerT8OpenByIdEPKc:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1386   .text._ZN5daisy10WavPlayerT8OpenByIdEPKc:0000000000000000 _ZN5daisy10WavPlayerT8OpenByIdEPKc
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1474   .text._ZN5daisy10WavPlayerT7RestartEv:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1481   .text._ZN5daisy10WavPlayerT7RestartEv:0000000000000000 _ZN5daisy10WavPlayerT7RestartEv
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1514   .text._ZN5daisy10WavPlayerT16GetNextBuffStateEv:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1521   .text._ZN5daisy10WavPlayerT16GetNextBuffStateEv:0000000000000000 _ZN5daisy10WavPlayerT16GetNextBuffStateEv
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1556   .text._ZN5daisy10WavPlayerT12TimeUntilEOFEv:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1563   .text._ZN5daisy10WavPlayerT12TimeUntilEOFEv:0000000000000000 _ZN5daisy10WavPlayerT12TimeUntilEOFEv
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1629   .text._ZN5daisy10WavPlayerT12TimeUntilEOFEv:0000000000000058 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1636   .rodata.main.str1.4:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1664   .text.startup.main:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:1671   .text.startup.main:0000000000000000 main
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2205   .text.startup.main:0000000000000138 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2635   .bss.hw:0000000000000000 hw
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2654   .sdram_bss:0000000000000000 buffer1
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2228   .text.startup._GLOBAL__sub_I__ZN5daisy10WavPlayerT4InitEPKcPsjj:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2234   .text.startup._GLOBAL__sub_I__ZN5daisy10WavPlayerT4InitEPKcPsjj:0000000000000000 _GLOBAL__sub_I__ZN5daisy10WavPlayerT4InitEPKcPsjj
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2603   .text.startup._GLOBAL__sub_I__ZN5daisy10WavPlayerT4InitEPKcPsjj:0000000000000060 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2617   .init_array:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2629   .bss.fsi:0000000000000000 fsi
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2648   .bss.sdcard:0000000000000000 sdcard
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2625   .bss.fsi:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2632   .bss.hw:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2638   .bss.p1:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2644   .bss.sdcard:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s:2651   .sdram_bss:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy12SdmmcHandlerD5Ev
                           .group:0000000000000000 _ZN5daisy8DaisyPodD5Ev
                           .group:0000000000000000 _ZN5daisy10WavPlayerTD5Ev

ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//ccMXWa9n.s 			page 99


UNDEFINED SYMBOLS
f_opendir
f_readdir
strstr
strcpy
strcmp
strcat
strlen
f_closedir
f_open
f_read
f_close
f_lseek
_ZN5daisy8DaisyPod4InitEb
_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
_ZN5daisy6System5DelayEm
_ZN5daisy12SdmmcHandler4InitERKNS0_6ConfigE
_ZN5daisy14FatFSInterface4InitEh
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE5PrintEPKcz
f_mount
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
_ZN5daisy8DaisyPod10StartAudioEPFvPKfPfjE
_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
_ZN5daisy17MidiUartTransport6ConfigC1Ev
__aeabi_atexit
__dso_handle

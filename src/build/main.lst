ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 2
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"main.cpp"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text._ZN5daisy12SdmmcHandlerD2Ev,"axG",%progbits,_ZN5daisy12SdmmcHandlerD5Ev,comdat
  19              		.align	1
  20              		.p2align 2,,3
  21              		.weak	_ZN5daisy12SdmmcHandlerD2Ev
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ZN5daisy12SdmmcHandlerD2Ev:
  27              	.LVL0:
  28              	.LFB3849:
  29              		.file 1 "../libDaisy/src/per/sdmmc.h"
   1:../libDaisy/src/per/sdmmc.h **** /*
   2:../libDaisy/src/per/sdmmc.h **** TODO: 
   3:../libDaisy/src/per/sdmmc.h **** - Implement configuration (currently all settings are fixed).
   4:../libDaisy/src/per/sdmmc.h **** */
   5:../libDaisy/src/per/sdmmc.h **** #pragma once
   6:../libDaisy/src/per/sdmmc.h **** #ifndef DSY_SDMMC_H
   7:../libDaisy/src/per/sdmmc.h **** #define DSY_SDMMC_H /**< macro */
   8:../libDaisy/src/per/sdmmc.h **** 
   9:../libDaisy/src/per/sdmmc.h **** #include <stdint.h>
  10:../libDaisy/src/per/sdmmc.h **** 
  11:../libDaisy/src/per/sdmmc.h **** 
  12:../libDaisy/src/per/sdmmc.h **** namespace daisy
  13:../libDaisy/src/per/sdmmc.h **** {
  14:../libDaisy/src/per/sdmmc.h **** /** @ingroup peripheral
  15:../libDaisy/src/per/sdmmc.h ****     @{
  16:../libDaisy/src/per/sdmmc.h ****     */
  17:../libDaisy/src/per/sdmmc.h **** 
  18:../libDaisy/src/per/sdmmc.h **** /** Configuration for interfacing with SD cards.
  19:../libDaisy/src/per/sdmmc.h ****  *  Currently only supports operation using FatFS filesystem
  20:../libDaisy/src/per/sdmmc.h ****  * 
  21:../libDaisy/src/per/sdmmc.h ****  *  Only SDMMC1 is supported at this time.
  22:../libDaisy/src/per/sdmmc.h ****  *
  23:../libDaisy/src/per/sdmmc.h ****  *  Pins are fixed to the following:
  24:../libDaisy/src/per/sdmmc.h ****  *  PC12 - SDMMC1 CK
  25:../libDaisy/src/per/sdmmc.h ****  *  PD2  - SDMMC1 CMD
  26:../libDaisy/src/per/sdmmc.h ****  *  PC8  - SDMMC1 D0
  27:../libDaisy/src/per/sdmmc.h ****  *  PC9  - SDMMC1 D1 (optional)
  28:../libDaisy/src/per/sdmmc.h ****  *  PC10 - SDMMC1 D2 (optional)
  29:../libDaisy/src/per/sdmmc.h ****  *  PC11 - SDMMC1 D3 (optional)
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 2


  30:../libDaisy/src/per/sdmmc.h **** */
  31:../libDaisy/src/per/sdmmc.h **** class SdmmcHandler
  32:../libDaisy/src/per/sdmmc.h **** {
  33:../libDaisy/src/per/sdmmc.h ****   public:
  34:../libDaisy/src/per/sdmmc.h ****     /** Return values for the SdmmcHandler class */
  35:../libDaisy/src/per/sdmmc.h ****     enum class Result
  36:../libDaisy/src/per/sdmmc.h ****     {
  37:../libDaisy/src/per/sdmmc.h ****         OK,
  38:../libDaisy/src/per/sdmmc.h ****         ERROR,
  39:../libDaisy/src/per/sdmmc.h ****     };
  40:../libDaisy/src/per/sdmmc.h **** 
  41:../libDaisy/src/per/sdmmc.h ****     /** Sets whether 4-bit mode or 1-bit mode is used for the SDMMC */
  42:../libDaisy/src/per/sdmmc.h ****     enum class BusWidth
  43:../libDaisy/src/per/sdmmc.h ****     {
  44:../libDaisy/src/per/sdmmc.h ****         BITS_1, /**< Only 1 bit of data per clock is transferred */
  45:../libDaisy/src/per/sdmmc.h ****         BITS_4, /**< 4-bits of parallel data for each clock pulse */
  46:../libDaisy/src/per/sdmmc.h ****     };
  47:../libDaisy/src/per/sdmmc.h **** 
  48:../libDaisy/src/per/sdmmc.h ****     /** 
  49:../libDaisy/src/per/sdmmc.h ****     Sets the desired clock speed of the SD card bus. \n 
  50:../libDaisy/src/per/sdmmc.h ****     Initialization is always done at or below 400kHz, and then the user speed is set.
  51:../libDaisy/src/per/sdmmc.h ****     */
  52:../libDaisy/src/per/sdmmc.h ****     enum class Speed
  53:../libDaisy/src/per/sdmmc.h ****     {
  54:../libDaisy/src/per/sdmmc.h ****         SLOW, /**< 400kHz, initialization  performed at this rate, before moving to user value */
  55:../libDaisy/src/per/sdmmc.h ****         MEDIUM_SLOW, /**< 12.5MHz - half of standard rate */
  56:../libDaisy/src/per/sdmmc.h ****         STANDARD,    /**< 25MHz - DS (Default Speed for SDMMC) */
  57:../libDaisy/src/per/sdmmc.h ****         FAST,        /**< 50MHz - HS (High Speed signaling) */
  58:../libDaisy/src/per/sdmmc.h ****         VERY_FAST, /**< 100MHz - SDR50 Overclocked rate for maximum transfer rates */
  59:../libDaisy/src/per/sdmmc.h ****     };
  60:../libDaisy/src/per/sdmmc.h **** 
  61:../libDaisy/src/per/sdmmc.h ****     struct Config
  62:../libDaisy/src/per/sdmmc.h ****     {
  63:../libDaisy/src/per/sdmmc.h ****         Speed    speed;
  64:../libDaisy/src/per/sdmmc.h ****         BusWidth width;
  65:../libDaisy/src/per/sdmmc.h ****         bool
  66:../libDaisy/src/per/sdmmc.h ****             clock_powersave; /**< When true, the clock will stop between transfers to save power. *
  67:../libDaisy/src/per/sdmmc.h **** 
  68:../libDaisy/src/per/sdmmc.h ****         /** Configures settings to their default settings */
  69:../libDaisy/src/per/sdmmc.h ****         void Defaults()
  70:../libDaisy/src/per/sdmmc.h ****         {
  71:../libDaisy/src/per/sdmmc.h ****             speed           = Speed::FAST;
  72:../libDaisy/src/per/sdmmc.h ****             width           = BusWidth::BITS_4;
  73:../libDaisy/src/per/sdmmc.h ****             clock_powersave = false;
  74:../libDaisy/src/per/sdmmc.h ****         }
  75:../libDaisy/src/per/sdmmc.h ****     };
  76:../libDaisy/src/per/sdmmc.h **** 
  77:../libDaisy/src/per/sdmmc.h ****     SdmmcHandler() {}
  78:../libDaisy/src/per/sdmmc.h ****     ~SdmmcHandler() {}
  30              		.loc 1 78 5 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  35              		.loc 1 78 22 is_stmt 0 view .LVU1
  36 0000 7047     		bx	lr
  37              		.cfi_endproc
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 3


  38              	.LFE3849:
  40              		.weak	_ZN5daisy12SdmmcHandlerD1Ev
  41              		.thumb_set _ZN5daisy12SdmmcHandlerD1Ev,_ZN5daisy12SdmmcHandlerD2Ev
  42 0002 00BF     		.section	.text._ZN5daisy8DaisyPodD2Ev,"axG",%progbits,_ZN5daisy8DaisyPodD5Ev,comdat
  43              		.align	1
  44              		.p2align 2,,3
  45              		.weak	_ZN5daisy8DaisyPodD2Ev
  46              		.syntax unified
  47              		.thumb
  48              		.thumb_func
  50              	_ZN5daisy8DaisyPodD2Ev:
  51              	.LVL1:
  52              	.LFB4686:
  53              		.file 2 "../libDaisy/src/daisy_pod.h"
   1:../libDaisy/src/daisy_pod.h **** #pragma once
   2:../libDaisy/src/daisy_pod.h **** #ifndef DSY_POD_BSP_H
   3:../libDaisy/src/daisy_pod.h **** #define DSY_POD_BSP_H
   4:../libDaisy/src/daisy_pod.h **** 
   5:../libDaisy/src/daisy_pod.h **** #include "daisy_seed.h"
   6:../libDaisy/src/daisy_pod.h **** 
   7:../libDaisy/src/daisy_pod.h **** namespace daisy
   8:../libDaisy/src/daisy_pod.h **** {
   9:../libDaisy/src/daisy_pod.h **** /**
  10:../libDaisy/src/daisy_pod.h ****     @brief Class that handles initializing all of the hardware specific to the Daisy Patch Board. \
  11:../libDaisy/src/daisy_pod.h ****     Helper funtions are also in place to provide easy access to built-in controls and peripherals.
  12:../libDaisy/src/daisy_pod.h ****     @author Stephen Hensley
  13:../libDaisy/src/daisy_pod.h ****     @date November 2019
  14:../libDaisy/src/daisy_pod.h ****     @ingroup boards
  15:../libDaisy/src/daisy_pod.h **** */
  16:../libDaisy/src/daisy_pod.h **** class DaisyPod
  17:../libDaisy/src/daisy_pod.h **** {
  18:../libDaisy/src/daisy_pod.h ****   public:
  19:../libDaisy/src/daisy_pod.h ****     /** Switches */
  20:../libDaisy/src/daisy_pod.h ****     enum Sw
  21:../libDaisy/src/daisy_pod.h ****     {
  22:../libDaisy/src/daisy_pod.h ****         BUTTON_1,    /** & */
  23:../libDaisy/src/daisy_pod.h ****         BUTTON_2,    /** & */
  24:../libDaisy/src/daisy_pod.h ****         BUTTON_LAST, /** &  */
  25:../libDaisy/src/daisy_pod.h ****     };
  26:../libDaisy/src/daisy_pod.h **** 
  27:../libDaisy/src/daisy_pod.h ****     /** Knobs */
  28:../libDaisy/src/daisy_pod.h ****     enum Knob
  29:../libDaisy/src/daisy_pod.h ****     {
  30:../libDaisy/src/daisy_pod.h ****         KNOB_1,    /** &  */
  31:../libDaisy/src/daisy_pod.h ****         KNOB_2,    /** & */
  32:../libDaisy/src/daisy_pod.h ****         KNOB_LAST, /** & */
  33:../libDaisy/src/daisy_pod.h ****     };
  34:../libDaisy/src/daisy_pod.h **** 
  35:../libDaisy/src/daisy_pod.h ****     DaisyPod() {}
  36:../libDaisy/src/daisy_pod.h ****     ~DaisyPod() {}
  54              		.loc 2 36 5 is_stmt 1 view -0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		@ link register save eliminated.
  59              	.LBB368:
  60              	.LBI368:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 4


  61              		.file 3 "../libDaisy/src/hid/midi.h"
   1:../libDaisy/src/hid/midi.h **** #pragma once
   2:../libDaisy/src/hid/midi.h **** #ifndef DSY_MIDI_H
   3:../libDaisy/src/hid/midi.h **** #define DSY_MIDI_H
   4:../libDaisy/src/hid/midi.h **** 
   5:../libDaisy/src/hid/midi.h **** #include <stdint.h>
   6:../libDaisy/src/hid/midi.h **** #include <stdlib.h>
   7:../libDaisy/src/hid/midi.h **** #include <algorithm>
   8:../libDaisy/src/hid/midi.h **** #include "per/uart.h"
   9:../libDaisy/src/hid/midi.h **** #include "util/ringbuffer.h"
  10:../libDaisy/src/hid/midi.h **** #include "util/FIFO.h"
  11:../libDaisy/src/hid/midi.h **** #include "hid/midi_parser.h"
  12:../libDaisy/src/hid/midi.h **** #include "hid/usb_midi.h"
  13:../libDaisy/src/hid/midi.h **** #include "sys/dma.h"
  14:../libDaisy/src/hid/midi.h **** #include "sys/system.h"
  15:../libDaisy/src/hid/midi.h **** 
  16:../libDaisy/src/hid/midi.h **** namespace daisy
  17:../libDaisy/src/hid/midi.h **** {
  18:../libDaisy/src/hid/midi.h **** /** @brief   Transport layer for sending and receiving MIDI data over UART
  19:../libDaisy/src/hid/midi.h ****  *  @details This is the mode of communication used for TRS and DIN MIDI
  20:../libDaisy/src/hid/midi.h ****  *           There is an additional 2kB of RAM data used within this class
  21:../libDaisy/src/hid/midi.h ****  *           for processing bulk data from the UART peripheral
  22:../libDaisy/src/hid/midi.h ****  *  @ingroup midi
  23:../libDaisy/src/hid/midi.h **** */
  24:../libDaisy/src/hid/midi.h **** class MidiUartTransport
  25:../libDaisy/src/hid/midi.h **** {
  26:../libDaisy/src/hid/midi.h ****   public:
  27:../libDaisy/src/hid/midi.h ****     typedef void (*MidiRxParseCallback)(uint8_t* data,
  28:../libDaisy/src/hid/midi.h ****                                         size_t   size,
  29:../libDaisy/src/hid/midi.h ****                                         void*    context);
  30:../libDaisy/src/hid/midi.h **** 
  31:../libDaisy/src/hid/midi.h ****     MidiUartTransport() {}
  32:../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
  33:../libDaisy/src/hid/midi.h **** 
  34:../libDaisy/src/hid/midi.h ****     /** @brief Configuration structure for UART MIDI */
  35:../libDaisy/src/hid/midi.h ****     struct Config
  36:../libDaisy/src/hid/midi.h ****     {
  37:../libDaisy/src/hid/midi.h ****         UartHandler::Config::Peripheral periph;
  38:../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    rx;
  39:../libDaisy/src/hid/midi.h ****         dsy_gpio_pin                    tx;
  40:../libDaisy/src/hid/midi.h **** 
  41:../libDaisy/src/hid/midi.h ****         /** Pointer to buffer for DMA UART rx byte transfer in background.
  42:../libDaisy/src/hid/midi.h ****          *
  43:../libDaisy/src/hid/midi.h ****          *  @details By default this uses a shared buffer in DMA_BUFFER_MEM_SECTION,
  44:../libDaisy/src/hid/midi.h ****          *           which can only be utilized for a single UART peripheral. To
  45:../libDaisy/src/hid/midi.h ****          *           use MIDI with multiple UART peripherals, you must provide your own
  46:../libDaisy/src/hid/midi.h ****          *           buffer, allocated to a DMA-capable memory section.
  47:../libDaisy/src/hid/midi.h ****          */
  48:../libDaisy/src/hid/midi.h ****         uint8_t* rx_buffer;
  49:../libDaisy/src/hid/midi.h **** 
  50:../libDaisy/src/hid/midi.h ****         /** Size in bytes of rx_buffer.
  51:../libDaisy/src/hid/midi.h ****          *
  52:../libDaisy/src/hid/midi.h ****          *  @details This size determines the maximum Rx bytes readable by the UART in the backgrou
  53:../libDaisy/src/hid/midi.h ****          *           By default it's set to the size of the default shared rx_buffer (256 bytes).
  54:../libDaisy/src/hid/midi.h ****          *           While much smaller sizes can be used, data can get missed if the buffer is too
  55:../libDaisy/src/hid/midi.h ****          */
  56:../libDaisy/src/hid/midi.h ****         size_t rx_buffer_size;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 5


  57:../libDaisy/src/hid/midi.h **** 
  58:../libDaisy/src/hid/midi.h ****         Config();
  59:../libDaisy/src/hid/midi.h ****     };
  60:../libDaisy/src/hid/midi.h **** 
  61:../libDaisy/src/hid/midi.h ****     /** @brief Initialization of UART using config struct */
  62:../libDaisy/src/hid/midi.h ****     inline void Init(Config config)
  63:../libDaisy/src/hid/midi.h ****     {
  64:../libDaisy/src/hid/midi.h ****         UartHandler::Config uart_config;
  65:../libDaisy/src/hid/midi.h **** 
  66:../libDaisy/src/hid/midi.h ****         //defaults
  67:../libDaisy/src/hid/midi.h ****         uart_config.baudrate   = 31250;
  68:../libDaisy/src/hid/midi.h ****         uart_config.stopbits   = UartHandler::Config::StopBits::BITS_1;
  69:../libDaisy/src/hid/midi.h ****         uart_config.parity     = UartHandler::Config::Parity::NONE;
  70:../libDaisy/src/hid/midi.h ****         uart_config.mode       = UartHandler::Config::Mode::TX_RX;
  71:../libDaisy/src/hid/midi.h ****         uart_config.wordlength = UartHandler::Config::WordLength::BITS_8;
  72:../libDaisy/src/hid/midi.h **** 
  73:../libDaisy/src/hid/midi.h ****         //user settings
  74:../libDaisy/src/hid/midi.h ****         uart_config.periph        = config.periph;
  75:../libDaisy/src/hid/midi.h ****         uart_config.pin_config.rx = config.rx;
  76:../libDaisy/src/hid/midi.h ****         uart_config.pin_config.tx = config.tx;
  77:../libDaisy/src/hid/midi.h **** 
  78:../libDaisy/src/hid/midi.h ****         rx_buffer      = config.rx_buffer;
  79:../libDaisy/src/hid/midi.h ****         rx_buffer_size = config.rx_buffer_size;
  80:../libDaisy/src/hid/midi.h **** 
  81:../libDaisy/src/hid/midi.h ****         /** zero the buffer to ensure emptiness regardless of source memory */
  82:../libDaisy/src/hid/midi.h ****         std::fill(rx_buffer, rx_buffer + rx_buffer_size, 0);
  83:../libDaisy/src/hid/midi.h **** 
  84:../libDaisy/src/hid/midi.h ****         uart_.Init(uart_config);
  85:../libDaisy/src/hid/midi.h ****     }
  86:../libDaisy/src/hid/midi.h **** 
  87:../libDaisy/src/hid/midi.h ****     /** @brief Start the UART peripheral in listening mode.
  88:../libDaisy/src/hid/midi.h ****      *  This will fill an internal data structure in the background */
  89:../libDaisy/src/hid/midi.h ****     inline void StartRx(MidiRxParseCallback parse_callback, void* context)
  90:../libDaisy/src/hid/midi.h ****     {
  91:../libDaisy/src/hid/midi.h ****         parse_context_  = context;
  92:../libDaisy/src/hid/midi.h ****         parse_callback_ = parse_callback;
  93:../libDaisy/src/hid/midi.h ****         dsy_dma_clear_cache_for_buffer((uint8_t*)this,
  94:../libDaisy/src/hid/midi.h ****                                        sizeof(MidiUartTransport));
  95:../libDaisy/src/hid/midi.h ****         uart_.DmaListenStart(
  96:../libDaisy/src/hid/midi.h ****             rx_buffer, rx_buffer_size, MidiUartTransport::rxCallback, this);
  97:../libDaisy/src/hid/midi.h ****     }
  98:../libDaisy/src/hid/midi.h **** 
  99:../libDaisy/src/hid/midi.h ****     /** @brief returns whether the UART peripheral is actively listening in the background or not *
 100:../libDaisy/src/hid/midi.h ****     inline bool RxActive() { return uart_.IsListening(); }
 101:../libDaisy/src/hid/midi.h **** 
 102:../libDaisy/src/hid/midi.h ****     /** @brief This is a no-op for UART transport - Rx is via DMA callback with circular buffer */
 103:../libDaisy/src/hid/midi.h ****     inline void FlushRx() {}
 104:../libDaisy/src/hid/midi.h **** 
 105:../libDaisy/src/hid/midi.h ****     /** @brief sends the buffer of bytes out of the UART peripheral */
 106:../libDaisy/src/hid/midi.h ****     inline void Tx(uint8_t* buff, size_t size) { uart_.PollTx(buff, size); }
 107:../libDaisy/src/hid/midi.h **** 
 108:../libDaisy/src/hid/midi.h ****   private:
 109:../libDaisy/src/hid/midi.h ****     UartHandler         uart_;
 110:../libDaisy/src/hid/midi.h ****     uint8_t*            rx_buffer;
 111:../libDaisy/src/hid/midi.h ****     size_t              rx_buffer_size;
 112:../libDaisy/src/hid/midi.h ****     void*               parse_context_;
 113:../libDaisy/src/hid/midi.h ****     MidiRxParseCallback parse_callback_;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 6


 114:../libDaisy/src/hid/midi.h **** 
 115:../libDaisy/src/hid/midi.h ****     /** Static callback for Uart MIDI that occurs when
 116:../libDaisy/src/hid/midi.h ****          *  new data is available from the peripheral.
 117:../libDaisy/src/hid/midi.h ****          *  The new data is transferred from the peripheral to the
 118:../libDaisy/src/hid/midi.h ****          *  MIDI instance's byte FIFO that feeds the MIDI parser.
 119:../libDaisy/src/hid/midi.h ****          *
 120:../libDaisy/src/hid/midi.h ****          *  TODO: Handle UartHandler errors better/at all.
 121:../libDaisy/src/hid/midi.h ****          *  (If there is a UART error, there's not really any recovery
 122:../libDaisy/src/hid/midi.h ****          *  option at the moment)
 123:../libDaisy/src/hid/midi.h ****          */
 124:../libDaisy/src/hid/midi.h ****     static void rxCallback(uint8_t*            data,
 125:../libDaisy/src/hid/midi.h ****                            size_t              size,
 126:../libDaisy/src/hid/midi.h ****                            void*               context,
 127:../libDaisy/src/hid/midi.h ****                            UartHandler::Result res)
 128:../libDaisy/src/hid/midi.h ****     {
 129:../libDaisy/src/hid/midi.h ****         /** Read context as transport type */
 130:../libDaisy/src/hid/midi.h ****         MidiUartTransport* transport
 131:../libDaisy/src/hid/midi.h ****             = reinterpret_cast<MidiUartTransport*>(context);
 132:../libDaisy/src/hid/midi.h ****         if(res == UartHandler::Result::OK)
 133:../libDaisy/src/hid/midi.h ****         {
 134:../libDaisy/src/hid/midi.h ****             if(transport->parse_callback_)
 135:../libDaisy/src/hid/midi.h ****             {
 136:../libDaisy/src/hid/midi.h ****                 transport->parse_callback_(
 137:../libDaisy/src/hid/midi.h ****                     data, size, transport->parse_context_);
 138:../libDaisy/src/hid/midi.h ****             }
 139:../libDaisy/src/hid/midi.h ****         }
 140:../libDaisy/src/hid/midi.h ****     }
 141:../libDaisy/src/hid/midi.h **** };
 142:../libDaisy/src/hid/midi.h **** 
 143:../libDaisy/src/hid/midi.h **** /**
 144:../libDaisy/src/hid/midi.h ****     @brief Simple MIDI Handler \n
 145:../libDaisy/src/hid/midi.h ****     Parses bytes from an input into valid MidiEvents. \n
 146:../libDaisy/src/hid/midi.h ****     The MidiEvents fill a FIFO queue that the user can pop messages from.
 147:../libDaisy/src/hid/midi.h ****     @author shensley
 148:../libDaisy/src/hid/midi.h ****     @date March 2020
 149:../libDaisy/src/hid/midi.h ****     @ingroup midi
 150:../libDaisy/src/hid/midi.h **** */
 151:../libDaisy/src/hid/midi.h **** template <typename Transport>
 152:../libDaisy/src/hid/midi.h **** class MidiHandler
 153:../libDaisy/src/hid/midi.h **** {
 154:../libDaisy/src/hid/midi.h ****   public:
 155:../libDaisy/src/hid/midi.h ****     MidiHandler() {}
 156:../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
  62              		.loc 3 156 5 view .LVU3
  63              	.LBB369:
  64              	.LBI369:
  65              		.file 4 "../libDaisy/src/util/FIFO.h"
   1:../libDaisy/src/util/FIFO.h **** #pragma once
   2:../libDaisy/src/util/FIFO.h **** 
   3:../libDaisy/src/util/FIFO.h **** #include <stdint.h>
   4:../libDaisy/src/util/FIFO.h **** #include <stddef.h>
   5:../libDaisy/src/util/FIFO.h **** #include <initializer_list>
   6:../libDaisy/src/util/FIFO.h **** 
   7:../libDaisy/src/util/FIFO.h **** namespace daisy
   8:../libDaisy/src/util/FIFO.h **** {
   9:../libDaisy/src/util/FIFO.h **** /** Capacity-independent base class for FIFO. Use FIFO instead. */
  10:../libDaisy/src/util/FIFO.h **** template <typename T>
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 7


  11:../libDaisy/src/util/FIFO.h **** class FIFOBase
  12:../libDaisy/src/util/FIFO.h **** {
  13:../libDaisy/src/util/FIFO.h ****   protected:
  14:../libDaisy/src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize)
  15:../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  16:../libDaisy/src/util/FIFO.h ****     {
  17:../libDaisy/src/util/FIFO.h ****     }
  18:../libDaisy/src/util/FIFO.h **** 
  19:../libDaisy/src/util/FIFO.h ****     FIFOBase(T* buffer, size_t bufferSize, std::initializer_list<T> valuesToAdd)
  20:../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
  21:../libDaisy/src/util/FIFO.h ****     {
  22:../libDaisy/src/util/FIFO.h ****         PushBack(valuesToAdd);
  23:../libDaisy/src/util/FIFO.h ****     }
  24:../libDaisy/src/util/FIFO.h **** 
  25:../libDaisy/src/util/FIFO.h ****   public:
  26:../libDaisy/src/util/FIFO.h ****     /** Copies all elements from another FIFO */
  27:../libDaisy/src/util/FIFO.h ****     FIFOBase<T>& operator=(const FIFOBase<T>& other)
  28:../libDaisy/src/util/FIFO.h ****     {
  29:../libDaisy/src/util/FIFO.h ****         bufferIn_ = bufferOut_ = 0;
  30:../libDaisy/src/util/FIFO.h ****         if(!other.IsEmpty())
  31:../libDaisy/src/util/FIFO.h ****         {
  32:../libDaisy/src/util/FIFO.h ****             int readPtr = other.bufferOut_;
  33:../libDaisy/src/util/FIFO.h ****             while((readPtr != other.bufferIn_) && (bufferIn_ < bufferSize_))
  34:../libDaisy/src/util/FIFO.h ****             {
  35:../libDaisy/src/util/FIFO.h ****                 buffer_[bufferIn_++] = other.buffer_[readPtr++];
  36:../libDaisy/src/util/FIFO.h ****                 if(readPtr >= other.bufferSize_)
  37:../libDaisy/src/util/FIFO.h ****                     readPtr -= other.bufferSize_;
  38:../libDaisy/src/util/FIFO.h ****             }
  39:../libDaisy/src/util/FIFO.h ****         }
  40:../libDaisy/src/util/FIFO.h ****         return *this;
  41:../libDaisy/src/util/FIFO.h ****     }
  42:../libDaisy/src/util/FIFO.h ****     ~FIFOBase() {}
  43:../libDaisy/src/util/FIFO.h **** 
  44:../libDaisy/src/util/FIFO.h ****     /** Removes all elements from the FIFO */
  45:../libDaisy/src/util/FIFO.h ****     void Clear() { bufferIn_ = bufferOut_ = 0; }
  46:../libDaisy/src/util/FIFO.h **** 
  47:../libDaisy/src/util/FIFO.h ****     /** Adds an element to the back of the buffer, returning true on
  48:../libDaisy/src/util/FIFO.h ****         success */
  49:../libDaisy/src/util/FIFO.h ****     bool PushBack(const T& elementToAdd)
  50:../libDaisy/src/util/FIFO.h ****     {
  51:../libDaisy/src/util/FIFO.h ****         if(!IsFull())
  52:../libDaisy/src/util/FIFO.h ****         {
  53:../libDaisy/src/util/FIFO.h ****             buffer_[bufferIn_++] = elementToAdd;
  54:../libDaisy/src/util/FIFO.h ****             if(bufferIn_ >= bufferSize_)
  55:../libDaisy/src/util/FIFO.h ****                 bufferIn_ -= bufferSize_;
  56:../libDaisy/src/util/FIFO.h ****             return true;
  57:../libDaisy/src/util/FIFO.h ****         }
  58:../libDaisy/src/util/FIFO.h ****         return false;
  59:../libDaisy/src/util/FIFO.h ****     }
  60:../libDaisy/src/util/FIFO.h **** 
  61:../libDaisy/src/util/FIFO.h ****     /** Adds multiple elements and returns the number of elements that were added */
  62:../libDaisy/src/util/FIFO.h ****     int PushBack(std::initializer_list<T> valuesToAdd)
  63:../libDaisy/src/util/FIFO.h ****     {
  64:../libDaisy/src/util/FIFO.h ****         int numAdded = 0;
  65:../libDaisy/src/util/FIFO.h ****         for(const auto& v : valuesToAdd)
  66:../libDaisy/src/util/FIFO.h ****         {
  67:../libDaisy/src/util/FIFO.h ****             if(IsFull())
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 8


  68:../libDaisy/src/util/FIFO.h ****                 return numAdded;
  69:../libDaisy/src/util/FIFO.h **** 
  70:../libDaisy/src/util/FIFO.h ****             PushBack(v);
  71:../libDaisy/src/util/FIFO.h ****             numAdded++;
  72:../libDaisy/src/util/FIFO.h ****         }
  73:../libDaisy/src/util/FIFO.h ****         return numAdded;
  74:../libDaisy/src/util/FIFO.h ****     }
  75:../libDaisy/src/util/FIFO.h **** 
  76:../libDaisy/src/util/FIFO.h ****     /** returns a reference to the last element */
  77:../libDaisy/src/util/FIFO.h ****     T& Back()
  78:../libDaisy/src/util/FIFO.h ****     {
  79:../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
  80:../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  81:../libDaisy/src/util/FIFO.h ****             return buffer_[0];
  82:../libDaisy/src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  83:../libDaisy/src/util/FIFO.h ****         if(idx < 0)
  84:../libDaisy/src/util/FIFO.h ****             idx += bufferSize_;
  85:../libDaisy/src/util/FIFO.h ****         return buffer_[idx];
  86:../libDaisy/src/util/FIFO.h ****     }
  87:../libDaisy/src/util/FIFO.h **** 
  88:../libDaisy/src/util/FIFO.h ****     /** returns a reference to the last element */
  89:../libDaisy/src/util/FIFO.h ****     const T& Back() const
  90:../libDaisy/src/util/FIFO.h ****     {
  91:../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
  92:../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
  93:../libDaisy/src/util/FIFO.h ****             return buffer_[0];
  94:../libDaisy/src/util/FIFO.h ****         int idx = bufferIn_ - 1;
  95:../libDaisy/src/util/FIFO.h ****         if(idx < 0)
  96:../libDaisy/src/util/FIFO.h ****             idx += bufferSize_;
  97:../libDaisy/src/util/FIFO.h ****         return buffer_[idx];
  98:../libDaisy/src/util/FIFO.h ****     }
  99:../libDaisy/src/util/FIFO.h **** 
 100:../libDaisy/src/util/FIFO.h ****     /** removes and returns an element from the front of the buffer */
 101:../libDaisy/src/util/FIFO.h ****     T PopFront()
 102:../libDaisy/src/util/FIFO.h ****     {
 103:../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 104:../libDaisy/src/util/FIFO.h ****             return T();
 105:../libDaisy/src/util/FIFO.h ****         else
 106:../libDaisy/src/util/FIFO.h ****         {
 107:../libDaisy/src/util/FIFO.h ****             const auto result = buffer_[bufferOut_];
 108:../libDaisy/src/util/FIFO.h ****             bufferOut_++;
 109:../libDaisy/src/util/FIFO.h ****             if(bufferOut_ >= bufferSize_)
 110:../libDaisy/src/util/FIFO.h ****                 bufferOut_ -= bufferSize_;
 111:../libDaisy/src/util/FIFO.h ****             return result;
 112:../libDaisy/src/util/FIFO.h ****         }
 113:../libDaisy/src/util/FIFO.h ****     }
 114:../libDaisy/src/util/FIFO.h **** 
 115:../libDaisy/src/util/FIFO.h ****     /** returns a copy of the first element */
 116:../libDaisy/src/util/FIFO.h ****     T& Front()
 117:../libDaisy/src/util/FIFO.h ****     {
 118:../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 119:../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 120:../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 121:../libDaisy/src/util/FIFO.h ****         return buffer_[bufferOut_];
 122:../libDaisy/src/util/FIFO.h ****     }
 123:../libDaisy/src/util/FIFO.h **** 
 124:../libDaisy/src/util/FIFO.h ****     /** returns a reference to the first element */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 9


 125:../libDaisy/src/util/FIFO.h ****     const T& Front() const
 126:../libDaisy/src/util/FIFO.h ****     {
 127:../libDaisy/src/util/FIFO.h ****         if(IsEmpty())
 128:../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 129:../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 130:../libDaisy/src/util/FIFO.h ****         return buffer_[bufferOut_];
 131:../libDaisy/src/util/FIFO.h ****     }
 132:../libDaisy/src/util/FIFO.h **** 
 133:../libDaisy/src/util/FIFO.h ****     /** Returns true if the buffer contains an element equal to the provided value */
 134:../libDaisy/src/util/FIFO.h ****     bool Contains(const T& element)
 135:../libDaisy/src/util/FIFO.h ****     {
 136:../libDaisy/src/util/FIFO.h ****         auto idx = bufferOut_;
 137:../libDaisy/src/util/FIFO.h ****         while(idx != bufferIn_)
 138:../libDaisy/src/util/FIFO.h ****         {
 139:../libDaisy/src/util/FIFO.h ****             if(buffer_[idx] == element)
 140:../libDaisy/src/util/FIFO.h ****                 return true;
 141:../libDaisy/src/util/FIFO.h ****             idx++;
 142:../libDaisy/src/util/FIFO.h ****             if(idx >= bufferSize_)
 143:../libDaisy/src/util/FIFO.h ****                 idx -= bufferSize_;
 144:../libDaisy/src/util/FIFO.h ****         }
 145:../libDaisy/src/util/FIFO.h ****         return false;
 146:../libDaisy/src/util/FIFO.h ****     }
 147:../libDaisy/src/util/FIFO.h **** 
 148:../libDaisy/src/util/FIFO.h ****     /** Returns the number of elements in the buffer that are equal to the provided value */
 149:../libDaisy/src/util/FIFO.h ****     size_t CountEqualTo(const T& element)
 150:../libDaisy/src/util/FIFO.h ****     {
 151:../libDaisy/src/util/FIFO.h ****         size_t result = 0;
 152:../libDaisy/src/util/FIFO.h ****         size_t idx    = bufferOut_;
 153:../libDaisy/src/util/FIFO.h ****         while(idx != bufferIn_)
 154:../libDaisy/src/util/FIFO.h ****         {
 155:../libDaisy/src/util/FIFO.h ****             if(buffer_[idx] == element)
 156:../libDaisy/src/util/FIFO.h ****                 result++;
 157:../libDaisy/src/util/FIFO.h ****             idx++;
 158:../libDaisy/src/util/FIFO.h ****             if(idx >= bufferSize_)
 159:../libDaisy/src/util/FIFO.h ****                 idx -= bufferSize_;
 160:../libDaisy/src/util/FIFO.h ****         }
 161:../libDaisy/src/util/FIFO.h ****         return result;
 162:../libDaisy/src/util/FIFO.h ****     }
 163:../libDaisy/src/util/FIFO.h **** 
 164:../libDaisy/src/util/FIFO.h ****     /** returns true, if the buffer is empty */
 165:../libDaisy/src/util/FIFO.h ****     bool IsEmpty() const { return bufferIn_ == bufferOut_; }
 166:../libDaisy/src/util/FIFO.h **** 
 167:../libDaisy/src/util/FIFO.h ****     /** returns true, if the buffer is Full */
 168:../libDaisy/src/util/FIFO.h ****     bool IsFull() const { return GetNumElements() == bufferSize_ - 1; }
 169:../libDaisy/src/util/FIFO.h **** 
 170:../libDaisy/src/util/FIFO.h ****     /** returns the number of elements in the buffer */
 171:../libDaisy/src/util/FIFO.h ****     size_t GetNumElements() const
 172:../libDaisy/src/util/FIFO.h ****     {
 173:../libDaisy/src/util/FIFO.h ****         int32_t numElements = bufferIn_ - bufferOut_;
 174:../libDaisy/src/util/FIFO.h ****         if(numElements < 0)
 175:../libDaisy/src/util/FIFO.h ****             numElements += bufferSize_;
 176:../libDaisy/src/util/FIFO.h ****         return size_t(numElements);
 177:../libDaisy/src/util/FIFO.h ****     }
 178:../libDaisy/src/util/FIFO.h **** 
 179:../libDaisy/src/util/FIFO.h ****     /** inserts an element "idx" positions behind the first element and returns true if successful 
 180:../libDaisy/src/util/FIFO.h ****     bool Insert(size_t idx, const T& element)
 181:../libDaisy/src/util/FIFO.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 10


 182:../libDaisy/src/util/FIFO.h ****         if(idx > GetNumElements())
 183:../libDaisy/src/util/FIFO.h ****             return false;
 184:../libDaisy/src/util/FIFO.h ****         if(IsFull())
 185:../libDaisy/src/util/FIFO.h ****             return false;
 186:../libDaisy/src/util/FIFO.h ****         if(idx == GetNumElements())
 187:../libDaisy/src/util/FIFO.h ****         {
 188:../libDaisy/src/util/FIFO.h ****             PushBack(element);
 189:../libDaisy/src/util/FIFO.h ****             return true;
 190:../libDaisy/src/util/FIFO.h ****         }
 191:../libDaisy/src/util/FIFO.h ****         // copy last element
 192:../libDaisy/src/util/FIFO.h ****         PushBack(Back());
 193:../libDaisy/src/util/FIFO.h ****         // move remaining elements: n => n+1
 194:../libDaisy/src/util/FIFO.h ****         for(int i = GetNumElements() - 2; i > int(idx); i--)
 195:../libDaisy/src/util/FIFO.h ****             (*this)[i] = (*this)[i - 1];
 196:../libDaisy/src/util/FIFO.h ****         // insert element
 197:../libDaisy/src/util/FIFO.h ****         (*this)[idx] = element;
 198:../libDaisy/src/util/FIFO.h ****         return true;
 199:../libDaisy/src/util/FIFO.h ****     }
 200:../libDaisy/src/util/FIFO.h **** 
 201:../libDaisy/src/util/FIFO.h ****     /** removes the element "idx" positions behind the first element 
 202:../libDaisy/src/util/FIFO.h ****      *  and returns true if successful */
 203:../libDaisy/src/util/FIFO.h ****     bool Remove(size_t idx)
 204:../libDaisy/src/util/FIFO.h ****     {
 205:../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 206:../libDaisy/src/util/FIFO.h ****             return false;
 207:../libDaisy/src/util/FIFO.h **** 
 208:../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 209:../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 210:../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 211:../libDaisy/src/util/FIFO.h ****         size_t nextIndex = index + 1;
 212:../libDaisy/src/util/FIFO.h ****         if(nextIndex >= bufferSize_)
 213:../libDaisy/src/util/FIFO.h ****             nextIndex -= bufferSize_;
 214:../libDaisy/src/util/FIFO.h **** 
 215:../libDaisy/src/util/FIFO.h ****         while(nextIndex != bufferIn_)
 216:../libDaisy/src/util/FIFO.h ****         {
 217:../libDaisy/src/util/FIFO.h ****             buffer_[index] = buffer_[nextIndex];
 218:../libDaisy/src/util/FIFO.h ****             index++;
 219:../libDaisy/src/util/FIFO.h ****             nextIndex++;
 220:../libDaisy/src/util/FIFO.h ****             if(index >= bufferSize_)
 221:../libDaisy/src/util/FIFO.h ****                 index -= bufferSize_;
 222:../libDaisy/src/util/FIFO.h ****             if(nextIndex >= bufferSize_)
 223:../libDaisy/src/util/FIFO.h ****                 nextIndex -= bufferSize_;
 224:../libDaisy/src/util/FIFO.h ****         }
 225:../libDaisy/src/util/FIFO.h **** 
 226:../libDaisy/src/util/FIFO.h ****         int32_t nextBufferIn = int32_t(bufferIn_) - 1;
 227:../libDaisy/src/util/FIFO.h ****         if(nextBufferIn < 0)
 228:../libDaisy/src/util/FIFO.h ****             nextBufferIn += bufferSize_;
 229:../libDaisy/src/util/FIFO.h ****         bufferIn_ = size_t(nextBufferIn);
 230:../libDaisy/src/util/FIFO.h **** 
 231:../libDaisy/src/util/FIFO.h ****         return true;
 232:../libDaisy/src/util/FIFO.h ****     }
 233:../libDaisy/src/util/FIFO.h **** 
 234:../libDaisy/src/util/FIFO.h ****     /** removes all elements from the buffer for which
 235:../libDaisy/src/util/FIFO.h ****         (buffer(index) == element) returns true and returns the number of
 236:../libDaisy/src/util/FIFO.h ****         elements that were removed. */
 237:../libDaisy/src/util/FIFO.h ****     size_t RemoveAllEqualTo(const T& element)
 238:../libDaisy/src/util/FIFO.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 11


 239:../libDaisy/src/util/FIFO.h ****         size_t numRemoved = 0;
 240:../libDaisy/src/util/FIFO.h ****         int    idx        = GetNumElements() - 1;
 241:../libDaisy/src/util/FIFO.h ****         while(idx >= 0)
 242:../libDaisy/src/util/FIFO.h ****         {
 243:../libDaisy/src/util/FIFO.h ****             if((*this)[idx] == element)
 244:../libDaisy/src/util/FIFO.h ****             {
 245:../libDaisy/src/util/FIFO.h ****                 numRemoved++;
 246:../libDaisy/src/util/FIFO.h ****                 Remove(idx);
 247:../libDaisy/src/util/FIFO.h ****                 // was that the last element?
 248:../libDaisy/src/util/FIFO.h ****                 if(idx == int(GetNumElements()) - 1)
 249:../libDaisy/src/util/FIFO.h ****                     idx--;
 250:../libDaisy/src/util/FIFO.h ****             }
 251:../libDaisy/src/util/FIFO.h ****             else
 252:../libDaisy/src/util/FIFO.h ****                 idx--;
 253:../libDaisy/src/util/FIFO.h ****         }
 254:../libDaisy/src/util/FIFO.h ****         return numRemoved;
 255:../libDaisy/src/util/FIFO.h ****     }
 256:../libDaisy/src/util/FIFO.h **** 
 257:../libDaisy/src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 258:../libDaisy/src/util/FIFO.h ****     T& operator[](size_t idx)
 259:../libDaisy/src/util/FIFO.h ****     {
 260:../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 261:../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 262:../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 263:../libDaisy/src/util/FIFO.h **** 
 264:../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 265:../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 266:../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 267:../libDaisy/src/util/FIFO.h ****         return buffer_[index];
 268:../libDaisy/src/util/FIFO.h ****     }
 269:../libDaisy/src/util/FIFO.h **** 
 270:../libDaisy/src/util/FIFO.h ****     /** returns the element "idx" positions behind the first element */
 271:../libDaisy/src/util/FIFO.h ****     const T& operator[](size_t idx) const
 272:../libDaisy/src/util/FIFO.h ****     {
 273:../libDaisy/src/util/FIFO.h ****         if(idx >= GetNumElements())
 274:../libDaisy/src/util/FIFO.h ****             // invalid, but better not pass a temporary T() object as a reference...
 275:../libDaisy/src/util/FIFO.h ****             return buffer_[0];
 276:../libDaisy/src/util/FIFO.h **** 
 277:../libDaisy/src/util/FIFO.h ****         size_t index = bufferOut_ + idx;
 278:../libDaisy/src/util/FIFO.h ****         if(index >= bufferSize_)
 279:../libDaisy/src/util/FIFO.h ****             index -= bufferSize_;
 280:../libDaisy/src/util/FIFO.h ****         return buffer_[index];
 281:../libDaisy/src/util/FIFO.h ****     }
 282:../libDaisy/src/util/FIFO.h **** 
 283:../libDaisy/src/util/FIFO.h ****     /** returns the total capacity */
 284:../libDaisy/src/util/FIFO.h ****     size_t GetCapacity() const { return bufferSize_ - 1; }
 285:../libDaisy/src/util/FIFO.h **** 
 286:../libDaisy/src/util/FIFO.h ****   private:
 287:../libDaisy/src/util/FIFO.h ****     FIFOBase(const FIFOBase<T>&) {} // non copyable
 288:../libDaisy/src/util/FIFO.h **** 
 289:../libDaisy/src/util/FIFO.h ****   private:
 290:../libDaisy/src/util/FIFO.h ****     T*           buffer_;
 291:../libDaisy/src/util/FIFO.h ****     const size_t bufferSize_;
 292:../libDaisy/src/util/FIFO.h ****     size_t       bufferIn_;
 293:../libDaisy/src/util/FIFO.h ****     size_t       bufferOut_;
 294:../libDaisy/src/util/FIFO.h **** };
 295:../libDaisy/src/util/FIFO.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 12


 296:../libDaisy/src/util/FIFO.h **** /** A simple FIFO ring buffer with a fixed size. */
 297:../libDaisy/src/util/FIFO.h **** template <typename T, size_t capacity>
 298:../libDaisy/src/util/FIFO.h **** class FIFO : public FIFOBase<T>
  66              		.loc 4 298 7 view .LVU4
  67              	.LBB370:
  68              	.LBI370:
  42:../libDaisy/src/util/FIFO.h **** 
  69              		.loc 4 42 5 view .LVU5
  42:../libDaisy/src/util/FIFO.h **** 
  70              		.loc 4 42 5 is_stmt 0 view .LVU6
  71              	.LBE370:
  72              	.LBE369:
  73              	.LBB371:
  74              	.LBI371:
  75              		.file 5 "../libDaisy/src/hid/midi_parser.h"
   1:../libDaisy/src/hid/midi_parser.h **** #pragma once
   2:../libDaisy/src/hid/midi_parser.h **** #ifndef DSY_MIDI_PARSER_H
   3:../libDaisy/src/hid/midi_parser.h **** #define DSY_MIDI_PARSER_H
   4:../libDaisy/src/hid/midi_parser.h **** 
   5:../libDaisy/src/hid/midi_parser.h **** #include <stdint.h>
   6:../libDaisy/src/hid/midi_parser.h **** #include <stdlib.h>
   7:../libDaisy/src/hid/midi_parser.h **** #include "hid/MidiEvent.h"
   8:../libDaisy/src/hid/midi_parser.h **** 
   9:../libDaisy/src/hid/midi_parser.h **** namespace daisy
  10:../libDaisy/src/hid/midi_parser.h **** {
  11:../libDaisy/src/hid/midi_parser.h **** /** @brief   Utility class for parsing raw byte streams into MIDI messages
  12:../libDaisy/src/hid/midi_parser.h ****  *  @details Implemented as a state machine designed to parse one byte at a time
  13:../libDaisy/src/hid/midi_parser.h ****  *  @ingroup midi
  14:../libDaisy/src/hid/midi_parser.h ****  */
  15:../libDaisy/src/hid/midi_parser.h **** class MidiParser
  16:../libDaisy/src/hid/midi_parser.h **** {
  17:../libDaisy/src/hid/midi_parser.h ****   public:
  18:../libDaisy/src/hid/midi_parser.h ****     MidiParser(){};
  19:../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
  76              		.loc 5 19 5 is_stmt 1 view .LVU7
  77              		.loc 5 19 5 is_stmt 0 view .LVU8
  78              	.LBE371:
  79              	.LBB372:
  80              	.LBI372:
  32:../libDaisy/src/hid/midi.h **** 
  81              		.loc 3 32 5 is_stmt 1 view .LVU9
  32:../libDaisy/src/hid/midi.h **** 
  82              		.loc 3 32 5 is_stmt 0 view .LVU10
  83              	.LBE372:
  84              	.LBE368:
  85              	.LBB373:
  86              	.LBI373:
  87              		.file 6 "../libDaisy/src/hid/rgb_led.h"
   1:../libDaisy/src/hid/rgb_led.h **** #pragma once
   2:../libDaisy/src/hid/rgb_led.h **** #ifndef DSY_RGB_LED_H
   3:../libDaisy/src/hid/rgb_led.h **** #define DSY_RGB_LED_H
   4:../libDaisy/src/hid/rgb_led.h **** #include "hid/led.h"
   5:../libDaisy/src/hid/rgb_led.h **** #include "util/color.h"
   6:../libDaisy/src/hid/rgb_led.h **** 
   7:../libDaisy/src/hid/rgb_led.h **** namespace daisy
   8:../libDaisy/src/hid/rgb_led.h **** {
   9:../libDaisy/src/hid/rgb_led.h **** /** @addtogroup feedback
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 13


  10:../libDaisy/src/hid/rgb_led.h ****     @{
  11:../libDaisy/src/hid/rgb_led.h **** */
  12:../libDaisy/src/hid/rgb_led.h **** 
  13:../libDaisy/src/hid/rgb_led.h **** /** 3x LEDs configured as an RGB for ease of use. */
  14:../libDaisy/src/hid/rgb_led.h **** class RgbLed
  15:../libDaisy/src/hid/rgb_led.h **** {
  16:../libDaisy/src/hid/rgb_led.h ****   public:
  17:../libDaisy/src/hid/rgb_led.h ****     RgbLed() {}
  18:../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
  88              		.loc 6 18 5 is_stmt 1 view .LVU11
  89              	.LBB374:
  90              	.LBI374:
  91              		.file 7 "../libDaisy/src/hid/led.h"
   1:../libDaisy/src/hid/led.h **** 
   2:../libDaisy/src/hid/led.h **** #pragma once
   3:../libDaisy/src/hid/led.h **** #ifndef DSY_LED_H
   4:../libDaisy/src/hid/led.h **** #define DSY_LED_H
   5:../libDaisy/src/hid/led.h **** #include "daisy_core.h"
   6:../libDaisy/src/hid/led.h **** #include "per/gpio.h"
   7:../libDaisy/src/hid/led.h **** 
   8:../libDaisy/src/hid/led.h **** /* TODO - Get this set up to work with the dev_leddriver stuff as well
   9:../libDaisy/src/hid/led.h **** - Setup Hardware PWM for pins that have it
  10:../libDaisy/src/hid/led.h **** */
  11:../libDaisy/src/hid/led.h **** 
  12:../libDaisy/src/hid/led.h **** namespace daisy
  13:../libDaisy/src/hid/led.h **** {
  14:../libDaisy/src/hid/led.h **** /**
  15:../libDaisy/src/hid/led.h ****     @brief LED Class providing simple Software PWM ability, etc \n 
  16:../libDaisy/src/hid/led.h ****     Eventually this will work with hardware PWM, and external LED Driver devices as well.
  17:../libDaisy/src/hid/led.h ****     @author shensley
  18:../libDaisy/src/hid/led.h ****     @date March 2020
  19:../libDaisy/src/hid/led.h ****     @ingroup feedback
  20:../libDaisy/src/hid/led.h **** */
  21:../libDaisy/src/hid/led.h **** class Led
  22:../libDaisy/src/hid/led.h **** {
  23:../libDaisy/src/hid/led.h ****   public:
  24:../libDaisy/src/hid/led.h ****     Led() {}
  25:../libDaisy/src/hid/led.h ****     ~Led() {}
  92              		.loc 7 25 5 view .LVU12
  93              		.loc 7 25 5 is_stmt 0 view .LVU13
  94              	.LBE374:
  95              	.LBB375:
  96              	.LBI375:
  97              		.loc 7 25 5 is_stmt 1 view .LVU14
  98              		.loc 7 25 5 is_stmt 0 view .LVU15
  99              	.LBE375:
 100              	.LBB376:
 101              	.LBI376:
 102              		.loc 7 25 5 is_stmt 1 view .LVU16
 103              		.loc 7 25 5 is_stmt 0 view .LVU17
 104              	.LBE376:
 105              	.LBE373:
 106              	.LBB377:
 107              	.LBI377:
 108              		.loc 6 18 5 is_stmt 1 view .LVU18
 109              	.LBB378:
 110              	.LBI378:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 14


 111              		.loc 7 25 5 view .LVU19
 112              		.loc 7 25 5 is_stmt 0 view .LVU20
 113              	.LBE378:
 114              	.LBB379:
 115              	.LBI379:
 116              		.loc 7 25 5 is_stmt 1 view .LVU21
 117              		.loc 7 25 5 is_stmt 0 view .LVU22
 118              	.LBE379:
 119              	.LBB380:
 120              	.LBI380:
 121              		.loc 7 25 5 is_stmt 1 view .LVU23
 122              		.loc 7 25 5 is_stmt 0 view .LVU24
 123              	.LBE380:
 124              	.LBE377:
 125              	.LBB381:
 126              	.LBI381:
 127              		.file 8 "../libDaisy/src/hid/switch.h"
   1:../libDaisy/src/hid/switch.h **** #pragma once
   2:../libDaisy/src/hid/switch.h **** #ifndef DSY_SWITCH_H
   3:../libDaisy/src/hid/switch.h **** #define DSY_SWITCH_H
   4:../libDaisy/src/hid/switch.h **** #include "daisy_core.h"
   5:../libDaisy/src/hid/switch.h **** #include "per/gpio.h"
   6:../libDaisy/src/hid/switch.h **** #include "sys/system.h"
   7:../libDaisy/src/hid/switch.h **** 
   8:../libDaisy/src/hid/switch.h **** namespace daisy
   9:../libDaisy/src/hid/switch.h **** {
  10:../libDaisy/src/hid/switch.h **** /** 
  11:../libDaisy/src/hid/switch.h ****     Generic Class for handling momentary/latching switches \n 
  12:../libDaisy/src/hid/switch.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Switch classes
  13:../libDaisy/src/hid/switch.h ****     @author Stephen Hensley
  14:../libDaisy/src/hid/switch.h ****     @date December 2019
  15:../libDaisy/src/hid/switch.h ****     @ingroup controls
  16:../libDaisy/src/hid/switch.h **** */
  17:../libDaisy/src/hid/switch.h **** class Switch
  18:../libDaisy/src/hid/switch.h **** {
  19:../libDaisy/src/hid/switch.h ****   public:
  20:../libDaisy/src/hid/switch.h ****     /** Specifies the expected behavior of the switch */
  21:../libDaisy/src/hid/switch.h ****     enum Type
  22:../libDaisy/src/hid/switch.h ****     {
  23:../libDaisy/src/hid/switch.h ****         TYPE_TOGGLE,    /**< & */
  24:../libDaisy/src/hid/switch.h ****         TYPE_MOMENTARY, /**< & */
  25:../libDaisy/src/hid/switch.h ****     };
  26:../libDaisy/src/hid/switch.h ****     /** Specifies whether the pressed is HIGH or LOW. */
  27:../libDaisy/src/hid/switch.h ****     enum Polarity
  28:../libDaisy/src/hid/switch.h ****     {
  29:../libDaisy/src/hid/switch.h ****         POLARITY_NORMAL,   /**< & */
  30:../libDaisy/src/hid/switch.h ****         POLARITY_INVERTED, /**< & */
  31:../libDaisy/src/hid/switch.h ****     };
  32:../libDaisy/src/hid/switch.h **** 
  33:../libDaisy/src/hid/switch.h ****     /** Specifies whether to use built-in Pull Up/Down resistors to hold button at a given state wh
  34:../libDaisy/src/hid/switch.h ****     enum Pull
  35:../libDaisy/src/hid/switch.h ****     {
  36:../libDaisy/src/hid/switch.h ****         PULL_UP,   /**< & */
  37:../libDaisy/src/hid/switch.h ****         PULL_DOWN, /**< & */
  38:../libDaisy/src/hid/switch.h ****         PULL_NONE, /**< & */
  39:../libDaisy/src/hid/switch.h ****     };
  40:../libDaisy/src/hid/switch.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 15


  41:../libDaisy/src/hid/switch.h ****     Switch() {}
  42:../libDaisy/src/hid/switch.h ****     ~Switch() {}
 128              		.loc 8 42 5 is_stmt 1 view .LVU25
 129              		.loc 8 42 5 is_stmt 0 view .LVU26
 130              	.LBE381:
 131              	.LBB382:
 132              	.LBI382:
 133              		.loc 8 42 5 is_stmt 1 view .LVU27
 134              		.loc 8 42 5 is_stmt 0 view .LVU28
 135              	.LBE382:
 136              	.LBB383:
 137              	.LBI383:
 138              		.file 9 "../libDaisy/src/hid/ctrl.h"
   1:../libDaisy/src/hid/ctrl.h **** #pragma once
   2:../libDaisy/src/hid/ctrl.h **** #ifndef DSY_KNOB_H
   3:../libDaisy/src/hid/ctrl.h **** #define DSY_KNOB_H /**< & */
   4:../libDaisy/src/hid/ctrl.h **** #include <stdint.h>
   5:../libDaisy/src/hid/ctrl.h **** 
   6:../libDaisy/src/hid/ctrl.h **** #ifdef __cplusplus
   7:../libDaisy/src/hid/ctrl.h **** namespace daisy
   8:../libDaisy/src/hid/ctrl.h **** {
   9:../libDaisy/src/hid/ctrl.h **** /**
  10:../libDaisy/src/hid/ctrl.h ****     @brief Hardware Interface for control inputs \n 
  11:../libDaisy/src/hid/ctrl.h ****     Primarily designed for ADC input controls such as \n 
  12:../libDaisy/src/hid/ctrl.h ****     potentiometers, and control voltage. \n 
  13:../libDaisy/src/hid/ctrl.h ****     @author Stephen Hensley
  14:../libDaisy/src/hid/ctrl.h ****     @date November 2019
  15:../libDaisy/src/hid/ctrl.h ****     @ingroup controls
  16:../libDaisy/src/hid/ctrl.h **** */
  17:../libDaisy/src/hid/ctrl.h **** class AnalogControl
  18:../libDaisy/src/hid/ctrl.h **** {
  19:../libDaisy/src/hid/ctrl.h ****   public:
  20:../libDaisy/src/hid/ctrl.h ****     /** Constructor */
  21:../libDaisy/src/hid/ctrl.h ****     AnalogControl() {}
  22:../libDaisy/src/hid/ctrl.h ****     /** destructor */
  23:../libDaisy/src/hid/ctrl.h ****     ~AnalogControl() {}
 139              		.loc 9 23 5 is_stmt 1 view .LVU29
 140              		.loc 9 23 5 is_stmt 0 view .LVU30
 141              	.LBE383:
 142              	.LBB384:
 143              	.LBI384:
 144              		.loc 9 23 5 is_stmt 1 view .LVU31
 145              		.loc 9 23 5 is_stmt 0 view .LVU32
 146              	.LBE384:
 147              	.LBB385:
 148              	.LBI385:
 149              		.file 10 "../libDaisy/src/hid/encoder.h"
   1:../libDaisy/src/hid/encoder.h **** #pragma once
   2:../libDaisy/src/hid/encoder.h **** #ifndef DSY_ENCODER_H
   3:../libDaisy/src/hid/encoder.h **** #define DSY_ENCODER_H
   4:../libDaisy/src/hid/encoder.h **** #include "daisy_core.h"
   5:../libDaisy/src/hid/encoder.h **** #include "per/gpio.h"
   6:../libDaisy/src/hid/encoder.h **** #include "hid/switch.h"
   7:../libDaisy/src/hid/encoder.h **** 
   8:../libDaisy/src/hid/encoder.h **** namespace daisy
   9:../libDaisy/src/hid/encoder.h **** {
  10:../libDaisy/src/hid/encoder.h **** /** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 16


  11:../libDaisy/src/hid/encoder.h ****     @brief Generic Class for handling Quadrature Encoders \n 
  12:../libDaisy/src/hid/encoder.h ****     Inspired/influenced by Mutable Instruments (pichenettes) Encoder classes
  13:../libDaisy/src/hid/encoder.h ****     @author Stephen Hensley
  14:../libDaisy/src/hid/encoder.h ****     @date December 2019
  15:../libDaisy/src/hid/encoder.h ****     @ingroup controls
  16:../libDaisy/src/hid/encoder.h **** */
  17:../libDaisy/src/hid/encoder.h **** class Encoder
  18:../libDaisy/src/hid/encoder.h **** {
  19:../libDaisy/src/hid/encoder.h ****   public:
  20:../libDaisy/src/hid/encoder.h ****     Encoder() {}
  21:../libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 150              		.loc 10 21 5 is_stmt 1 view .LVU33
 151              	.LBB386:
 152              	.LBI386:
 153              		.loc 8 42 5 view .LVU34
 154              		.loc 8 42 5 is_stmt 0 view .LVU35
 155              	.LBE386:
 156              	.LBE385:
 157              	.LBB387:
 158              	.LBI387:
 159              		.file 11 "../libDaisy/src/daisy_seed.h"
   1:../libDaisy/src/daisy_seed.h **** #pragma once
   2:../libDaisy/src/daisy_seed.h **** #ifndef DSY_SEED_H
   3:../libDaisy/src/daisy_seed.h **** #define DSY_SEED_H
   4:../libDaisy/src/daisy_seed.h **** 
   5:../libDaisy/src/daisy_seed.h **** #include "daisy.h"
   6:../libDaisy/src/daisy_seed.h **** 
   7:../libDaisy/src/daisy_seed.h **** //Uncomment this out if you're still using the rev2 hardware
   8:../libDaisy/src/daisy_seed.h **** //#define SEED_REV2
   9:../libDaisy/src/daisy_seed.h **** 
  10:../libDaisy/src/daisy_seed.h **** namespace daisy
  11:../libDaisy/src/daisy_seed.h **** {
  12:../libDaisy/src/daisy_seed.h **** /**
  13:../libDaisy/src/daisy_seed.h ****    @brief This is the higher-level interface for the Daisy board. \n 
  14:../libDaisy/src/daisy_seed.h ****     All basic peripheral configuration/initialization is setup here. \n
  15:../libDaisy/src/daisy_seed.h **** 
  16:../libDaisy/src/daisy_seed.h ****    @ingroup boards
  17:../libDaisy/src/daisy_seed.h **** */
  18:../libDaisy/src/daisy_seed.h **** class DaisySeed
  19:../libDaisy/src/daisy_seed.h **** {
  20:../libDaisy/src/daisy_seed.h ****   public:
  21:../libDaisy/src/daisy_seed.h ****     DaisySeed() {}
  22:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 160              		.loc 11 22 5 is_stmt 1 view .LVU36
 161              	.LBB388:
 162              	.LBI388:
 163              		.file 12 "../libDaisy/src/sys/system.h"
   1:../libDaisy/src/sys/system.h **** #ifndef DSY_SYSTEM_H
   2:../libDaisy/src/sys/system.h **** #define DSY_SYSTEM_H
   3:../libDaisy/src/sys/system.h **** 
   4:../libDaisy/src/sys/system.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation is provided below
   5:../libDaisy/src/sys/system.h **** 
   6:../libDaisy/src/sys/system.h **** #include <cstdint>
   7:../libDaisy/src/sys/system.h **** #include "per/tim.h"
   8:../libDaisy/src/sys/system.h **** 
   9:../libDaisy/src/sys/system.h **** namespace daisy
  10:../libDaisy/src/sys/system.h **** {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 17


  11:../libDaisy/src/sys/system.h **** /** A handle for interacting with the Core System.
  12:../libDaisy/src/sys/system.h ****  ** This includes the Clock tree, MPU, global DMA initialization,
  13:../libDaisy/src/sys/system.h ****  ** cache handling, and any other necessary global initiailzation
  14:../libDaisy/src/sys/system.h ****  **
  15:../libDaisy/src/sys/system.h ****  ** @author shensley
  16:../libDaisy/src/sys/system.h ****  ** @ingroup system
  17:../libDaisy/src/sys/system.h ****  */
  18:../libDaisy/src/sys/system.h **** class System
  19:../libDaisy/src/sys/system.h **** {
  20:../libDaisy/src/sys/system.h ****   public:
  21:../libDaisy/src/sys/system.h ****     /** Contains settings for initializing the System */
  22:../libDaisy/src/sys/system.h ****     struct Config
  23:../libDaisy/src/sys/system.h ****     {
  24:../libDaisy/src/sys/system.h ****         /** Specifies the system clock frequency that feeds APB/AHB clocks, etc. */
  25:../libDaisy/src/sys/system.h ****         enum class SysClkFreq
  26:../libDaisy/src/sys/system.h ****         {
  27:../libDaisy/src/sys/system.h ****             FREQ_400MHZ,
  28:../libDaisy/src/sys/system.h ****             FREQ_480MHZ,
  29:../libDaisy/src/sys/system.h ****         };
  30:../libDaisy/src/sys/system.h **** 
  31:../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to defaults
  32:../libDaisy/src/sys/system.h ****          ** CPU Freq set to 400MHz
  33:../libDaisy/src/sys/system.h ****          ** Cache Enabled
  34:../libDaisy/src/sys/system.h ****          ** */
  35:../libDaisy/src/sys/system.h ****         void Defaults()
  36:../libDaisy/src/sys/system.h ****         {
  37:../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_400MHZ;
  38:../libDaisy/src/sys/system.h ****             use_dcache  = true;
  39:../libDaisy/src/sys/system.h ****             use_icache  = true;
  40:../libDaisy/src/sys/system.h ****             skip_clocks = false;
  41:../libDaisy/src/sys/system.h ****         }
  42:../libDaisy/src/sys/system.h **** 
  43:../libDaisy/src/sys/system.h ****         /** Method to call on the struct to set to boost mode:
  44:../libDaisy/src/sys/system.h ****          ** CPU Freq set to 480MHz
  45:../libDaisy/src/sys/system.h ****          ** Cache Enabled
  46:../libDaisy/src/sys/system.h ****          ** */
  47:../libDaisy/src/sys/system.h ****         void Boost()
  48:../libDaisy/src/sys/system.h ****         {
  49:../libDaisy/src/sys/system.h ****             cpu_freq    = SysClkFreq::FREQ_480MHZ;
  50:../libDaisy/src/sys/system.h ****             use_dcache  = true;
  51:../libDaisy/src/sys/system.h ****             use_icache  = true;
  52:../libDaisy/src/sys/system.h ****             skip_clocks = false;
  53:../libDaisy/src/sys/system.h ****         }
  54:../libDaisy/src/sys/system.h **** 
  55:../libDaisy/src/sys/system.h ****         SysClkFreq cpu_freq;
  56:../libDaisy/src/sys/system.h ****         bool       use_dcache;
  57:../libDaisy/src/sys/system.h ****         bool       use_icache;
  58:../libDaisy/src/sys/system.h ****         bool       skip_clocks;
  59:../libDaisy/src/sys/system.h ****     };
  60:../libDaisy/src/sys/system.h **** 
  61:../libDaisy/src/sys/system.h ****     /** Describes the different regions of memory available to the Daisy */
  62:../libDaisy/src/sys/system.h ****     enum MemoryRegion
  63:../libDaisy/src/sys/system.h ****     {
  64:../libDaisy/src/sys/system.h ****         INTERNAL_FLASH = 0,
  65:../libDaisy/src/sys/system.h ****         ITCMRAM,
  66:../libDaisy/src/sys/system.h ****         DTCMRAM,
  67:../libDaisy/src/sys/system.h ****         SRAM_D1,
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 18


  68:../libDaisy/src/sys/system.h ****         SRAM_D2,
  69:../libDaisy/src/sys/system.h ****         SRAM_D3,
  70:../libDaisy/src/sys/system.h ****         SDRAM,
  71:../libDaisy/src/sys/system.h ****         QSPI,
  72:../libDaisy/src/sys/system.h ****         INVALID_ADDRESS,
  73:../libDaisy/src/sys/system.h ****     };
  74:../libDaisy/src/sys/system.h **** 
  75:../libDaisy/src/sys/system.h ****     /** Bootloader struct for controlling bootloading parameters */
  76:../libDaisy/src/sys/system.h ****     struct BootInfo
  77:../libDaisy/src/sys/system.h ****     {
  78:../libDaisy/src/sys/system.h ****         enum class Type : uint32_t
  79:../libDaisy/src/sys/system.h ****         {
  80:../libDaisy/src/sys/system.h ****             INVALID      = 0x00000000,
  81:../libDaisy/src/sys/system.h ****             JUMP         = 0xDEADBEEF,
  82:../libDaisy/src/sys/system.h ****             SKIP_TIMEOUT = 0x5AFEB007,
  83:../libDaisy/src/sys/system.h ****             INF_TIMEOUT  = 0xB0074EFA,
  84:../libDaisy/src/sys/system.h ****         } status;
  85:../libDaisy/src/sys/system.h ****         uint32_t data;
  86:../libDaisy/src/sys/system.h ****         enum class Version : uint32_t
  87:../libDaisy/src/sys/system.h ****         {
  88:../libDaisy/src/sys/system.h ****             LT_v6_0 = 0, // Less than v6.0
  89:../libDaisy/src/sys/system.h ****             NONE,        // No bootloader present
  90:../libDaisy/src/sys/system.h ****             v6_0,        // v6.0
  91:../libDaisy/src/sys/system.h ****             v6_1,        // v6.1 or greater
  92:../libDaisy/src/sys/system.h ****             LAST
  93:../libDaisy/src/sys/system.h ****         } version;
  94:../libDaisy/src/sys/system.h ****     };
  95:../libDaisy/src/sys/system.h **** 
  96:../libDaisy/src/sys/system.h ****     System() {}
  97:../libDaisy/src/sys/system.h ****     ~System() {}
 164              		.loc 12 97 5 view .LVU37
 165              		.loc 12 97 5 is_stmt 0 view .LVU38
 166              	.LBE388:
 167              	.LBB389:
 168              	.LBI389:
 169              		.file 13 "../libDaisy/src/hid/usb.h"
   1:../libDaisy/src/hid/usb.h **** #pragma once
   2:../libDaisy/src/hid/usb.h **** #ifndef DSY_HID_USB_H
   3:../libDaisy/src/hid/usb.h **** #define DSY_HID_USB_H
   4:../libDaisy/src/hid/usb.h **** #include <stdint.h>
   5:../libDaisy/src/hid/usb.h **** #include <stdlib.h>
   6:../libDaisy/src/hid/usb.h **** 
   7:../libDaisy/src/hid/usb.h **** namespace daisy
   8:../libDaisy/src/hid/usb.h **** /** @addtogroup human_interface
   9:../libDaisy/src/hid/usb.h ****     @{
  10:../libDaisy/src/hid/usb.h **** */
  11:../libDaisy/src/hid/usb.h **** 
  12:../libDaisy/src/hid/usb.h **** {
  13:../libDaisy/src/hid/usb.h **** /** 
  14:../libDaisy/src/hid/usb.h ****     @brief Interface for initializing and using the USB Peripherals on the daisy
  15:../libDaisy/src/hid/usb.h ****     @author Stephen Hensley
  16:../libDaisy/src/hid/usb.h ****     @date December 2019
  17:../libDaisy/src/hid/usb.h **** */
  18:../libDaisy/src/hid/usb.h **** class UsbHandle
  19:../libDaisy/src/hid/usb.h **** {
  20:../libDaisy/src/hid/usb.h ****   public:
  21:../libDaisy/src/hid/usb.h ****     /** Return values for USBHandle Functions */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 19


  22:../libDaisy/src/hid/usb.h ****     enum class Result
  23:../libDaisy/src/hid/usb.h ****     {
  24:../libDaisy/src/hid/usb.h ****         OK,
  25:../libDaisy/src/hid/usb.h ****         ERR,
  26:../libDaisy/src/hid/usb.h ****     };
  27:../libDaisy/src/hid/usb.h **** 
  28:../libDaisy/src/hid/usb.h ****     /** Specified which of the two USB Peripherals to initialize. */
  29:../libDaisy/src/hid/usb.h ****     enum UsbPeriph
  30:../libDaisy/src/hid/usb.h ****     {
  31:../libDaisy/src/hid/usb.h ****         FS_INTERNAL, /**< Internal pin */
  32:../libDaisy/src/hid/usb.h ****         FS_EXTERNAL, /**< FS External D+ pin is Pin 38 (GPIO32). FS External D- pin is Pin 37 (GPIO
  33:../libDaisy/src/hid/usb.h ****         FS_BOTH,     /**< Both */
  34:../libDaisy/src/hid/usb.h ****     };
  35:../libDaisy/src/hid/usb.h **** 
  36:../libDaisy/src/hid/usb.h **** 
  37:../libDaisy/src/hid/usb.h ****     /** Function called upon reception of a buffer */
  38:../libDaisy/src/hid/usb.h ****     typedef void (*ReceiveCallback)(uint8_t* buff, uint32_t* len);
  39:../libDaisy/src/hid/usb.h **** 
  40:../libDaisy/src/hid/usb.h ****     UsbHandle() {}
  41:../libDaisy/src/hid/usb.h **** 
  42:../libDaisy/src/hid/usb.h ****     ~UsbHandle() {}
 170              		.loc 13 42 5 is_stmt 1 view .LVU39
 171              		.loc 13 42 5 is_stmt 0 view .LVU40
 172              	.LBE389:
 173              	.LBB390:
 174              	.LBI390:
 175              		.file 14 "../libDaisy/src/per/adc.h"
   1:../libDaisy/src/per/adc.h **** #pragma once
   2:../libDaisy/src/per/adc.h **** #ifndef DSY_ADC_H
   3:../libDaisy/src/per/adc.h **** #define DSY_ADC_H /**< Macro */
   4:../libDaisy/src/per/adc.h **** #include <stdint.h>
   5:../libDaisy/src/per/adc.h **** #include <stdlib.h>
   6:../libDaisy/src/per/adc.h **** #include "daisy_core.h"
   7:../libDaisy/src/per/adc.h **** #include "per/gpio.h"
   8:../libDaisy/src/per/adc.h **** 
   9:../libDaisy/src/per/adc.h **** #define DSY_ADC_MAX_CHANNELS 16 /**< Maximum number of ADC channels */
  10:../libDaisy/src/per/adc.h **** 
  11:../libDaisy/src/per/adc.h **** namespace daisy
  12:../libDaisy/src/per/adc.h **** {
  13:../libDaisy/src/per/adc.h **** /** @addtogroup per_analog
  14:../libDaisy/src/per/adc.h ****     @{
  15:../libDaisy/src/per/adc.h **** */
  16:../libDaisy/src/per/adc.h **** 
  17:../libDaisy/src/per/adc.h **** /* While there may not be many configuration options here,
  18:../libDaisy/src/per/adc.h **** using a struct like this allows us to add more configuration
  19:../libDaisy/src/per/adc.h **** later without breaking existing functionality.
  20:../libDaisy/src/per/adc.h **** */
  21:../libDaisy/src/per/adc.h **** 
  22:../libDaisy/src/per/adc.h **** /** @brief   Configuration Structure for an ADC Channel 
  23:../libDaisy/src/per/adc.h ****  *  @details This can be used to configure a a single input, 
  24:../libDaisy/src/per/adc.h ****  *           or a multiplexed input, allowing up to 8 inputs on 
  25:../libDaisy/src/per/adc.h ****  *           one channel.
  26:../libDaisy/src/per/adc.h ****  *  @note    Sharing data lines to multiple muxes _is_ possible, but
  27:../libDaisy/src/per/adc.h ****  *           each channel sharing data lines must be set to the maximum
  28:../libDaisy/src/per/adc.h ****  *           number of channels, even if some multiplexers have fewer
  29:../libDaisy/src/per/adc.h ****  *           inputs connected.
  30:../libDaisy/src/per/adc.h **** */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 20


  31:../libDaisy/src/per/adc.h **** struct AdcChannelConfig
  32:../libDaisy/src/per/adc.h **** {
  33:../libDaisy/src/per/adc.h ****     /** Which pin to use for multiplexing */
  34:../libDaisy/src/per/adc.h ****     enum MuxPin
  35:../libDaisy/src/per/adc.h ****     {
  36:../libDaisy/src/per/adc.h ****         MUX_SEL_0,    /**< & */
  37:../libDaisy/src/per/adc.h ****         MUX_SEL_1,    /**< & */
  38:../libDaisy/src/per/adc.h ****         MUX_SEL_2,    /**< & */
  39:../libDaisy/src/per/adc.h ****         MUX_SEL_LAST, /**< & */
  40:../libDaisy/src/per/adc.h ****     };
  41:../libDaisy/src/per/adc.h **** 
  42:../libDaisy/src/per/adc.h ****     /** \brief per channel conversion speed added to fixed time based on bitdepth, etc. */
  43:../libDaisy/src/per/adc.h ****     enum ConversionSpeed
  44:../libDaisy/src/per/adc.h ****     {
  45:../libDaisy/src/per/adc.h ****         SPEED_1CYCLES_5,
  46:../libDaisy/src/per/adc.h ****         SPEED_2CYCLES_5,
  47:../libDaisy/src/per/adc.h ****         SPEED_8CYCLES_5,
  48:../libDaisy/src/per/adc.h ****         SPEED_16CYCLES_5,
  49:../libDaisy/src/per/adc.h ****         SPEED_32CYCLES_5,
  50:../libDaisy/src/per/adc.h ****         SPEED_64CYCLES_5,
  51:../libDaisy/src/per/adc.h ****         SPEED_387CYCLES_5,
  52:../libDaisy/src/per/adc.h ****         SPEED_810CYCLES_5,
  53:../libDaisy/src/per/adc.h ****     };
  54:../libDaisy/src/per/adc.h **** 
  55:../libDaisy/src/per/adc.h ****     /** Initializes a single ADC pin as an ADC. 
  56:../libDaisy/src/per/adc.h ****     \param pin Pin to init.
  57:../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  58:../libDaisy/src/per/adc.h ****      */
  59:../libDaisy/src/per/adc.h ****     void InitSingle(dsy_gpio_pin pin, ConversionSpeed speed = SPEED_8CYCLES_5);
  60:../libDaisy/src/per/adc.h **** 
  61:../libDaisy/src/per/adc.h ****     /** 
  62:../libDaisy/src/per/adc.h ****     Initializes a single ADC pin as a Multiplexed ADC.
  63:../libDaisy/src/per/adc.h ****     Requires a CD405X Multiplexer connected to the pin.
  64:../libDaisy/src/per/adc.h ****     You only need to supply the mux pins that are required,
  65:../libDaisy/src/per/adc.h ****     e.g. a 4052 mux would only require mux_0 and mux_1.
  66:../libDaisy/src/per/adc.h ****     Internal Callbacks handle the pin addressing.
  67:../libDaisy/src/per/adc.h ****     \param adc_pin &
  68:../libDaisy/src/per/adc.h ****     \param mux_channels must be 1-8
  69:../libDaisy/src/per/adc.h ****     \param mux_0 First mux pin
  70:../libDaisy/src/per/adc.h ****     \param mux_1 Second mux pin
  71:../libDaisy/src/per/adc.h ****     \param mux_2 Third mux pin
  72:../libDaisy/src/per/adc.h ****     \param speed conversion speed for this pin defaults to 8.5 cycles
  73:../libDaisy/src/per/adc.h ****     */
  74:../libDaisy/src/per/adc.h ****     void InitMux(dsy_gpio_pin    adc_pin,
  75:../libDaisy/src/per/adc.h ****                  size_t          mux_channels,
  76:../libDaisy/src/per/adc.h ****                  dsy_gpio_pin    mux_0,
  77:../libDaisy/src/per/adc.h ****                  dsy_gpio_pin    mux_1 = {DSY_GPIOX, 0},
  78:../libDaisy/src/per/adc.h ****                  dsy_gpio_pin    mux_2 = {DSY_GPIOX, 0},
  79:../libDaisy/src/per/adc.h ****                  ConversionSpeed speed = SPEED_8CYCLES_5);
  80:../libDaisy/src/per/adc.h **** 
  81:../libDaisy/src/per/adc.h ****     dsy_gpio        pin_;                   /**< & */
  82:../libDaisy/src/per/adc.h ****     dsy_gpio        mux_pin_[MUX_SEL_LAST]; /**< & */
  83:../libDaisy/src/per/adc.h ****     uint8_t         mux_channels_;          /**< & */
  84:../libDaisy/src/per/adc.h ****     ConversionSpeed speed_;
  85:../libDaisy/src/per/adc.h **** };
  86:../libDaisy/src/per/adc.h **** 
  87:../libDaisy/src/per/adc.h **** /**
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 21


  88:../libDaisy/src/per/adc.h ****    @brief Handler for analog to digital conversion
  89:../libDaisy/src/per/adc.h **** */
  90:../libDaisy/src/per/adc.h **** class AdcHandle
  91:../libDaisy/src/per/adc.h **** {
  92:../libDaisy/src/per/adc.h ****   public:
  93:../libDaisy/src/per/adc.h ****     /** Supported oversampling amounts */
  94:../libDaisy/src/per/adc.h ****     enum OverSampling
  95:../libDaisy/src/per/adc.h ****     {
  96:../libDaisy/src/per/adc.h ****         OVS_NONE, /**< & */
  97:../libDaisy/src/per/adc.h ****         OVS_4,    /**< & */
  98:../libDaisy/src/per/adc.h ****         OVS_8,    /**< & */
  99:../libDaisy/src/per/adc.h ****         OVS_16,   /**< & */
 100:../libDaisy/src/per/adc.h ****         OVS_32,   /**< & */
 101:../libDaisy/src/per/adc.h ****         OVS_64,   /**< & */
 102:../libDaisy/src/per/adc.h ****         OVS_128,  /**< & */
 103:../libDaisy/src/per/adc.h ****         OVS_256,  /**< & */
 104:../libDaisy/src/per/adc.h ****         OVS_512,  /**< & */
 105:../libDaisy/src/per/adc.h ****         OVS_1024, /**< & */
 106:../libDaisy/src/per/adc.h ****         OVS_LAST, /**< & */
 107:../libDaisy/src/per/adc.h ****     };
 108:../libDaisy/src/per/adc.h **** 
 109:../libDaisy/src/per/adc.h ****     AdcHandle() {}
 110:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 176              		.loc 14 110 5 is_stmt 1 view .LVU41
 177              		.loc 14 110 5 is_stmt 0 view .LVU42
 178              	.LBE390:
 179              	.LBB391:
 180              	.LBI391:
 181              		.file 15 "../libDaisy/src/hid/audio.h"
   1:../libDaisy/src/hid/audio.h **** #ifndef DSY_AUDIO_H
   2:../libDaisy/src/hid/audio.h **** #define DSY_AUDIO_H /**< & */
   3:../libDaisy/src/hid/audio.h **** 
   4:../libDaisy/src/hid/audio.h **** #include "per/sai.h"
   5:../libDaisy/src/hid/audio.h **** 
   6:../libDaisy/src/hid/audio.h **** namespace daisy
   7:../libDaisy/src/hid/audio.h **** {
   8:../libDaisy/src/hid/audio.h **** /** @brief Audio Engine Handle
   9:../libDaisy/src/hid/audio.h ****  *  @ingroup audio 
  10:../libDaisy/src/hid/audio.h ****  *  @details This class allows for higher level access to an audio engine.
  11:../libDaisy/src/hid/audio.h ****  *           If you're using a SOM like the DaisySeed or DaisyPatchSM (or any 
  12:../libDaisy/src/hid/audio.h ****  *            board that includes one of those objects) then the intialization
  13:../libDaisy/src/hid/audio.h ****  *            is already taken  care of.
  14:../libDaisy/src/hid/audio.h ****  *           If you're setting up your own custom hardware, or need to make changes
  15:../libDaisy/src/hid/audio.h ****  *           you will have to take the following steps:
  16:../libDaisy/src/hid/audio.h ****  *             1. Create and Initialize an SaiHandle or two depending on your requirements
  17:../libDaisy/src/hid/audio.h ****  *             2. Initialize the Audio Handle with the desired settings and the Initialized SaiHand
  18:../libDaisy/src/hid/audio.h ****  *             3. If the connected codec requires special configuration or initialization, do so
  19:../libDaisy/src/hid/audio.h ****  *             4. Write a callback method using either the AudioCallback or the InterleavingAudioCa
  20:../libDaisy/src/hid/audio.h ****  *             5. Start the Audio using one of the StartAudio function
  21:../libDaisy/src/hid/audio.h ****  */
  22:../libDaisy/src/hid/audio.h **** class AudioHandle
  23:../libDaisy/src/hid/audio.h **** {
  24:../libDaisy/src/hid/audio.h ****   public:
  25:../libDaisy/src/hid/audio.h ****     /** Manually configurable details about the Audio Engine */
  26:../libDaisy/src/hid/audio.h ****     /** TODO: Figure out how to get samplerate in here. */
  27:../libDaisy/src/hid/audio.h ****     struct Config
  28:../libDaisy/src/hid/audio.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 22


  29:../libDaisy/src/hid/audio.h ****         /** number of samples to process per callback */
  30:../libDaisy/src/hid/audio.h ****         size_t blocksize;
  31:../libDaisy/src/hid/audio.h **** 
  32:../libDaisy/src/hid/audio.h ****         /**< Sample rate of audio */
  33:../libDaisy/src/hid/audio.h ****         SaiHandle::Config::SampleRate samplerate;
  34:../libDaisy/src/hid/audio.h **** 
  35:../libDaisy/src/hid/audio.h ****         /** factor for adjustment before and after callback for hardware that may have extra headro
  36:../libDaisy/src/hid/audio.h ****         float postgain;
  37:../libDaisy/src/hid/audio.h **** 
  38:../libDaisy/src/hid/audio.h ****         /** factor for additional one-sided compensation to audio path for hardware that may
  39:../libDaisy/src/hid/audio.h ****          *  have unequal input/output ranges
  40:../libDaisy/src/hid/audio.h ****          */
  41:../libDaisy/src/hid/audio.h ****         float output_compensation;
  42:../libDaisy/src/hid/audio.h **** 
  43:../libDaisy/src/hid/audio.h ****         /** Sets default values for config struct */
  44:../libDaisy/src/hid/audio.h ****         Config()
  45:../libDaisy/src/hid/audio.h ****         : blocksize(48),
  46:../libDaisy/src/hid/audio.h ****           samplerate(SaiHandle::Config::SampleRate::SAI_48KHZ),
  47:../libDaisy/src/hid/audio.h ****           postgain(1.f),
  48:../libDaisy/src/hid/audio.h ****           output_compensation(1.f)
  49:../libDaisy/src/hid/audio.h ****         {
  50:../libDaisy/src/hid/audio.h ****         }
  51:../libDaisy/src/hid/audio.h ****     };
  52:../libDaisy/src/hid/audio.h **** 
  53:../libDaisy/src/hid/audio.h ****     enum class Result
  54:../libDaisy/src/hid/audio.h ****     {
  55:../libDaisy/src/hid/audio.h ****         OK,
  56:../libDaisy/src/hid/audio.h ****         ERR,
  57:../libDaisy/src/hid/audio.h ****     };
  58:../libDaisy/src/hid/audio.h **** 
  59:../libDaisy/src/hid/audio.h ****     /** Non-Interleaving input buffer
  60:../libDaisy/src/hid/audio.h ****      * Buffer arranged by float[chn][sample] 
  61:../libDaisy/src/hid/audio.h ****      * const so that the user can't modify the input
  62:../libDaisy/src/hid/audio.h ****      */
  63:../libDaisy/src/hid/audio.h ****     typedef const float* const* InputBuffer;
  64:../libDaisy/src/hid/audio.h **** 
  65:../libDaisy/src/hid/audio.h ****     /** Non-Interleaving output buffer
  66:../libDaisy/src/hid/audio.h ****      * Arranged by float[chn][sample] 
  67:../libDaisy/src/hid/audio.h ****      */
  68:../libDaisy/src/hid/audio.h ****     typedef float** OutputBuffer;
  69:../libDaisy/src/hid/audio.h **** 
  70:../libDaisy/src/hid/audio.h ****     /** Type for a Non-Interleaving audio callback 
  71:../libDaisy/src/hid/audio.h ****      * Non-Interleaving audio callbacks in daisy will be of this type
  72:../libDaisy/src/hid/audio.h ****      */
  73:../libDaisy/src/hid/audio.h ****     typedef void (*AudioCallback)(InputBuffer  in,
  74:../libDaisy/src/hid/audio.h ****                                   OutputBuffer out,
  75:../libDaisy/src/hid/audio.h ****                                   size_t       size);
  76:../libDaisy/src/hid/audio.h **** 
  77:../libDaisy/src/hid/audio.h ****     /** Interleaving Input buffer
  78:../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }]
  79:../libDaisy/src/hid/audio.h ****      ** this is const, as the user shouldn't modify it
  80:../libDaisy/src/hid/audio.h ****     */
  81:../libDaisy/src/hid/audio.h ****     typedef const float* InterleavingInputBuffer;
  82:../libDaisy/src/hid/audio.h **** 
  83:../libDaisy/src/hid/audio.h ****     /** Interleaving Output buffer 
  84:../libDaisy/src/hid/audio.h ****      ** audio is prepared as { L0, R0, L1, R1, . . . LN, RN }
  85:../libDaisy/src/hid/audio.h ****     */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 23


  86:../libDaisy/src/hid/audio.h ****     typedef float* InterleavingOutputBuffer;
  87:../libDaisy/src/hid/audio.h **** 
  88:../libDaisy/src/hid/audio.h ****     /** Interleaving Audio Callback 
  89:../libDaisy/src/hid/audio.h ****      * Interleaving audio callbacks in daisy must be of this type
  90:../libDaisy/src/hid/audio.h ****      */
  91:../libDaisy/src/hid/audio.h ****     typedef void (*InterleavingAudioCallback)(InterleavingInputBuffer  in,
  92:../libDaisy/src/hid/audio.h ****                                               InterleavingOutputBuffer out,
  93:../libDaisy/src/hid/audio.h ****                                               size_t                   size);
  94:../libDaisy/src/hid/audio.h **** 
  95:../libDaisy/src/hid/audio.h ****     AudioHandle() : pimpl_(nullptr) {}
  96:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 182              		.loc 15 96 5 is_stmt 1 view .LVU43
 183              		.loc 15 96 5 is_stmt 0 view .LVU44
 184              	.LBE391:
 185              	.LBE387:
 186              		.loc 2 36 18 view .LVU45
 187 0000 7047     		bx	lr
 188              		.cfi_endproc
 189              	.LFE4686:
 191              		.weak	_ZN5daisy8DaisyPodD1Ev
 192              		.thumb_set _ZN5daisy8DaisyPodD1Ev,_ZN5daisy8DaisyPodD2Ev
 193 0002 00BF     		.section	.text._Z13AudioCallbackPKPKfPPfj,"ax",%progbits
 194              		.align	1
 195              		.p2align 2,,3
 196              		.global	_Z13AudioCallbackPKPKfPPfj
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 201              	_Z13AudioCallbackPKPKfPPfj:
 202              	.LVL2:
 203              	.LFB4700:
 204              		.file 16 "main.cpp"
   1:main.cpp      **** #include <stdio.h>
   2:main.cpp      **** #include "daisysp.h"
   3:main.cpp      **** #include "daisy_pod.h"
   4:main.cpp      **** #include "ff.h"
   5:main.cpp      **** #include "AudioFileManager.h"
   6:main.cpp      **** 
   7:main.cpp      **** using namespace daisy;
   8:main.cpp      **** 
   9:main.cpp      **** // allocate floats - each is 4bytes -> 16mb
  10:main.cpp      **** constexpr size_t CHANNEL_BUF_SIZE = 4*1024*1024;
  11:main.cpp      **** // constexpr size_t OUTPUT_BUFFER_SIZE = 48000*10 // 10seconds @ 48kHz
  12:main.cpp      **** 
  13:main.cpp      **** SdmmcHandler sd;
  14:main.cpp      **** FatFSInterface fsi;
  15:main.cpp      **** DaisyPod pod;
  16:main.cpp      **** FIL file;
  17:main.cpp      **** AudioFileManager filemgr(&sd, &fsi, &pod, &file);
  18:main.cpp      **** 
  19:main.cpp      **** DSY_SDRAM_BSS float left_buf[CHANNEL_BUF_SIZE];
  20:main.cpp      **** DSY_SDRAM_BSS float right_buf[CHANNEL_BUF_SIZE];
  21:main.cpp      **** 
  22:main.cpp      **** uint32_t wav_pos = 0;
  23:main.cpp      **** bool change_file = false;
  24:main.cpp      **** bool now_playing = false;
  25:main.cpp      **** int curr_file_idx =0;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 24


  26:main.cpp      **** 
  27:main.cpp      **** // NB: CAN USE daisy::AudioHandle::GetConfig() to get the global config for audio
  28:main.cpp      **** // (from daisy::AudioHandle class ref on libDaisy docs)
  29:main.cpp      **** void AudioCallback(AudioHandle::InputBuffer in, AudioHandle::OutputBuffer out, size_t size){
 205              		.loc 16 29 92 is_stmt 1 view -0
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 8
 208              		@ frame_needed = 0, uses_anonymous_args = 0
  30:main.cpp      ****   if (!now_playing){
 209              		.loc 16 30 3 view .LVU47
 210              	.LBB407:
 211              		.loc 16 30 7 is_stmt 0 view .LVU48
 212 0000 394B     		ldr	r3, .L30
 213              	.LBE407:
  29:main.cpp      ****   if (!now_playing){
 214              		.loc 16 29 92 view .LVU49
 215 0002 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 216              		.cfi_def_cfa_offset 36
 217              		.cfi_offset 4, -36
 218              		.cfi_offset 5, -32
 219              		.cfi_offset 6, -28
 220              		.cfi_offset 7, -24
 221              		.cfi_offset 8, -20
 222              		.cfi_offset 9, -16
 223              		.cfi_offset 10, -12
 224              		.cfi_offset 11, -8
 225              		.cfi_offset 14, -4
 226              	.LBB410:
 227              		.loc 16 30 7 view .LVU50
 228 0006 93F800B0 		ldrb	fp, [r3]	@ zero_extendqisi2
 229              	.LBE410:
  29:main.cpp      ****   if (!now_playing){
 230              		.loc 16 29 92 view .LVU51
 231 000a 83B0     		sub	sp, sp, #12
 232              		.cfi_def_cfa_offset 48
  29:main.cpp      ****   if (!now_playing){
 233              		.loc 16 29 92 view .LVU52
 234 000c 1446     		mov	r4, r2
 235              	.LBB411:
 236              		.loc 16 30 3 view .LVU53
 237 000e BBF1000F 		cmp	fp, #0
 238 0012 42D0     		beq	.L27
 239              	.LVL3:
 240              		.loc 16 30 3 view .LVU54
 241              	.LBE411:
 242              	.LBB412:
 243              	.LBB413:
  31:main.cpp      ****     for (size_t i=0; i<size;i++){
  32:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
  33:main.cpp      ****     }
  34:main.cpp      ****     return;
  35:main.cpp      ****   }
  36:main.cpp      **** 
  37:main.cpp      ****   for (size_t i = 0; i<size; i++){
 244              		.loc 16 37 23 is_stmt 1 view .LVU55
 245 0014 002A     		cmp	r2, #0
 246 0016 3DD0     		beq	.L4
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 25


 247              	.LBB414:
 248              	.LBB415:
 249              		.file 17 "AudioFileManager.h"
   1:AudioFileManager.h **** #pragma once
   2:AudioFileManager.h **** 
   3:AudioFileManager.h **** #include <stdio.h>
   4:AudioFileManager.h **** #include "ff.h"
   5:AudioFileManager.h **** #include "diskio.h"
   6:AudioFileManager.h **** #include "daisy_pod.h"
   7:AudioFileManager.h **** 
   8:AudioFileManager.h **** using namespace daisy; 
   9:AudioFileManager.h **** 
  10:AudioFileManager.h **** class AudioFileManager {
  11:AudioFileManager.h ****   public:
  12:AudioFileManager.h ****     AudioFileManager(SdmmcHandler *sd, FatFSInterface *fsi, DaisyPod *pod, FIL *file)
  13:AudioFileManager.h ****       : sd_(sd), fsi_(fsi), pod_(pod), curr_file_(file), left_channel(nullptr), right_channel(nullp
  14:AudioFileManager.h ****     
  15:AudioFileManager.h ****     bool Init();
  16:AudioFileManager.h ****     bool ScanWavFiles();
  17:AudioFileManager.h ****     void SetBuffers(float *left, float *right, size_t buff_size);
  18:AudioFileManager.h ****     bool LoadFile(int file_idx);
  19:AudioFileManager.h ****     bool CloseFile();
  20:AudioFileManager.h ****     void BlinkOnSDError (char type);  
  21:AudioFileManager.h ****     bool GetWavHeader(FIL *file);
  22:AudioFileManager.h **** 
  23:AudioFileManager.h **** 
  24:AudioFileManager.h **** 
  25:AudioFileManager.h **** 
  26:AudioFileManager.h ****     float* GetLeftBuffer() const { return left_channel; }
  27:AudioFileManager.h ****     float* GetRightBuffer() const { return right_channel; }
  28:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
  29:AudioFileManager.h ****     int GetSampleRate() const { return curr_header_.sample_rate; }
  30:AudioFileManager.h ****     uint32_t GetNumSamples() const { return curr_header_.num_samples; }
 250              		.loc 17 30 58 is_stmt 0 view .LVU56
 251 0018 344A     		ldr	r2, .L30+4
 252              	.LVL4:
 253              		.loc 17 30 58 view .LVU57
 254 001a 02F58053 		add	r3, r2, #4096
 255              	.LBE415:
 256              	.LBE414:
 257              	.LBB418:
 258              	.LBB419:
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
 259              		.loc 17 27 44 view .LVU58
 260 001e D2E90498 		ldrd	r9, r8, [r2, #16]
 261              	.LBE419:
 262              	.LBE418:
 263              	.LBB423:
 264              	.LBB416:
 265              		.loc 17 30 58 view .LVU59
 266 0022 D3F830A0 		ldr	r10, [r3, #48]
 267              	.LBE416:
 268              	.LBE423:
 269              	.LBB424:
 270              	.LBB420:
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
 271              		.loc 17 27 44 view .LVU60
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 26


 272 0026 0023     		movs	r3, #0
 273 0028 314A     		ldr	r2, .L30+8
 274              	.LBE420:
 275              	.LBE424:
 276              		.loc 16 37 15 view .LVU61
 277 002a 9C46     		mov	ip, r3
 278              	.LBB425:
 279              	.LBB421:
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
 280              		.loc 17 27 44 view .LVU62
 281 002c 0193     		str	r3, [sp, #4]
 282 002e 1068     		ldr	r0, [r2]
 283              	.LVL5:
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
 284              		.loc 17 27 44 view .LVU63
 285 0030 D1E90025 		ldrd	r2, r5, [r1]
 286 0034 13E0     		b	.L15
 287              	.LVL6:
 288              	.L29:
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
 289              		.loc 17 27 44 view .LVU64
 290              	.LBE421:
 291              	.LBE425:
  38:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
  39:main.cpp      ****       out[0][i] = filemgr.GetLeftBuffer()[wav_pos]*0.5f;
 292              		.loc 16 39 51 view .LVU65
 293 0036 DEED007A 		vldr.32	s15, [lr]
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 294              		.loc 16 37 3 view .LVU66
 295 003a 0CF1010C 		add	ip, ip, #1
 296              	.LVL7:
  40:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
  41:main.cpp      ****       wav_pos++;
 297              		.loc 16 41 14 view .LVU67
 298 003e 0130     		adds	r0, r0, #1
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 299              		.loc 16 37 23 view .LVU68
 300 0040 0433     		adds	r3, r3, #4
  39:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 301              		.loc 16 39 51 view .LVU69
 302 0042 67EE877A 		vmul.f32	s15, s15, s14
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 303              		.loc 16 37 23 view .LVU70
 304 0046 6445     		cmp	r4, ip
 305 0048 CDF804B0 		str	fp, [sp, #4]
  39:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 306              		.loc 16 39 17 view .LVU71
 307 004c C7ED007A 		vstr.32	s15, [r7]
  40:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 308              		.loc 16 40 7 is_stmt 1 view .LVU72
 309              	.LVL8:
 310              	.LBB426:
 311              	.LBI418:
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
 312              		.loc 17 27 12 view .LVU73
 313              	.LBB422:
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 27


 314              		.loc 17 27 37 view .LVU74
  27:AudioFileManager.h ****     size_t GetBufferSize() const { return buff_size_; } // do i need this? 
 315              		.loc 17 27 37 is_stmt 0 view .LVU75
 316              	.LBE422:
 317              	.LBE426:
  40:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 318              		.loc 16 40 52 view .LVU76
 319 0050 D6ED007A 		vldr.32	s15, [r6]
 320 0054 67EE877A 		vmul.f32	s15, s15, s14
  40:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 321              		.loc 16 40 17 view .LVU77
 322 0058 C1ED007A 		vstr.32	s15, [r1]
 323              		.loc 16 41 7 is_stmt 1 view .LVU78
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 324              		.loc 16 37 3 view .LVU79
 325              	.LVL9:
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 326              		.loc 16 37 23 view .LVU80
 327 005c 16D0     		beq	.L28
 328              	.LVL10:
 329              	.L15:
  38:main.cpp      ****       out[0][i] = filemgr.GetLeftBuffer()[wav_pos]*0.5f;
 330              		.loc 16 38 5 view .LVU81
 331              	.LBB427:
 332              	.LBI414:
 333              		.loc 17 30 14 view .LVU82
 334              	.LBB417:
 335              		.loc 17 30 38 view .LVU83
 336              		.loc 17 30 38 is_stmt 0 view .LVU84
 337              	.LBE417:
 338              	.LBE427:
  39:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 339              		.loc 16 39 7 is_stmt 1 view .LVU85
 340              	.LBB428:
 341              	.LBI428:
  26:AudioFileManager.h ****     float* GetRightBuffer() const { return right_channel; }
 342              		.loc 17 26 12 view .LVU86
 343              	.LBB429:
  26:AudioFileManager.h ****     float* GetRightBuffer() const { return right_channel; }
 344              		.loc 17 26 36 view .LVU87
  26:AudioFileManager.h ****     float* GetRightBuffer() const { return right_channel; }
 345              		.loc 17 26 36 is_stmt 0 view .LVU88
 346              	.LBE429:
 347              	.LBE428:
  42:main.cpp      ****     }
  43:main.cpp      ****     else {
  44:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 348              		.loc 16 44 7 is_stmt 1 view .LVU89
  38:main.cpp      ****       out[0][i] = filemgr.GetLeftBuffer()[wav_pos]*0.5f;
 349              		.loc 16 38 5 is_stmt 0 view .LVU90
 350 005e 5045     		cmp	r0, r10
  39:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 351              		.loc 16 39 51 view .LVU91
 352 0060 B6EE007A 		vmov.f32	s14, #5.0e-1
  39:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 353              		.loc 16 39 50 view .LVU92
 354 0064 09EB800E 		add	lr, r9, r0, lsl #2
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 28


  39:main.cpp      ****       out[1][i] = filemgr.GetRightBuffer()[wav_pos]*0.5f;
 355              		.loc 16 39 17 view .LVU93
 356 0068 02EB0307 		add	r7, r2, r3
  40:main.cpp      ****       wav_pos++;
 357              		.loc 16 40 51 view .LVU94
 358 006c 08EB8006 		add	r6, r8, r0, lsl #2
 359              		.loc 16 44 26 view .LVU95
 360 0070 05EB0301 		add	r1, r5, r3
  38:main.cpp      ****       out[0][i] = filemgr.GetLeftBuffer()[wav_pos]*0.5f;
 361              		.loc 16 38 5 view .LVU96
 362 0074 DFD3     		bcc	.L29
 363              		.loc 16 44 26 view .LVU97
 364 0076 0026     		movs	r6, #0
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 365              		.loc 16 37 3 view .LVU98
 366 0078 0CF1010C 		add	ip, ip, #1
 367              	.LVL11:
 368              		.loc 16 44 26 view .LVU99
 369 007c 0E60     		str	r6, [r1]	@ float
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 370              		.loc 16 37 23 view .LVU100
 371 007e 6445     		cmp	r4, ip
 372              		.loc 16 44 16 view .LVU101
 373 0080 02EB0301 		add	r1, r2, r3
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 374              		.loc 16 37 23 view .LVU102
 375 0084 03F10403 		add	r3, r3, #4
 376              		.loc 16 44 16 view .LVU103
 377 0088 0E60     		str	r6, [r1]	@ float
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 378              		.loc 16 37 3 is_stmt 1 view .LVU104
 379              	.LVL12:
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 380              		.loc 16 37 23 view .LVU105
 381 008a E8D1     		bne	.L15
 382              	.L28:
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 383              		.loc 16 37 23 is_stmt 0 view .LVU106
 384 008c 019B     		ldr	r3, [sp, #4]
 385 008e 0BB1     		cbz	r3, .L4
 386 0090 174B     		ldr	r3, .L30+8
 387 0092 1860     		str	r0, [r3]
 388              	.LVL13:
 389              	.L4:
  37:main.cpp      ****     if (wav_pos < filemgr.GetNumSamples()) {
 390              		.loc 16 37 23 view .LVU107
 391              	.LBE413:
 392              	.LBE412:
  45:main.cpp      ****     }
  46:main.cpp      ****   }
  47:main.cpp      ****   return;
  48:main.cpp      **** }
 393              		.loc 16 48 1 view .LVU108
 394 0094 03B0     		add	sp, sp, #12
 395              		.cfi_remember_state
 396              		.cfi_def_cfa_offset 36
 397              		@ sp needed
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 29


 398 0096 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 399              	.LVL14:
 400              	.L27:
 401              		.cfi_restore_state
 402              	.LBB430:
 403              	.LBB408:
  31:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 404              		.loc 16 31 23 is_stmt 1 view .LVU109
 405 009a 002A     		cmp	r2, #0
 406 009c FAD0     		beq	.L4
 407 009e 9200     		lsls	r2, r2, #2
 408              	.LVL15:
  32:main.cpp      ****     }
 409              		.loc 16 32 22 is_stmt 0 view .LVU110
 410 00a0 D1E90050 		ldrd	r5, r0, [r1]
 411              	.LVL16:
  32:main.cpp      ****     }
 412              		.loc 16 32 22 view .LVU111
 413 00a4 05EB8404 		add	r4, r5, r4, lsl #2
 414              	.LVL17:
  32:main.cpp      ****     }
 415              		.loc 16 32 22 view .LVU112
 416 00a8 A042     		cmp	r0, r4
 417 00aa 02D2     		bcs	.L16
 418 00ac 8118     		adds	r1, r0, r2
 419              	.LVL18:
  32:main.cpp      ****     }
 420              		.loc 16 32 22 view .LVU113
 421 00ae 8D42     		cmp	r5, r1
 422 00b0 0BD3     		bcc	.L12
 423              	.L16:
  32:main.cpp      ****     }
 424              		.loc 16 32 26 view .LVU114
 425 00b2 0021     		movs	r1, #0
 426 00b4 0192     		str	r2, [sp, #4]
 427 00b6 FFF7FEFF 		bl	memset
 428              	.LVL19:
  32:main.cpp      ****     }
 429              		.loc 16 32 16 view .LVU115
 430 00ba 019A     		ldr	r2, [sp, #4]
 431 00bc 0021     		movs	r1, #0
 432 00be 2846     		mov	r0, r5
 433              	.LBE408:
 434              	.LBE430:
 435              		.loc 16 48 1 view .LVU116
 436 00c0 03B0     		add	sp, sp, #12
 437              		.cfi_remember_state
 438              		.cfi_def_cfa_offset 36
 439              		@ sp needed
 440 00c2 BDE8F04F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 441              		.cfi_restore 14
 442              		.cfi_restore 11
 443              		.cfi_restore 10
 444              		.cfi_restore 9
 445              		.cfi_restore 8
 446              		.cfi_restore 7
 447              		.cfi_restore 6
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 30


 448              		.cfi_restore 5
 449              		.cfi_restore 4
 450              		.cfi_def_cfa_offset 0
 451              	.LBB431:
 452              	.LBB409:
  32:main.cpp      ****     }
 453              		.loc 16 32 16 view .LVU117
 454 00c6 FFF7FEBF 		b	memset
 455              	.LVL20:
 456              	.L12:
 457              		.cfi_restore_state
  32:main.cpp      ****     }
 458              		.loc 16 32 7 is_stmt 1 view .LVU118
  32:main.cpp      ****     }
 459              		.loc 16 32 26 is_stmt 0 view .LVU119
 460 00ca 0023     		movs	r3, #0
 461 00cc 40F8043B 		str	r3, [r0], #4	@ float
  31:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 462              		.loc 16 31 23 view .LVU120
 463 00d0 8842     		cmp	r0, r1
  32:main.cpp      ****     }
 464              		.loc 16 32 16 view .LVU121
 465 00d2 45F8043B 		str	r3, [r5], #4	@ float
  31:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 466              		.loc 16 31 5 is_stmt 1 view .LVU122
  31:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 467              		.loc 16 31 23 view .LVU123
 468 00d6 DDD0     		beq	.L4
  32:main.cpp      ****     }
 469              		.loc 16 32 7 view .LVU124
  32:main.cpp      ****     }
 470              		.loc 16 32 26 is_stmt 0 view .LVU125
 471 00d8 0023     		movs	r3, #0
 472 00da 40F8043B 		str	r3, [r0], #4	@ float
  31:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 473              		.loc 16 31 23 view .LVU126
 474 00de 8842     		cmp	r0, r1
  32:main.cpp      ****     }
 475              		.loc 16 32 16 view .LVU127
 476 00e0 45F8043B 		str	r3, [r5], #4	@ float
  31:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 477              		.loc 16 31 5 is_stmt 1 view .LVU128
  31:main.cpp      ****       out[0][i]=out[1][i]=0.0f;
 478              		.loc 16 31 23 view .LVU129
 479 00e4 F1D1     		bne	.L12
 480 00e6 D5E7     		b	.L4
 481              	.L31:
 482              		.align	2
 483              	.L30:
 484 00e8 00000000 		.word	.LANCHOR0
 485 00ec 00000000 		.word	filemgr
 486 00f0 00000000 		.word	.LANCHOR1
 487              	.LBE409:
 488              	.LBE431:
 489              		.cfi_endproc
 490              	.LFE4700:
 492              		.section	.rodata._Z13HandleEncoderv.str1.4,"aMS",%progbits,1
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 31


 493              		.align	2
 494              	.LC0:
 495 0000 73656C65 		.ascii	"selected new file idx %d %s\000"
 495      63746564 
 495      206E6577 
 495      2066696C 
 495      65206964 
 496              		.section	.text._Z13HandleEncoderv,"ax",%progbits
 497              		.align	1
 498              		.p2align 2,,3
 499              		.global	_Z13HandleEncoderv
 500              		.syntax unified
 501              		.thumb
 502              		.thumb_func
 504              	_Z13HandleEncoderv:
 505              	.LFB4701:
  49:main.cpp      **** 
  50:main.cpp      **** void HandleEncoder(){
 506              		.loc 16 50 21 view -0
 507              		.cfi_startproc
 508              		@ args = 0, pretend = 0, frame = 128
 509              		@ frame_needed = 0, uses_anonymous_args = 0
  51:main.cpp      ****   pod.encoder.Debounce();
 510              		.loc 16 51 3 view .LVU131
  50:main.cpp      ****   pod.encoder.Debounce();
 511              		.loc 16 50 21 is_stmt 0 view .LVU132
 512 0000 10B5     		push	{r4, lr}
 513              		.cfi_def_cfa_offset 8
 514              		.cfi_offset 4, -8
 515              		.cfi_offset 14, -4
 516              		.loc 16 51 23 view .LVU133
 517 0002 1548     		ldr	r0, .L45
  50:main.cpp      ****   pod.encoder.Debounce();
 518              		.loc 16 50 21 view .LVU134
 519 0004 A0B0     		sub	sp, sp, #128
 520              		.cfi_def_cfa_offset 136
 521              		.loc 16 51 23 view .LVU135
 522 0006 FFF7FEFF 		bl	_ZN5daisy7Encoder8DebounceEv
 523              	.LVL21:
  52:main.cpp      ****   int32_t inc = pod.encoder.Increment();
 524              		.loc 16 52 3 is_stmt 1 view .LVU136
 525              	.LBB448:
 526              	.LBI448:
  22:../libDaisy/src/hid/encoder.h **** 
  23:../libDaisy/src/hid/encoder.h ****     /** Initializes the encoder with the specified hardware pins.
  24:../libDaisy/src/hid/encoder.h ****      * Update rate is to be deprecated in a future release
  25:../libDaisy/src/hid/encoder.h ****      */
  26:../libDaisy/src/hid/encoder.h ****     void Init(dsy_gpio_pin a,
  27:../libDaisy/src/hid/encoder.h ****               dsy_gpio_pin b,
  28:../libDaisy/src/hid/encoder.h ****               dsy_gpio_pin click,
  29:../libDaisy/src/hid/encoder.h ****               float        update_rate = 0.f);
  30:../libDaisy/src/hid/encoder.h ****     /** Called at update_rate to debounce and handle timing for the switch.
  31:../libDaisy/src/hid/encoder.h ****      * In order for events not to be missed, its important that the Edge/Pressed checks be made at 
  32:../libDaisy/src/hid/encoder.h ****      */
  33:../libDaisy/src/hid/encoder.h ****     void Debounce();
  34:../libDaisy/src/hid/encoder.h **** 
  35:../libDaisy/src/hid/encoder.h ****     /** Returns +1 if the encoder was turned clockwise, -1 if it was turned counter-clockwise, or 0
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 32


  36:../libDaisy/src/hid/encoder.h ****     inline int32_t Increment() const { return updated_ ? inc_ : 0; }
 527              		.loc 10 36 20 view .LVU137
 528              	.LBB449:
 529              		.loc 10 36 40 view .LVU138
 530              		.loc 10 36 47 is_stmt 0 view .LVU139
 531 000a 144B     		ldr	r3, .L45+4
 532              		.loc 10 36 56 view .LVU140
 533 000c 93F84420 		ldrb	r2, [r3, #68]	@ zero_extendqisi2
 534 0010 D2B1     		cbz	r2, .L32
 535 0012 5C6E     		ldr	r4, [r3, #100]
 536              	.LVL22:
 537              		.loc 10 36 56 view .LVU141
 538              	.LBE449:
 539              	.LBE448:
  53:main.cpp      ****   char fname[128];
 540              		.loc 16 53 3 is_stmt 1 view .LVU142
  54:main.cpp      **** 
  55:main.cpp      ****   if (inc!=0){
 541              		.loc 16 55 3 view .LVU143
 542 0014 C4B1     		cbz	r4, .L32
  56:main.cpp      ****     curr_file_idx+=inc;
 543              		.loc 16 56 5 view .LVU144
 544              		.loc 16 56 18 is_stmt 0 view .LVU145
 545 0016 124B     		ldr	r3, .L45+8
 546 0018 1A68     		ldr	r2, [r3]
 547 001a 1444     		add	r4, r4, r2
 548              	.LVL23:
 549              	.LBB450:
 550              	.LBB451:
  31:AudioFileManager.h ****     int GetNumChannels() const { return curr_header_.channels; }
  32:AudioFileManager.h ****     int GetFileCount() const { return file_count_; }
 551              		.loc 17 32 39 view .LVU146
 552 001c 114A     		ldr	r2, .L45+12
 553              	.LBE451:
 554              	.LBE450:
  57:main.cpp      ****     if (curr_file_idx<0) { curr_file_idx = filemgr.GetFileCount() - 1; }
 555              		.loc 16 57 5 view .LVU147
 556 001e 002C     		cmp	r4, #0
 557              	.LBB454:
 558              	.LBB452:
 559              		.loc 17 32 39 view .LVU148
 560 0020 126A     		ldr	r2, [r2, #32]
 561              	.LBE452:
 562              	.LBE454:
  56:main.cpp      ****     curr_file_idx+=inc;
 563              		.loc 16 56 18 view .LVU149
 564 0022 1C60     		str	r4, [r3]
 565              		.loc 16 57 5 is_stmt 1 view .LVU150
 566              		.loc 16 57 28 view .LVU151
 567              	.LVL24:
 568              	.LBB455:
 569              	.LBI450:
 570              		.loc 17 32 9 view .LVU152
 571              	.LBB453:
 572              		.loc 17 32 32 view .LVU153
 573              		.loc 17 32 32 is_stmt 0 view .LVU154
 574              	.LBE453:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 33


 575              	.LBE455:
 576              		.loc 16 57 67 view .LVU155
 577 0024 BCBF     		itt	lt
 578 0026 02F1FF34 		addlt	r4, r2, #-1
 579              		.loc 16 57 42 view .LVU156
 580 002a 1C60     		strlt	r4, [r3]
 581              	.LBB456:
 582              	.LBI456:
  50:main.cpp      ****   pod.encoder.Debounce();
 583              		.loc 16 50 6 is_stmt 1 view .LVU157
 584              	.LBB457:
  58:main.cpp      ****     if (curr_file_idx >= filemgr.GetFileCount()) { curr_file_idx = 0; }
 585              		.loc 16 58 5 view .LVU158
 586              	.LVL25:
 587              		.loc 16 58 5 is_stmt 0 view .LVU159
 588              	.LBE457:
 589              	.LBE456:
 590              		.loc 17 32 32 is_stmt 1 view .LVU160
 591              	.LBB464:
 592              	.LBB462:
 593              		.loc 16 58 5 is_stmt 0 view .LVU161
 594 002c A242     		cmp	r2, r4
 595 002e 0DDD     		ble	.L36
 596 0030 E201     		lsls	r2, r4, #7
 597 0032 1C32     		adds	r2, r2, #28
 598              	.L37:
  59:main.cpp      ****     filemgr.GetName(curr_file_idx, fname);
 599              		.loc 16 59 5 is_stmt 1 view .LVU162
 600              	.LVL26:
 601              	.LBB458:
 602              	.LBI458:
  33:AudioFileManager.h ****     void GetName(int idx, char* name) const { strcpy(name, names_[idx]); }
 603              		.loc 17 33 10 view .LVU163
 604              	.LBB459:
 605              		.loc 17 33 47 view .LVU164
 606              		.loc 17 33 70 is_stmt 0 view .LVU165
 607 0034 0C49     		ldr	r1, .L45+16
 608              		.loc 17 33 53 view .LVU166
 609 0036 6846     		mov	r0, sp
 610 0038 1144     		add	r1, r1, r2
 611 003a FFF7FEFF 		bl	strcpy
 612              	.LVL27:
 613              		.loc 17 33 53 view .LVU167
 614              	.LBE459:
 615              	.LBE458:
  60:main.cpp      ****     pod.seed.PrintLine("selected new file idx %d %s", curr_file_idx, fname);
 616              		.loc 16 60 5 is_stmt 1 view .LVU168
 617              	.LBB460:
 618              	.LBI460:
  23:../libDaisy/src/daisy_seed.h **** 
  24:../libDaisy/src/daisy_seed.h ****     /** This function used to provide a pre-initialization configuraiton 
  25:../libDaisy/src/daisy_seed.h ****      *  it has since been deprecated, and does nothing.
  26:../libDaisy/src/daisy_seed.h ****      */
  27:../libDaisy/src/daisy_seed.h ****     void Configure();
  28:../libDaisy/src/daisy_seed.h **** 
  29:../libDaisy/src/daisy_seed.h ****     /** 
  30:../libDaisy/src/daisy_seed.h ****     Initializes the Daisy Seed and the following peripherals:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 34


  31:../libDaisy/src/daisy_seed.h ****     SDRAM, QSPI, 24-bit 48kHz Audio via AK4556, Internal USB,
  32:../libDaisy/src/daisy_seed.h ****     as well as the built-in LED and Testpoint.
  33:../libDaisy/src/daisy_seed.h **** 
  34:../libDaisy/src/daisy_seed.h ****     ADCs, DACs, and other special peripherals (such as I2C, SPI, etc.)
  35:../libDaisy/src/daisy_seed.h ****     can be initialized using their specific initializers within libdaisy
  36:../libDaisy/src/daisy_seed.h ****     for a specific application.
  37:../libDaisy/src/daisy_seed.h ****     */
  38:../libDaisy/src/daisy_seed.h ****     void Init(bool boost = false);
  39:../libDaisy/src/daisy_seed.h **** 
  40:../libDaisy/src/daisy_seed.h ****     /** 
  41:../libDaisy/src/daisy_seed.h ****     Deinitializes all peripherals automatically handled by `Init`.
  42:../libDaisy/src/daisy_seed.h ****     */
  43:../libDaisy/src/daisy_seed.h ****     void DeInit();
  44:../libDaisy/src/daisy_seed.h **** 
  45:../libDaisy/src/daisy_seed.h ****     /** 
  46:../libDaisy/src/daisy_seed.h ****     Wait some ms before going on.
  47:../libDaisy/src/daisy_seed.h ****     \param del Delay time in ms.
  48:../libDaisy/src/daisy_seed.h ****     */
  49:../libDaisy/src/daisy_seed.h ****     void DelayMs(size_t del);
  50:../libDaisy/src/daisy_seed.h **** 
  51:../libDaisy/src/daisy_seed.h ****     /** 
  52:../libDaisy/src/daisy_seed.h ****     Returns the gpio_pin corresponding to the index 0-31.
  53:../libDaisy/src/daisy_seed.h ****     For the given GPIO on the Daisy Seed (labeled 1-32 in docs).
  54:../libDaisy/src/daisy_seed.h ****     */
  55:../libDaisy/src/daisy_seed.h ****     static dsy_gpio_pin GetPin(uint8_t pin_idx);
  56:../libDaisy/src/daisy_seed.h **** 
  57:../libDaisy/src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  58:../libDaisy/src/daisy_seed.h ****     the specified callback will get called whenever
  59:../libDaisy/src/daisy_seed.h ****     new data is ready to be prepared.
  60:../libDaisy/src/daisy_seed.h ****     */
  61:../libDaisy/src/daisy_seed.h ****     void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  62:../libDaisy/src/daisy_seed.h **** 
  63:../libDaisy/src/daisy_seed.h ****     /** Begins the audio for the seeds builtin audio.
  64:../libDaisy/src/daisy_seed.h ****     the specified callback will get called whenever
  65:../libDaisy/src/daisy_seed.h ****     new data is ready to be prepared.
  66:../libDaisy/src/daisy_seed.h ****     This will use the newer non-interleaved callback.
  67:../libDaisy/src/daisy_seed.h ****     */
  68:../libDaisy/src/daisy_seed.h ****     void StartAudio(AudioHandle::AudioCallback cb);
  69:../libDaisy/src/daisy_seed.h **** 
  70:../libDaisy/src/daisy_seed.h ****     /** Changes to a new interleaved callback
  71:../libDaisy/src/daisy_seed.h ****      */
  72:../libDaisy/src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  73:../libDaisy/src/daisy_seed.h **** 
  74:../libDaisy/src/daisy_seed.h ****     /** Changes to a new multichannel callback
  75:../libDaisy/src/daisy_seed.h ****      */
  76:../libDaisy/src/daisy_seed.h ****     void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  77:../libDaisy/src/daisy_seed.h **** 
  78:../libDaisy/src/daisy_seed.h ****     /** Stops the audio if it is running. */
  79:../libDaisy/src/daisy_seed.h ****     void StopAudio();
  80:../libDaisy/src/daisy_seed.h **** 
  81:../libDaisy/src/daisy_seed.h ****     /** Updates the Audio Sample Rate, and reinitializes.
  82:../libDaisy/src/daisy_seed.h ****      ** Audio must be stopped for this to work.
  83:../libDaisy/src/daisy_seed.h ****      */
  84:../libDaisy/src/daisy_seed.h ****     void SetAudioSampleRate(SaiHandle::Config::SampleRate samplerate);
  85:../libDaisy/src/daisy_seed.h **** 
  86:../libDaisy/src/daisy_seed.h ****     /** Returns the audio sample rate in Hz as a floating point number.
  87:../libDaisy/src/daisy_seed.h ****      */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 35


  88:../libDaisy/src/daisy_seed.h ****     float AudioSampleRate();
  89:../libDaisy/src/daisy_seed.h **** 
  90:../libDaisy/src/daisy_seed.h ****     /** Sets the number of samples processed per channel by the audio callback.
  91:../libDaisy/src/daisy_seed.h ****      */
  92:../libDaisy/src/daisy_seed.h ****     void SetAudioBlockSize(size_t blocksize);
  93:../libDaisy/src/daisy_seed.h **** 
  94:../libDaisy/src/daisy_seed.h ****     /** Returns the number of samples per channel in a block of audio. */
  95:../libDaisy/src/daisy_seed.h ****     size_t AudioBlockSize();
  96:../libDaisy/src/daisy_seed.h **** 
  97:../libDaisy/src/daisy_seed.h ****     /** Returns the rate in Hz that the Audio callback is called */
  98:../libDaisy/src/daisy_seed.h ****     float AudioCallbackRate() const;
  99:../libDaisy/src/daisy_seed.h **** 
 100:../libDaisy/src/daisy_seed.h ****     /** Returns the SAI Handle for the Daisy Seed 
 101:../libDaisy/src/daisy_seed.h ****      *  This can be useful when adding a secondary codec,
 102:../libDaisy/src/daisy_seed.h ****      *  the result of this function can be passed to the audio reinit 
 103:../libDaisy/src/daisy_seed.h ****      *  with an SAI2 configuration
 104:../libDaisy/src/daisy_seed.h ****      */
 105:../libDaisy/src/daisy_seed.h ****     const SaiHandle& AudioSaiHandle() const;
 106:../libDaisy/src/daisy_seed.h **** 
 107:../libDaisy/src/daisy_seed.h ****     /** Sets the state of the built in LED
 108:../libDaisy/src/daisy_seed.h ****      */
 109:../libDaisy/src/daisy_seed.h ****     void SetLed(bool state);
 110:../libDaisy/src/daisy_seed.h **** 
 111:../libDaisy/src/daisy_seed.h ****     /** Sets the state of the test point near pin 10
 112:../libDaisy/src/daisy_seed.h ****      */
 113:../libDaisy/src/daisy_seed.h ****     void SetTestPoint(bool state);
 114:../libDaisy/src/daisy_seed.h **** 
 115:../libDaisy/src/daisy_seed.h ****     /** Print formatted debug log message
 116:../libDaisy/src/daisy_seed.h ****      */
 117:../libDaisy/src/daisy_seed.h ****     template <typename... VA>
 118:../libDaisy/src/daisy_seed.h ****     static void Print(const char* format, VA... va)
 119:../libDaisy/src/daisy_seed.h ****     {
 120:../libDaisy/src/daisy_seed.h ****         Log::Print(format, va...);
 121:../libDaisy/src/daisy_seed.h ****     }
 122:../libDaisy/src/daisy_seed.h **** 
 123:../libDaisy/src/daisy_seed.h ****     /** Print formatted debug log message with automatic line termination
 124:../libDaisy/src/daisy_seed.h ****     */
 125:../libDaisy/src/daisy_seed.h ****     template <typename... VA>
 126:../libDaisy/src/daisy_seed.h ****     static void PrintLine(const char* format, VA... va)
 619              		.loc 11 126 17 view .LVU169
 620              	.LBB461:
 127:../libDaisy/src/daisy_seed.h ****     {
 128:../libDaisy/src/daisy_seed.h ****         Log::PrintLine(format, va...);
 621              		.loc 11 128 23 is_stmt 0 view .LVU170
 622 003e 6A46     		mov	r2, sp
 623 0040 2146     		mov	r1, r4
 624 0042 0A48     		ldr	r0, .L45+20
 625 0044 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 626              	.LVL28:
 627              	.L32:
 628              		.loc 11 128 23 view .LVU171
 629              	.LBE461:
 630              	.LBE460:
 631              	.LBE462:
 632              	.LBE464:
  61:main.cpp      ****   }
  62:main.cpp      ****   // if (pod.encoder.RisingEdge()){
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 36


  63:main.cpp      ****   //   change_file = true;
  64:main.cpp      ****   //   now_playing = false;
  65:main.cpp      ****   //   filemgr.GetName(curr_file_idx, fname);
  66:main.cpp      ****   //   pod.seed.PrintLine("loading file idx %d %s", curr_file_idx, fname);
  67:main.cpp      ****   // }
  68:main.cpp      **** }
 633              		.loc 16 68 1 view .LVU172
 634 0048 20B0     		add	sp, sp, #128
 635              		.cfi_remember_state
 636              		.cfi_def_cfa_offset 8
 637              		@ sp needed
 638 004a 10BD     		pop	{r4, pc}
 639              	.LVL29:
 640              	.L36:
 641              		.cfi_restore_state
 642              	.LBB465:
 643              	.LBB463:
  58:main.cpp      ****     filemgr.GetName(curr_file_idx, fname);
 644              		.loc 16 58 52 is_stmt 1 view .LVU173
  58:main.cpp      ****     filemgr.GetName(curr_file_idx, fname);
 645              		.loc 16 58 66 is_stmt 0 view .LVU174
 646 004c 0021     		movs	r1, #0
 647 004e 1C22     		movs	r2, #28
 648 0050 0C46     		mov	r4, r1
 649 0052 1960     		str	r1, [r3]
 650 0054 EEE7     		b	.L37
 651              	.L46:
 652 0056 00BF     		.align	2
 653              	.L45:
 654 0058 40000000 		.word	pod+64
 655 005c 00000000 		.word	pod
 656 0060 00000000 		.word	.LANCHOR2
 657 0064 00100000 		.word	filemgr+4096
 658 0068 00000000 		.word	filemgr
 659 006c 00000000 		.word	.LC0
 660              	.LBE463:
 661              	.LBE465:
 662              		.cfi_endproc
 663              	.LFE4701:
 665              		.section	.rodata._Z13HandleButton1v.str1.4,"aMS",%progbits,1
 666              		.align	2
 667              	.LC1:
 668 0000 6C6F6164 		.ascii	"loading file idx %d %s\000"
 668      696E6720 
 668      66696C65 
 668      20696478 
 668      20256420 
 669              		.section	.text._Z13HandleButton1v,"ax",%progbits
 670              		.align	1
 671              		.p2align 2,,3
 672              		.global	_Z13HandleButton1v
 673              		.syntax unified
 674              		.thumb
 675              		.thumb_func
 677              	_Z13HandleButton1v:
 678              	.LFB4702:
  69:main.cpp      **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 37


  70:main.cpp      **** 
  71:main.cpp      **** void HandleButton1(){
 679              		.loc 16 71 21 is_stmt 1 view -0
 680              		.cfi_startproc
 681              		@ args = 0, pretend = 0, frame = 128
 682              		@ frame_needed = 0, uses_anonymous_args = 0
  72:main.cpp      ****   char fname[128];
 683              		.loc 16 72 3 view .LVU176
  73:main.cpp      ****   pod.button1.Debounce();
 684              		.loc 16 73 3 view .LVU177
  71:main.cpp      ****   char fname[128];
 685              		.loc 16 71 21 is_stmt 0 view .LVU178
 686 0000 10B5     		push	{r4, lr}
 687              		.cfi_def_cfa_offset 8
 688              		.cfi_offset 4, -8
 689              		.cfi_offset 14, -4
 690              		.loc 16 73 23 view .LVU179
 691 0002 1148     		ldr	r0, .L54
  71:main.cpp      ****   char fname[128];
 692              		.loc 16 71 21 view .LVU180
 693 0004 A0B0     		sub	sp, sp, #128
 694              		.cfi_def_cfa_offset 136
 695              		.loc 16 73 23 view .LVU181
 696 0006 FFF7FEFF 		bl	_ZN5daisy6Switch8DebounceEv
 697              	.LVL30:
  74:main.cpp      ****   if (pod.button1.RisingEdge()){
 698              		.loc 16 74 3 is_stmt 1 view .LVU182
 699              	.LBB476:
 700              	.LBI476:
  43:../libDaisy/src/hid/switch.h **** 
  44:../libDaisy/src/hid/switch.h ****     /** 
  45:../libDaisy/src/hid/switch.h ****     Initializes the switch object with a given port/pin combo.
  46:../libDaisy/src/hid/switch.h ****     \param pin port/pin object to tell the switch which hardware pin to use.
  47:../libDaisy/src/hid/switch.h ****     \param update_rate Does nothing. Backwards compatibility until next breaking update.
  48:../libDaisy/src/hid/switch.h ****     \param t switch type -- Default: TYPE_MOMENTARY
  49:../libDaisy/src/hid/switch.h ****     \param pol switch polarity -- Default: POLARITY_INVERTED
  50:../libDaisy/src/hid/switch.h ****     \param pu switch pull up/down -- Default: PULL_UP
  51:../libDaisy/src/hid/switch.h ****     */
  52:../libDaisy/src/hid/switch.h ****     void
  53:../libDaisy/src/hid/switch.h ****     Init(dsy_gpio_pin pin, float update_rate, Type t, Polarity pol, Pull pu);
  54:../libDaisy/src/hid/switch.h **** 
  55:../libDaisy/src/hid/switch.h ****     /**
  56:../libDaisy/src/hid/switch.h ****        Simplified Init.
  57:../libDaisy/src/hid/switch.h ****        \param pin port/pin object to tell the switch which hardware pin to use.
  58:../libDaisy/src/hid/switch.h ****        \param update_rate Left for backwards compatibility until next breaking change.
  59:../libDaisy/src/hid/switch.h ****     */
  60:../libDaisy/src/hid/switch.h ****     void Init(dsy_gpio_pin pin, float update_rate = 0.f);
  61:../libDaisy/src/hid/switch.h **** 
  62:../libDaisy/src/hid/switch.h ****     /** 
  63:../libDaisy/src/hid/switch.h ****     Called at update_rate to debounce and handle timing for the switch.
  64:../libDaisy/src/hid/switch.h ****     In order for events not to be missed, its important that the Edge/Pressed checks
  65:../libDaisy/src/hid/switch.h ****     be made at the same rate as the debounce function is being called.
  66:../libDaisy/src/hid/switch.h ****     */
  67:../libDaisy/src/hid/switch.h ****     void Debounce();
  68:../libDaisy/src/hid/switch.h **** 
  69:../libDaisy/src/hid/switch.h ****     /** \return true if a button was just pressed. */
  70:../libDaisy/src/hid/switch.h ****     inline bool RisingEdge() const { return updated_ ? state_ == 0x7f : false; }
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 38


 701              		.loc 8 70 17 view .LVU183
 702              	.LBB477:
 703              		.loc 8 70 38 view .LVU184
 704              		.loc 8 70 45 is_stmt 0 view .LVU185
 705 000a 104B     		ldr	r3, .L54+4
 706              		.loc 8 70 54 view .LVU186
 707 000c 93F8B420 		ldrb	r2, [r3, #180]	@ zero_extendqisi2
 708 0010 1AB1     		cbz	r2, .L47
 709              	.LVL31:
 710              		.loc 8 70 54 view .LVU187
 711              	.LBE477:
 712              	.LBE476:
 713              		.loc 16 74 3 view .LVU188
 714 0012 93F8BA30 		ldrb	r3, [r3, #186]	@ zero_extendqisi2
 715 0016 7F2B     		cmp	r3, #127
 716 0018 01D0     		beq	.L53
 717              	.L47:
  75:main.cpp      ****       change_file = true;
  76:main.cpp      ****       now_playing = false;
  77:main.cpp      ****       filemgr.GetName(curr_file_idx, fname);
  78:main.cpp      ****       pod.seed.PrintLine("loading file idx %d %s", curr_file_idx, fname);
  79:main.cpp      ****     }
  80:main.cpp      **** }
 718              		.loc 16 80 1 view .LVU189
 719 001a 20B0     		add	sp, sp, #128
 720              		.cfi_remember_state
 721              		.cfi_def_cfa_offset 8
 722              		@ sp needed
 723 001c 10BD     		pop	{r4, pc}
 724              	.L53:
 725              		.cfi_restore_state
 726              	.LBB478:
 727              	.LBI478:
  71:main.cpp      ****   char fname[128];
 728              		.loc 16 71 6 is_stmt 1 view .LVU190
 729              	.LBB479:
  75:main.cpp      ****       change_file = true;
 730              		.loc 16 75 7 view .LVU191
  77:main.cpp      ****       pod.seed.PrintLine("loading file idx %d %s", curr_file_idx, fname);
 731              		.loc 16 77 22 is_stmt 0 view .LVU192
 732 001e 0C4A     		ldr	r2, .L54+8
 733              	.LBB480:
 734              	.LBB481:
 735              		.loc 17 33 53 view .LVU193
 736 0020 6846     		mov	r0, sp
 737              	.LBE481:
 738              	.LBE480:
  75:main.cpp      ****       change_file = true;
 739              		.loc 16 75 19 view .LVU194
 740 0022 0C4B     		ldr	r3, .L54+12
  77:main.cpp      ****       pod.seed.PrintLine("loading file idx %d %s", curr_file_idx, fname);
 741              		.loc 16 77 22 view .LVU195
 742 0024 1468     		ldr	r4, [r2]
  75:main.cpp      ****       change_file = true;
 743              		.loc 16 75 19 view .LVU196
 744 0026 0122     		movs	r2, #1
 745              	.LBB485:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 39


 746              	.LBB482:
 747              		.loc 17 33 70 view .LVU197
 748 0028 0B49     		ldr	r1, .L54+16
 749              	.LBE482:
 750              	.LBE485:
  75:main.cpp      ****       change_file = true;
 751              		.loc 16 75 19 view .LVU198
 752 002a 1A70     		strb	r2, [r3]
  76:main.cpp      ****       filemgr.GetName(curr_file_idx, fname);
 753              		.loc 16 76 7 is_stmt 1 view .LVU199
  76:main.cpp      ****       filemgr.GetName(curr_file_idx, fname);
 754              		.loc 16 76 19 is_stmt 0 view .LVU200
 755 002c 0022     		movs	r2, #0
 756 002e 0B4B     		ldr	r3, .L54+20
 757              	.LBB486:
 758              	.LBB483:
 759              		.loc 17 33 53 view .LVU201
 760 0030 01EBC411 		add	r1, r1, r4, lsl #7
 761              	.LBE483:
 762              	.LBE486:
  76:main.cpp      ****       filemgr.GetName(curr_file_idx, fname);
 763              		.loc 16 76 19 view .LVU202
 764 0034 1A70     		strb	r2, [r3]
  77:main.cpp      ****       pod.seed.PrintLine("loading file idx %d %s", curr_file_idx, fname);
 765              		.loc 16 77 7 is_stmt 1 view .LVU203
 766              	.LVL32:
 767              	.LBB487:
 768              	.LBI480:
 769              		.loc 17 33 10 view .LVU204
 770              	.LBB484:
 771              		.loc 17 33 47 view .LVU205
 772              		.loc 17 33 53 is_stmt 0 view .LVU206
 773 0036 FFF7FEFF 		bl	strcpy
 774              	.LVL33:
 775              		.loc 17 33 53 view .LVU207
 776              	.LBE484:
 777              	.LBE487:
  78:main.cpp      ****     }
 778              		.loc 16 78 7 is_stmt 1 view .LVU208
 779              	.LBB488:
 780              	.LBI488:
 126:../libDaisy/src/daisy_seed.h ****     {
 781              		.loc 11 126 17 view .LVU209
 782              	.LBB489:
 783              		.loc 11 128 23 is_stmt 0 view .LVU210
 784 003a 6A46     		mov	r2, sp
 785 003c 2146     		mov	r1, r4
 786 003e 0848     		ldr	r0, .L54+24
 787 0040 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 788              	.LVL34:
 789              		.loc 11 128 23 view .LVU211
 790              	.LBE489:
 791              	.LBE488:
 792              	.LBE479:
 793              	.LBE478:
 794              		.loc 16 80 1 view .LVU212
 795 0044 20B0     		add	sp, sp, #128
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 40


 796              		.cfi_def_cfa_offset 8
 797              		@ sp needed
 798 0046 10BD     		pop	{r4, pc}
 799              	.L55:
 800              		.align	2
 801              	.L54:
 802 0048 B0000000 		.word	pod+176
 803 004c 00000000 		.word	pod
 804 0050 00000000 		.word	.LANCHOR2
 805 0054 00000000 		.word	.LANCHOR3
 806 0058 1C000000 		.word	filemgr+28
 807 005c 00000000 		.word	.LANCHOR0
 808 0060 00000000 		.word	.LC1
 809              		.cfi_endproc
 810              	.LFE4702:
 812              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 813              		.align	2
 814              	.LC2:
 815 0000 66696C65 		.ascii	"filemgr init failed\000"
 815      6D677220 
 815      696E6974 
 815      20666169 
 815      6C656400 
 816              		.align	2
 817              	.LC3:
 818 0014 72656164 		.ascii	"reading files failed\000"
 818      696E6720 
 818      66696C65 
 818      73206661 
 818      696C6564 
 819 0029 000000   		.align	2
 820              	.LC4:
 821 002c 6C6F6164 		.ascii	"loading file 0 failed\000"
 821      696E6720 
 821      66696C65 
 821      20302066 
 821      61696C65 
 822 0042 0000     		.align	2
 823              	.LC5:
 824 0044 6E6F7720 		.ascii	"now playing track %d\000"
 824      706C6179 
 824      696E6720 
 824      74726163 
 824      6B202564 
 825              		.section	.text.startup.main,"ax",%progbits
 826              		.align	1
 827              		.p2align 2,,3
 828              		.global	main
 829              		.syntax unified
 830              		.thumb
 831              		.thumb_func
 833              	main:
 834              	.LFB4703:
  81:main.cpp      **** 
  82:main.cpp      **** 
  83:main.cpp      **** int main (void){
 835              		.loc 16 83 16 is_stmt 1 view -0
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 41


 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 0
 838              		@ frame_needed = 0, uses_anonymous_args = 0
  84:main.cpp      ****   pod.Init();
 839              		.loc 16 84 3 view .LVU214
  83:main.cpp      ****   pod.Init();
 840              		.loc 16 83 16 is_stmt 0 view .LVU215
 841 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 842              		.cfi_def_cfa_offset 24
 843              		.cfi_offset 3, -24
 844              		.cfi_offset 4, -20
 845              		.cfi_offset 5, -16
 846              		.cfi_offset 6, -12
 847              		.cfi_offset 7, -8
 848              		.cfi_offset 14, -4
 849              		.loc 16 84 11 view .LVU216
 850 0002 0021     		movs	r1, #0
 851 0004 2C48     		ldr	r0, .L70
 852 0006 FFF7FEFF 		bl	_ZN5daisy8DaisyPod4InitEb
 853              	.LVL35:
  85:main.cpp      ****   pod.seed.StartLog(true);
 854              		.loc 16 85 3 is_stmt 1 view .LVU217
 855              	.LBB490:
 856              	.LBI490:
 129:../libDaisy/src/daisy_seed.h ****     }
 130:../libDaisy/src/daisy_seed.h **** 
 131:../libDaisy/src/daisy_seed.h ****     /** Start the logging session. Optionally wait for terminal connection before proceeding.
 132:../libDaisy/src/daisy_seed.h ****     */
 133:../libDaisy/src/daisy_seed.h ****     static void StartLog(bool wait_for_pc = false)
 857              		.loc 11 133 17 view .LVU218
 858              	.LBB491:
 134:../libDaisy/src/daisy_seed.h ****     {
 135:../libDaisy/src/daisy_seed.h ****         Log::StartLog(wait_for_pc);
 859              		.loc 11 135 9 view .LVU219
 860              		.loc 11 135 22 is_stmt 0 view .LVU220
 861 000a 0120     		movs	r0, #1
 862 000c FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
 863              	.LVL36:
 864              		.loc 11 135 22 view .LVU221
 865              	.LBE491:
 866              	.LBE490:
  86:main.cpp      ****   pod.SetAudioBlockSize(4);
 867              		.loc 16 86 3 is_stmt 1 view .LVU222
 868              		.loc 16 86 24 is_stmt 0 view .LVU223
 869 0010 0421     		movs	r1, #4
 870 0012 2948     		ldr	r0, .L70
 871 0014 FFF7FEFF 		bl	_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
 872              	.LVL37:
  87:main.cpp      ****   pod.ProcessAllControls();
 873              		.loc 16 87 3 is_stmt 1 view .LVU224
 874              	.LBB492:
 875              	.LBI492:
  37:../libDaisy/src/daisy_pod.h **** 
  38:../libDaisy/src/daisy_pod.h ****     /** Init related stuff. */
  39:../libDaisy/src/daisy_pod.h ****     void Init(bool boost = false);
  40:../libDaisy/src/daisy_pod.h **** 
  41:../libDaisy/src/daisy_pod.h ****     /** Wait for a bit
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 42


  42:../libDaisy/src/daisy_pod.h ****     \param del Time to wait in ms.
  43:../libDaisy/src/daisy_pod.h ****     */
  44:../libDaisy/src/daisy_pod.h ****     void DelayMs(size_t del);
  45:../libDaisy/src/daisy_pod.h **** 
  46:../libDaisy/src/daisy_pod.h ****     /** Starts the callback
  47:../libDaisy/src/daisy_pod.h ****     \param cb Interleaved callback function
  48:../libDaisy/src/daisy_pod.h ****     */
  49:../libDaisy/src/daisy_pod.h ****     void StartAudio(AudioHandle::InterleavingAudioCallback cb);
  50:../libDaisy/src/daisy_pod.h **** 
  51:../libDaisy/src/daisy_pod.h ****     /** Starts the callback
  52:../libDaisy/src/daisy_pod.h ****     \param cb multichannel callback function
  53:../libDaisy/src/daisy_pod.h ****     */
  54:../libDaisy/src/daisy_pod.h ****     void StartAudio(AudioHandle::AudioCallback cb);
  55:../libDaisy/src/daisy_pod.h **** 
  56:../libDaisy/src/daisy_pod.h ****     /**
  57:../libDaisy/src/daisy_pod.h ****        Switch callback functions
  58:../libDaisy/src/daisy_pod.h ****        \param cb New interleaved callback function.
  59:../libDaisy/src/daisy_pod.h ****     */
  60:../libDaisy/src/daisy_pod.h ****     void ChangeAudioCallback(AudioHandle::InterleavingAudioCallback cb);
  61:../libDaisy/src/daisy_pod.h **** 
  62:../libDaisy/src/daisy_pod.h ****     /**
  63:../libDaisy/src/daisy_pod.h ****        Switch callback functions
  64:../libDaisy/src/daisy_pod.h ****        \param cb New multichannel callback function.
  65:../libDaisy/src/daisy_pod.h ****     */
  66:../libDaisy/src/daisy_pod.h ****     void ChangeAudioCallback(AudioHandle::AudioCallback cb);
  67:../libDaisy/src/daisy_pod.h **** 
  68:../libDaisy/src/daisy_pod.h ****     /** Stops the audio if it is running. */
  69:../libDaisy/src/daisy_pod.h ****     void StopAudio();
  70:../libDaisy/src/daisy_pod.h **** 
  71:../libDaisy/src/daisy_pod.h ****     /** Updates the Audio Sample Rate, and reinitializes.
  72:../libDaisy/src/daisy_pod.h ****      ** Audio must be stopped for this to work.
  73:../libDaisy/src/daisy_pod.h ****      */
  74:../libDaisy/src/daisy_pod.h ****     void SetAudioSampleRate(SaiHandle::Config::SampleRate samplerate);
  75:../libDaisy/src/daisy_pod.h **** 
  76:../libDaisy/src/daisy_pod.h ****     /** Returns the audio sample rate in Hz as a floating point number.
  77:../libDaisy/src/daisy_pod.h ****      */
  78:../libDaisy/src/daisy_pod.h ****     float AudioSampleRate();
  79:../libDaisy/src/daisy_pod.h **** 
  80:../libDaisy/src/daisy_pod.h ****     /** Sets the number of samples processed per channel by the audio callback.
  81:../libDaisy/src/daisy_pod.h ****      */
  82:../libDaisy/src/daisy_pod.h ****     void SetAudioBlockSize(size_t blocksize);
  83:../libDaisy/src/daisy_pod.h **** 
  84:../libDaisy/src/daisy_pod.h ****     /** Returns the number of samples per channel in a block of audio. */
  85:../libDaisy/src/daisy_pod.h ****     size_t AudioBlockSize();
  86:../libDaisy/src/daisy_pod.h **** 
  87:../libDaisy/src/daisy_pod.h ****     /** Returns the rate in Hz that the Audio callback is called */
  88:../libDaisy/src/daisy_pod.h ****     float AudioCallbackRate();
  89:../libDaisy/src/daisy_pod.h **** 
  90:../libDaisy/src/daisy_pod.h ****     /**
  91:../libDaisy/src/daisy_pod.h ****        Start analog to digital conversion.
  92:../libDaisy/src/daisy_pod.h ****      */
  93:../libDaisy/src/daisy_pod.h ****     void StartAdc();
  94:../libDaisy/src/daisy_pod.h **** 
  95:../libDaisy/src/daisy_pod.h ****     /** Stops Transfering data from the ADC */
  96:../libDaisy/src/daisy_pod.h ****     void StopAdc();
  97:../libDaisy/src/daisy_pod.h **** 
  98:../libDaisy/src/daisy_pod.h ****     /** Call at same rate as analog reads for smooth reading.*/
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 43


  99:../libDaisy/src/daisy_pod.h ****     void ProcessAnalogControls();
 100:../libDaisy/src/daisy_pod.h **** 
 101:../libDaisy/src/daisy_pod.h ****     /** Process Analog and Digital Controls */
 102:../libDaisy/src/daisy_pod.h ****     inline void ProcessAllControls()
 876              		.loc 2 102 17 view .LVU225
 877              	.LBB493:
 103:../libDaisy/src/daisy_pod.h ****     {
 104:../libDaisy/src/daisy_pod.h ****         ProcessAnalogControls();
 878              		.loc 2 104 9 view .LVU226
 879              		.loc 2 104 30 is_stmt 0 view .LVU227
 880 0018 2748     		ldr	r0, .L70
 881 001a FFF7FEFF 		bl	_ZN5daisy8DaisyPod21ProcessAnalogControlsEv
 882              	.LVL38:
 105:../libDaisy/src/daisy_pod.h ****         ProcessDigitalControls();
 883              		.loc 2 105 9 is_stmt 1 view .LVU228
 884              		.loc 2 105 31 is_stmt 0 view .LVU229
 885 001e 2648     		ldr	r0, .L70
 886 0020 FFF7FEFF 		bl	_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
 887              	.LVL39:
 888              		.loc 2 105 31 view .LVU230
 889              	.LBE493:
 890              	.LBE492:
  88:main.cpp      **** 
  89:main.cpp      ****   filemgr.SetBuffers(left_buf, right_buf, CHANNEL_BUF_SIZE);
 891              		.loc 16 89 3 is_stmt 1 view .LVU231
 892              		.loc 16 89 21 is_stmt 0 view .LVU232
 893 0024 2548     		ldr	r0, .L70+4
 894 0026 4FF48003 		mov	r3, #4194304
 895 002a 254A     		ldr	r2, .L70+8
 896 002c 2549     		ldr	r1, .L70+12
 897 002e FFF7FEFF 		bl	_ZN16AudioFileManager10SetBuffersEPfS0_j
 898              	.LVL40:
  90:main.cpp      ****   if (!filemgr.Init()){
 899              		.loc 16 90 3 is_stmt 1 view .LVU233
 900              		.loc 16 90 20 is_stmt 0 view .LVU234
 901 0032 2248     		ldr	r0, .L70+4
 902 0034 FFF7FEFF 		bl	_ZN16AudioFileManager4InitEv
 903              	.LVL41:
 904              		.loc 16 90 3 view .LVU235
 905 0038 0028     		cmp	r0, #0
 906 003a 35D0     		beq	.L67
  91:main.cpp      ****     pod.seed.PrintLine("filemgr init failed");
  92:main.cpp      ****     return 1;
  93:main.cpp      ****   }
  94:main.cpp      **** 
  95:main.cpp      ****   if (!filemgr.ScanWavFiles()){
 907              		.loc 16 95 3 is_stmt 1 view .LVU236
 908              		.loc 16 95 28 is_stmt 0 view .LVU237
 909 003c 1F48     		ldr	r0, .L70+4
 910 003e FFF7FEFF 		bl	_ZN16AudioFileManager12ScanWavFilesEv
 911              	.LVL42:
 912              		.loc 16 95 3 view .LVU238
 913 0042 60B3     		cbz	r0, .L68
  96:main.cpp      ****     pod.seed.PrintLine("reading files failed");
  97:main.cpp      ****     return 1;
  98:main.cpp      ****   }
  99:main.cpp      **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 44


 100:main.cpp      ****   if (!filemgr.LoadFile(curr_file_idx)){
 914              		.loc 16 100 3 is_stmt 1 view .LVU239
 915              		.loc 16 100 24 is_stmt 0 view .LVU240
 916 0044 204D     		ldr	r5, .L70+16
 917 0046 1D48     		ldr	r0, .L70+4
 918 0048 2968     		ldr	r1, [r5]
 919 004a FFF7FEFF 		bl	_ZN16AudioFileManager8LoadFileEi
 920              	.LVL43:
 921              		.loc 16 100 3 view .LVU241
 922 004e 78B3     		cbz	r0, .L69
 101:main.cpp      ****     pod.seed.PrintLine("loading file 0 failed");
 102:main.cpp      ****     return 1;
 103:main.cpp      ****   }
 104:main.cpp      ****   now_playing = true;
 923              		.loc 16 104 3 is_stmt 1 view .LVU242
 924              		.loc 16 104 15 is_stmt 0 view .LVU243
 925 0050 0123     		movs	r3, #1
 926 0052 1E4E     		ldr	r6, .L70+20
 927              	.LBB494:
 928              	.LBB495:
 128:../libDaisy/src/daisy_seed.h ****     }
 929              		.loc 11 128 23 view .LVU244
 930 0054 2968     		ldr	r1, [r5]
 931 0056 1E48     		ldr	r0, .L70+24
 932              	.LBE495:
 933              	.LBE494:
 934              		.loc 16 104 15 view .LVU245
 935 0058 3370     		strb	r3, [r6]
 105:main.cpp      ****   pod.seed.PrintLine("now playing track %d",curr_file_idx);
 936              		.loc 16 105 3 is_stmt 1 view .LVU246
 937              	.LVL44:
 938              	.LBB497:
 939              	.LBI494:
 126:../libDaisy/src/daisy_seed.h ****     {
 940              		.loc 11 126 17 view .LVU247
 941              	.LBB496:
 128:../libDaisy/src/daisy_seed.h ****     }
 942              		.loc 11 128 23 is_stmt 0 view .LVU248
 943 005a FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 944              	.LVL45:
 128:../libDaisy/src/daisy_seed.h ****     }
 945              		.loc 11 128 23 view .LVU249
 946              	.LBE496:
 947              	.LBE497:
 106:main.cpp      **** 
 107:main.cpp      ****   pod.StartAdc();
 948              		.loc 16 107 3 is_stmt 1 view .LVU250
 949 005e 1D4C     		ldr	r4, .L70+28
 950              		.loc 16 107 15 is_stmt 0 view .LVU251
 951 0060 1548     		ldr	r0, .L70
 952 0062 1D4F     		ldr	r7, .L70+32
 953 0064 FFF7FEFF 		bl	_ZN5daisy8DaisyPod8StartAdcEv
 954              	.LVL46:
 108:main.cpp      ****   pod.StartAudio(AudioCallback);
 955              		.loc 16 108 3 is_stmt 1 view .LVU252
 956              		.loc 16 108 17 is_stmt 0 view .LVU253
 957 0068 1C49     		ldr	r1, .L70+36
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 45


 958 006a 1348     		ldr	r0, .L70
 959 006c FFF7FEFF 		bl	_ZN5daisy8DaisyPod10StartAudioEPFvPKPKfPPfjE
 960              	.LVL47:
 961              	.L62:
 109:main.cpp      ****   // pod.seed.PrintLine("started audio callback.");
 110:main.cpp      **** 
 111:main.cpp      ****   while(1){
 962              		.loc 16 111 3 is_stmt 1 view .LVU254
 112:main.cpp      ****     HandleEncoder();
 963              		.loc 16 112 5 view .LVU255
 964              		.loc 16 112 18 is_stmt 0 view .LVU256
 965 0070 FFF7FEFF 		bl	_Z13HandleEncoderv
 966              	.LVL48:
 113:main.cpp      ****     HandleButton1();
 967              		.loc 16 113 5 is_stmt 1 view .LVU257
 968              		.loc 16 113 18 is_stmt 0 view .LVU258
 969 0074 FFF7FEFF 		bl	_Z13HandleButton1v
 970              	.LVL49:
 114:main.cpp      ****     if (change_file){
 971              		.loc 16 114 5 is_stmt 1 view .LVU259
 115:main.cpp      ****       filemgr.LoadFile(curr_file_idx);
 972              		.loc 16 115 7 view .LVU260
 114:main.cpp      ****     if (change_file){
 973              		.loc 16 114 5 is_stmt 0 view .LVU261
 974 0078 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 975              		.loc 16 115 23 view .LVU262
 976 007a 1048     		ldr	r0, .L70+4
 114:main.cpp      ****     if (change_file){
 977              		.loc 16 114 5 view .LVU263
 978 007c 5BB1     		cbz	r3, .L61
 979              		.loc 16 115 23 view .LVU264
 980 007e 2968     		ldr	r1, [r5]
 981 0080 FFF7FEFF 		bl	_ZN16AudioFileManager8LoadFileEi
 982              	.LVL50:
 116:main.cpp      ****       wav_pos=0;
 983              		.loc 16 116 7 is_stmt 1 view .LVU265
 984              		.loc 16 116 14 is_stmt 0 view .LVU266
 985 0084 0023     		movs	r3, #0
 117:main.cpp      ****       change_file = false;
 118:main.cpp      ****       now_playing = true;
 986              		.loc 16 118 19 view .LVU267
 987 0086 0122     		movs	r2, #1
 988              	.LBB498:
 989              	.LBB499:
 128:../libDaisy/src/daisy_seed.h ****     }
 990              		.loc 11 128 23 view .LVU268
 991 0088 2968     		ldr	r1, [r5]
 992 008a 1148     		ldr	r0, .L70+24
 993              	.LBE499:
 994              	.LBE498:
 116:main.cpp      ****       wav_pos=0;
 995              		.loc 16 116 14 view .LVU269
 996 008c 3B60     		str	r3, [r7]
 117:main.cpp      ****       change_file = false;
 997              		.loc 16 117 7 is_stmt 1 view .LVU270
 117:main.cpp      ****       change_file = false;
 998              		.loc 16 117 19 is_stmt 0 view .LVU271
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 46


 999 008e 2370     		strb	r3, [r4]
 1000              		.loc 16 118 7 is_stmt 1 view .LVU272
 1001              		.loc 16 118 19 is_stmt 0 view .LVU273
 1002 0090 3270     		strb	r2, [r6]
 119:main.cpp      ****       pod.seed.PrintLine("now playing track %d",curr_file_idx);
 1003              		.loc 16 119 7 is_stmt 1 view .LVU274
 1004              	.LVL51:
 1005              	.LBB501:
 1006              	.LBI498:
 126:../libDaisy/src/daisy_seed.h ****     {
 1007              		.loc 11 126 17 view .LVU275
 1008              	.LBB500:
 128:../libDaisy/src/daisy_seed.h ****     }
 1009              		.loc 11 128 23 is_stmt 0 view .LVU276
 1010 0092 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 1011              	.LVL52:
 1012              	.L61:
 128:../libDaisy/src/daisy_seed.h ****     }
 1013              		.loc 11 128 23 view .LVU277
 1014              	.LBE500:
 1015              	.LBE501:
 120:main.cpp      ****     }
 121:main.cpp      ****     System::Delay(1);
 1016              		.loc 16 121 5 is_stmt 1 view .LVU278
 1017              		.loc 16 121 18 is_stmt 0 view .LVU279
 1018 0096 0120     		movs	r0, #1
 1019 0098 FFF7FEFF 		bl	_ZN5daisy6System5DelayEm
 1020              	.LVL53:
 111:main.cpp      ****     HandleEncoder();
 1021              		.loc 16 111 3 is_stmt 1 view .LVU280
 112:main.cpp      ****     HandleButton1();
 1022              		.loc 16 112 18 is_stmt 0 view .LVU281
 1023 009c E8E7     		b	.L62
 1024              	.L68:
  96:main.cpp      ****     return 1;
 1025              		.loc 16 96 5 is_stmt 1 view .LVU282
 1026              	.LVL54:
 1027              	.LBB502:
 1028              	.LBI502:
 126:../libDaisy/src/daisy_seed.h ****     {
 1029              		.loc 11 126 17 view .LVU283
 1030              	.LBB503:
 128:../libDaisy/src/daisy_seed.h ****     }
 1031              		.loc 11 128 23 is_stmt 0 view .LVU284
 1032 009e 1048     		ldr	r0, .L70+40
 1033 00a0 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 1034              	.LVL55:
 128:../libDaisy/src/daisy_seed.h ****     }
 1035              		.loc 11 128 23 view .LVU285
 1036              	.LBE503:
 1037              	.LBE502:
  97:main.cpp      ****   }
 1038              		.loc 16 97 5 is_stmt 1 view .LVU286
 1039              	.L58:
 122:main.cpp      ****   }
 123:main.cpp      **** };
 1040              		.loc 16 123 1 is_stmt 0 view .LVU287
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 47


 1041 00a4 0120     		movs	r0, #1
 1042 00a6 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1043              	.L67:
  91:main.cpp      ****     return 1;
 1044              		.loc 16 91 5 is_stmt 1 view .LVU288
 1045              	.LVL56:
 1046              	.LBB504:
 1047              	.LBI504:
 126:../libDaisy/src/daisy_seed.h ****     {
 1048              		.loc 11 126 17 view .LVU289
 1049              	.LBB505:
 128:../libDaisy/src/daisy_seed.h ****     }
 1050              		.loc 11 128 23 is_stmt 0 view .LVU290
 1051 00a8 0E48     		ldr	r0, .L70+44
 1052 00aa FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 1053              	.LVL57:
 128:../libDaisy/src/daisy_seed.h ****     }
 1054              		.loc 11 128 23 view .LVU291
 1055              	.LBE505:
 1056              	.LBE504:
  92:main.cpp      ****   }
 1057              		.loc 16 92 5 is_stmt 1 view .LVU292
  92:main.cpp      ****   }
 1058              		.loc 16 92 12 is_stmt 0 view .LVU293
 1059 00ae F9E7     		b	.L58
 1060              	.L69:
 101:main.cpp      ****     return 1;
 1061              		.loc 16 101 5 is_stmt 1 view .LVU294
 1062              	.LVL58:
 1063              	.LBB506:
 1064              	.LBI506:
 126:../libDaisy/src/daisy_seed.h ****     {
 1065              		.loc 11 126 17 view .LVU295
 1066              	.LBB507:
 128:../libDaisy/src/daisy_seed.h ****     }
 1067              		.loc 11 128 23 is_stmt 0 view .LVU296
 1068 00b0 0D48     		ldr	r0, .L70+48
 1069 00b2 FFF7FEFF 		bl	_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
 1070              	.LVL59:
 128:../libDaisy/src/daisy_seed.h ****     }
 1071              		.loc 11 128 23 view .LVU297
 1072              	.LBE507:
 1073              	.LBE506:
 102:main.cpp      ****   }
 1074              		.loc 16 102 5 is_stmt 1 view .LVU298
 102:main.cpp      ****   }
 1075              		.loc 16 102 12 is_stmt 0 view .LVU299
 1076 00b6 F5E7     		b	.L58
 1077              	.L71:
 1078              		.align	2
 1079              	.L70:
 1080 00b8 00000000 		.word	pod
 1081 00bc 00000000 		.word	filemgr
 1082 00c0 00000000 		.word	right_buf
 1083 00c4 00000000 		.word	left_buf
 1084 00c8 00000000 		.word	.LANCHOR2
 1085 00cc 00000000 		.word	.LANCHOR0
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 48


 1086 00d0 44000000 		.word	.LC5
 1087 00d4 00000000 		.word	.LANCHOR3
 1088 00d8 00000000 		.word	.LANCHOR1
 1089 00dc 00000000 		.word	_Z13AudioCallbackPKPKfPPfj
 1090 00e0 14000000 		.word	.LC3
 1091 00e4 00000000 		.word	.LC2
 1092 00e8 2C000000 		.word	.LC4
 1093              		.cfi_endproc
 1094              	.LFE4703:
 1096              		.section	.text.startup._GLOBAL__sub_I_sd,"ax",%progbits
 1097              		.align	1
 1098              		.p2align 2,,3
 1099              		.syntax unified
 1100              		.thumb
 1101              		.thumb_func
 1103              	_GLOBAL__sub_I_sd:
 1104              	.LFB5290:
 1105              		.loc 16 123 2 is_stmt 1 view -0
 1106              		.cfi_startproc
 1107              		@ args = 0, pretend = 0, frame = 0
 1108              		@ frame_needed = 0, uses_anonymous_args = 0
 1109              	.LBB584:
 1110              	.LBI584:
 1111              		.loc 16 123 2 view .LVU301
 1112              	.LVL60:
 1113              	.LBB585:
 1114              	.LBB586:
 1115              	.LBI586:
  77:../libDaisy/src/per/sdmmc.h ****     ~SdmmcHandler() {}
 1116              		.loc 1 77 5 view .LVU302
  77:../libDaisy/src/per/sdmmc.h ****     ~SdmmcHandler() {}
 1117              		.loc 1 77 5 is_stmt 0 view .LVU303
 1118              	.LBE586:
 1119              	.LBE585:
 1120              	.LBE584:
 1121              		.loc 16 123 2 view .LVU304
 1122 0000 70B5     		push	{r4, r5, r6, lr}
 1123              		.cfi_def_cfa_offset 16
 1124              		.cfi_offset 4, -16
 1125              		.cfi_offset 5, -12
 1126              		.cfi_offset 6, -8
 1127              		.cfi_offset 14, -4
 1128              	.LBB678:
 1129              	.LBB677:
  13:main.cpp      **** FatFSInterface fsi;
 1130              		.loc 16 13 14 view .LVU305
 1131 0002 194E     		ldr	r6, .L74
 1132              	.LBB587:
 1133              	.LBB588:
 1134              	.LBB589:
 1135              	.LBB590:
 1136              	.LBB591:
 1137              	.LBB592:
 1138              	.LBB593:
 1139              		.file 18 "../libDaisy/src/per/qspi.h"
   1:../libDaisy/src/per/qspi.h **** #ifndef DSY_QSPI
   2:../libDaisy/src/per/qspi.h **** #define DSY_QSPI /**< Macro */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 49


   3:../libDaisy/src/per/qspi.h **** 
   4:../libDaisy/src/per/qspi.h **** #ifndef UNIT_TEST // for unit tests, a dummy implementation
   5:../libDaisy/src/per/qspi.h **** 
   6:../libDaisy/src/per/qspi.h **** #include <cstdint>
   7:../libDaisy/src/per/qspi.h **** #include "daisy_core.h" // Added for dsy_gpio_pin typedef
   8:../libDaisy/src/per/qspi.h **** 
   9:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_TEXT       \
  10:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  11:../libDaisy/src/per/qspi.h ****         ".qspiflash_text"))) /**< used for reading memory in memory_mapped mode. */
  12:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_DATA       \
  13:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  14:../libDaisy/src/per/qspi.h ****         ".qspiflash_data"))) /**< used for reading memory in memory_mapped mode. */
  15:../libDaisy/src/per/qspi.h **** #define DSY_QSPI_BSS        \
  16:../libDaisy/src/per/qspi.h ****     __attribute__((section( \
  17:../libDaisy/src/per/qspi.h ****         ".qspiflash_bss"))) /**< used for reading memory in memory_mapped mode. */
  18:../libDaisy/src/per/qspi.h **** 
  19:../libDaisy/src/per/qspi.h **** namespace daisy
  20:../libDaisy/src/per/qspi.h **** {
  21:../libDaisy/src/per/qspi.h **** /** @addtogroup serial
  22:../libDaisy/src/per/qspi.h **** @{
  23:../libDaisy/src/per/qspi.h **** */
  24:../libDaisy/src/per/qspi.h **** 
  25:../libDaisy/src/per/qspi.h **** /** 
  26:../libDaisy/src/per/qspi.h ****  Driver for QSPI peripheral to interface with external flash memory. \n 
  27:../libDaisy/src/per/qspi.h ****     Currently supported QSPI Devices: \n 
  28:../libDaisy/src/per/qspi.h ****     * IS25LP080D
  29:../libDaisy/src/per/qspi.h **** */
  30:../libDaisy/src/per/qspi.h **** class QSPIHandle
  31:../libDaisy/src/per/qspi.h **** {
  32:../libDaisy/src/per/qspi.h ****   public:
  33:../libDaisy/src/per/qspi.h ****     enum Result
  34:../libDaisy/src/per/qspi.h ****     {
  35:../libDaisy/src/per/qspi.h ****         OK = 0,
  36:../libDaisy/src/per/qspi.h ****         ERR
  37:../libDaisy/src/per/qspi.h ****     };
  38:../libDaisy/src/per/qspi.h **** 
  39:../libDaisy/src/per/qspi.h ****     /** Indicates the current status of the module. 
  40:../libDaisy/src/per/qspi.h ****          *  Warnings are indicated by a leading W.
  41:../libDaisy/src/per/qspi.h ****          *  Errors are indicated by a leading E and cause an immediate exit.
  42:../libDaisy/src/per/qspi.h ****          * 
  43:../libDaisy/src/per/qspi.h ****          *  \param GOOD - No errors have been reported.
  44:../libDaisy/src/per/qspi.h ****          *  \param E_HAL_ERROR - HAL code did not return HAL_OK.
  45:../libDaisy/src/per/qspi.h ****          *  \param E_SWITCHING_MODES - An error was encountered while switching QSPI peripheral mod
  46:../libDaisy/src/per/qspi.h ****          *  \param E_INVALID_MODE - QSPI should not be written to while the program is executing fr
  47:../libDaisy/src/per/qspi.h ****          */
  48:../libDaisy/src/per/qspi.h ****     enum Status
  49:../libDaisy/src/per/qspi.h ****     {
  50:../libDaisy/src/per/qspi.h ****         GOOD = 0,
  51:../libDaisy/src/per/qspi.h ****         E_HAL_ERROR,
  52:../libDaisy/src/per/qspi.h ****         E_SWITCHING_MODES,
  53:../libDaisy/src/per/qspi.h ****         E_INVALID_MODE,
  54:../libDaisy/src/per/qspi.h ****     };
  55:../libDaisy/src/per/qspi.h **** 
  56:../libDaisy/src/per/qspi.h ****     /** Configuration structure for interfacing with QSPI Driver */
  57:../libDaisy/src/per/qspi.h ****     struct Config
  58:../libDaisy/src/per/qspi.h ****     {
  59:../libDaisy/src/per/qspi.h ****         /** Flash Devices supported. (Both of these are more-or-less the same, just different sizes
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 50


  60:../libDaisy/src/per/qspi.h ****         enum Device
  61:../libDaisy/src/per/qspi.h ****         {
  62:../libDaisy/src/per/qspi.h ****             IS25LP080D,  /**< & */
  63:../libDaisy/src/per/qspi.h ****             IS25LP064A,  /**< & */
  64:../libDaisy/src/per/qspi.h ****             DEVICE_LAST, /**< & */
  65:../libDaisy/src/per/qspi.h ****         };
  66:../libDaisy/src/per/qspi.h **** 
  67:../libDaisy/src/per/qspi.h ****         /** 
  68:../libDaisy/src/per/qspi.h ****         Modes of operation.
  69:../libDaisy/src/per/qspi.h ****         Memory Mapped mode: QSPI configured so that the QSPI can be
  70:../libDaisy/src/per/qspi.h ****         read from starting address 0x90000000. Writing is not
  71:../libDaisy/src/per/qspi.h ****         possible in this mode. \n 
  72:../libDaisy/src/per/qspi.h ****         Indirect Polling mode: Device driver enabled. 
  73:../libDaisy/src/per/qspi.h ****         */
  74:../libDaisy/src/per/qspi.h ****         enum Mode
  75:../libDaisy/src/per/qspi.h ****         {
  76:../libDaisy/src/per/qspi.h ****             MEMORY_MAPPED,    /**< & */
  77:../libDaisy/src/per/qspi.h ****             INDIRECT_POLLING, /**< & */
  78:../libDaisy/src/per/qspi.h ****             MODE_LAST,
  79:../libDaisy/src/per/qspi.h ****         };
  80:../libDaisy/src/per/qspi.h **** 
  81:../libDaisy/src/per/qspi.h ****         //SCK,  CE# (active low)
  82:../libDaisy/src/per/qspi.h ****         struct
  83:../libDaisy/src/per/qspi.h ****         {
  84:../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io0; /**< & */
  85:../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io1; /**< & */
  86:../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io2; /**< & */
  87:../libDaisy/src/per/qspi.h ****             dsy_gpio_pin io3; /**< & */
  88:../libDaisy/src/per/qspi.h ****             dsy_gpio_pin clk; /**< & */
  89:../libDaisy/src/per/qspi.h ****             dsy_gpio_pin ncs; /**< & */
  90:../libDaisy/src/per/qspi.h ****         } pin_config;
  91:../libDaisy/src/per/qspi.h **** 
  92:../libDaisy/src/per/qspi.h ****         Device device;
  93:../libDaisy/src/per/qspi.h ****         Mode   mode;
  94:../libDaisy/src/per/qspi.h ****     };
  95:../libDaisy/src/per/qspi.h **** 
  96:../libDaisy/src/per/qspi.h ****     /** 
  97:../libDaisy/src/per/qspi.h ****         Initializes QSPI peripheral, and Resets, and prepares memory for access.
  98:../libDaisy/src/per/qspi.h ****         \param config should be populated with the mode, device and pin_config before calling this 
  99:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 100:../libDaisy/src/per/qspi.h ****         */
 101:../libDaisy/src/per/qspi.h ****     Result Init(const Config& config);
 102:../libDaisy/src/per/qspi.h **** 
 103:../libDaisy/src/per/qspi.h ****     /** Returns the current config. */
 104:../libDaisy/src/per/qspi.h ****     const Config& GetConfig() const;
 105:../libDaisy/src/per/qspi.h **** 
 106:../libDaisy/src/per/qspi.h ****     // Couldn't this just be called before anything else in init? That
 107:../libDaisy/src/per/qspi.h ****     // would make manually calling it unnecessary.
 108:../libDaisy/src/per/qspi.h ****     /** 
 109:../libDaisy/src/per/qspi.h ****         Deinitializes the peripheral
 110:../libDaisy/src/per/qspi.h ****         This should be called before reinitializing QSPI in a different mode.
 111:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 112:../libDaisy/src/per/qspi.h ****         */
 113:../libDaisy/src/per/qspi.h ****     Result DeInit();
 114:../libDaisy/src/per/qspi.h **** 
 115:../libDaisy/src/per/qspi.h ****     /** 
 116:../libDaisy/src/per/qspi.h ****         Writes a single page to to the specified address on the QSPI chip.
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 51


 117:../libDaisy/src/per/qspi.h ****         For IS25LP*, page size is 256 bytes.
 118:../libDaisy/src/per/qspi.h ****         \param address Address to write to
 119:../libDaisy/src/per/qspi.h ****         \param size Buffer size
 120:../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 121:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 122:../libDaisy/src/per/qspi.h ****         */
 123:../libDaisy/src/per/qspi.h ****     Result WritePage(uint32_t address, uint32_t size, uint8_t* buffer);
 124:../libDaisy/src/per/qspi.h **** 
 125:../libDaisy/src/per/qspi.h ****     /** 
 126:../libDaisy/src/per/qspi.h ****         Writes data in buffer to to the QSPI. Starting at address to address+size 
 127:../libDaisy/src/per/qspi.h ****         \param address Address to write to
 128:../libDaisy/src/per/qspi.h ****         \param size Buffer size
 129:../libDaisy/src/per/qspi.h ****         \param buffer Buffer to write
 130:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 131:../libDaisy/src/per/qspi.h ****         */
 132:../libDaisy/src/per/qspi.h ****     Result Write(uint32_t address, uint32_t size, uint8_t* buffer);
 133:../libDaisy/src/per/qspi.h **** 
 134:../libDaisy/src/per/qspi.h ****     /** 
 135:../libDaisy/src/per/qspi.h ****         Erases the area specified on the chip.
 136:../libDaisy/src/per/qspi.h ****         Erasures will happen by 4K, 32K or 64K increments.
 137:../libDaisy/src/per/qspi.h ****         Smallest erase possible is 4kB at a time. (on IS25LP*)
 138:../libDaisy/src/per/qspi.h ****         \param start_addr Address to begin erasing from
 139:../libDaisy/src/per/qspi.h ****         \param end_addr  Address to stop erasing at
 140:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 141:../libDaisy/src/per/qspi.h ****         */
 142:../libDaisy/src/per/qspi.h ****     Result Erase(uint32_t start_addr, uint32_t end_addr);
 143:../libDaisy/src/per/qspi.h **** 
 144:../libDaisy/src/per/qspi.h ****     /**  
 145:../libDaisy/src/per/qspi.h ****          Erases a single sector of the chip.  
 146:../libDaisy/src/per/qspi.h ****         TODO: Document the size of this function. 
 147:../libDaisy/src/per/qspi.h ****         \param address Address of sector to erase
 148:../libDaisy/src/per/qspi.h ****         \return Result::OK or Result::ERR
 149:../libDaisy/src/per/qspi.h ****         */
 150:../libDaisy/src/per/qspi.h ****     Result EraseSector(uint32_t address);
 151:../libDaisy/src/per/qspi.h **** 
 152:../libDaisy/src/per/qspi.h ****     /** Returns the current class status. Useful for debugging.
 153:../libDaisy/src/per/qspi.h ****      *  \returns Status
 154:../libDaisy/src/per/qspi.h ****      */
 155:../libDaisy/src/per/qspi.h ****     Status GetStatus();
 156:../libDaisy/src/per/qspi.h **** 
 157:../libDaisy/src/per/qspi.h ****     /** Returns a pointer to the actual memory used 
 158:../libDaisy/src/per/qspi.h ****      *  The memory at this address is read-only
 159:../libDaisy/src/per/qspi.h ****      *  to write to it use the Write function.
 160:../libDaisy/src/per/qspi.h ****      * 
 161:../libDaisy/src/per/qspi.h ****      *  \param offset returns the pointer starting this 
 162:../libDaisy/src/per/qspi.h ****      *                many bytes into the memory
 163:../libDaisy/src/per/qspi.h ****     */
 164:../libDaisy/src/per/qspi.h ****     void* GetData(uint32_t offset = 0);
 165:../libDaisy/src/per/qspi.h **** 
 166:../libDaisy/src/per/qspi.h ****     QSPIHandle() : pimpl_(nullptr) {}
 1140              		.loc 18 166 34 view .LVU306
 1141 0004 0025     		movs	r5, #0
 1142 0006 194C     		ldr	r4, .L74+4
 1143              	.LBE593:
 1144              	.LBE592:
 1145              	.LBE591:
 1146              	.LBE590:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 52


 1147              	.LBE589:
 1148              	.LBE588:
 1149              	.LBE587:
  13:main.cpp      **** FatFSInterface fsi;
 1150              		.loc 16 13 14 view .LVU307
 1151 0008 194A     		ldr	r2, .L74+8
 1152 000a 3046     		mov	r0, r6
 1153 000c 1949     		ldr	r1, .L74+12
 1154 000e FFF7FEFF 		bl	__aeabi_atexit
 1155              	.LVL61:
 1156              	.LBB670:
 1157              	.LBI670:
 1158              		.file 19 "../libDaisy/src/sys/fatfs.h"
   1:../libDaisy/src/sys/fatfs.h **** #ifndef __fatfs_H
   2:../libDaisy/src/sys/fatfs.h **** #define __fatfs_H /**< & */
   3:../libDaisy/src/sys/fatfs.h **** 
   4:../libDaisy/src/sys/fatfs.h **** #include "ff.h"
   5:../libDaisy/src/sys/fatfs.h **** 
   6:../libDaisy/src/sys/fatfs.h **** namespace daisy
   7:../libDaisy/src/sys/fatfs.h **** {
   8:../libDaisy/src/sys/fatfs.h **** /** @brief Daisy FatFS Driver Interface
   9:../libDaisy/src/sys/fatfs.h ****  *  @details Specifies the desired media (SD Card, USB, etc.) to be mountable with FatFS
  10:../libDaisy/src/sys/fatfs.h ****  *           within a given application. Once initialization is called, the standard
  11:../libDaisy/src/sys/fatfs.h ****  *           FatFS API will be usable with the media mounted in the order 
  12:../libDaisy/src/sys/fatfs.h ****  *           they are listed in the Media config struct. 
  13:../libDaisy/src/sys/fatfs.h ****  *           For example, when only using an SD Card, it will mount at "0:/",
  14:../libDaisy/src/sys/fatfs.h ****  *           when only using USB, it will mount at "0:/". However, when mounting 
  15:../libDaisy/src/sys/fatfs.h ****  *           with SD card and USB, the SD card will mount at "0:/", and the USB 
  16:../libDaisy/src/sys/fatfs.h ****  *           will mount at "1:/".
  17:../libDaisy/src/sys/fatfs.h ****  *           The relevant hardware peripheral (SDMMC, or MSD) needs to be initialized
  18:../libDaisy/src/sys/fatfs.h ****  *           separately by the application before using FatFS.
  19:../libDaisy/src/sys/fatfs.h ****  *          
  20:../libDaisy/src/sys/fatfs.h ****  *           This object has some memory limitations due to the media connected to it.
  21:../libDaisy/src/sys/fatfs.h ****  *           The SDMMC1 peripheral can only communicate with the AXI SRAM, and the DTCMRAM 
  22:../libDaisy/src/sys/fatfs.h ****  *           cannot communicate with the DMA. So the FatFSInterface object should always be
  23:../libDaisy/src/sys/fatfs.h ****  *           located in the AXI SRAM. This is the default location for all data/bss memory
  24:../libDaisy/src/sys/fatfs.h ****  *           using the standard build. However, applciations using the electrosmith bootloader
  25:../libDaisy/src/sys/fatfs.h ****  *           will need special consideration when using this object AND an SD Card. 
  26:../libDaisy/src/sys/fatfs.h ****  */
  27:../libDaisy/src/sys/fatfs.h **** class FatFSInterface
  28:../libDaisy/src/sys/fatfs.h **** {
  29:../libDaisy/src/sys/fatfs.h ****   public:
  30:../libDaisy/src/sys/fatfs.h ****     /** Return values specifying specific errors for linking Daisy to FatFS */
  31:../libDaisy/src/sys/fatfs.h ****     enum Result
  32:../libDaisy/src/sys/fatfs.h ****     {
  33:../libDaisy/src/sys/fatfs.h ****         OK,
  34:../libDaisy/src/sys/fatfs.h ****         ERR_TOO_MANY_VOLUMES,
  35:../libDaisy/src/sys/fatfs.h ****         ERR_NO_MEDIA_SELECTED,
  36:../libDaisy/src/sys/fatfs.h ****         ERR_GENERIC,
  37:../libDaisy/src/sys/fatfs.h ****     };
  38:../libDaisy/src/sys/fatfs.h **** 
  39:../libDaisy/src/sys/fatfs.h ****     /** Config structure for configuring Daisy to FatFS */
  40:../libDaisy/src/sys/fatfs.h ****     struct Config
  41:../libDaisy/src/sys/fatfs.h ****     {
  42:../libDaisy/src/sys/fatfs.h ****         /** Selected Media that will be linked to FatFS 
  43:../libDaisy/src/sys/fatfs.h ****          *  These values can be OR'd together when multiple
  44:../libDaisy/src/sys/fatfs.h ****          *  volumes are desired 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 53


  45:../libDaisy/src/sys/fatfs.h ****          *  i.e. config.media = Media::SD | Media::USBH;
  46:../libDaisy/src/sys/fatfs.h ****          * 
  47:../libDaisy/src/sys/fatfs.h ****          *  When mounting multiple volumes, ffconf.h must have 
  48:../libDaisy/src/sys/fatfs.h ****          *  _VOLUMES set to an appropriate value.
  49:../libDaisy/src/sys/fatfs.h ****          * 
  50:../libDaisy/src/sys/fatfs.h ****          *  FatFS will register multiple volumes in the order of the enum,
  51:../libDaisy/src/sys/fatfs.h ****          *   the first registered class will mount at "0:/",
  52:../libDaisy/src/sys/fatfs.h ****          *   the second registered class will mount at "1:/", and so on
  53:../libDaisy/src/sys/fatfs.h ****          */
  54:../libDaisy/src/sys/fatfs.h ****         enum Media : uint8_t
  55:../libDaisy/src/sys/fatfs.h ****         {
  56:../libDaisy/src/sys/fatfs.h ****             MEDIA_SD  = 0x01,
  57:../libDaisy/src/sys/fatfs.h ****             MEDIA_USB = 0x02,
  58:../libDaisy/src/sys/fatfs.h ****             // MEDIA_QSPI = 0x04,
  59:../libDaisy/src/sys/fatfs.h ****         };
  60:../libDaisy/src/sys/fatfs.h **** 
  61:../libDaisy/src/sys/fatfs.h ****         uint8_t media;
  62:../libDaisy/src/sys/fatfs.h ****     };
  63:../libDaisy/src/sys/fatfs.h **** 
  64:../libDaisy/src/sys/fatfs.h ****     FatFSInterface() {}
 1159              		.loc 19 64 5 is_stmt 1 view .LVU308
 1160              		.loc 19 64 5 is_stmt 0 view .LVU309
 1161              	.LBE670:
 1162              	.LBB671:
 1163              	.LBI587:
  35:../libDaisy/src/daisy_pod.h ****     ~DaisyPod() {}
 1164              		.loc 2 35 5 is_stmt 1 view .LVU310
 1165              	.LBB667:
 1166              	.LBB612:
 1167              	.LBI589:
  21:../libDaisy/src/daisy_seed.h ****     ~DaisySeed() {}
 1168              		.loc 11 21 5 view .LVU311
 1169              	.LBB610:
 1170              	.LBB596:
 1171              	.LBI591:
 1172              		.loc 18 166 5 view .LVU312
 1173              	.LBE596:
 1174              	.LBE610:
 1175              	.LBE612:
 1176              	.LBB613:
 1177              	.LBB614:
 1178              	.LBB615:
 1179              	.LBB616:
 157:../libDaisy/src/hid/midi.h **** 
 158:../libDaisy/src/hid/midi.h ****     struct Config
 1180              		.loc 3 158 12 is_stmt 0 view .LVU313
 1181 0012 04F5C070 		add	r0, r4, #384
 1182              	.LBE616:
 1183              	.LBE615:
 1184              	.LBE614:
 1185              	.LBE613:
 1186              	.LBB646:
 1187              	.LBB611:
 1188              	.LBB597:
 1189              	.LBB595:
 1190              	.LBB594:
 1191              		.loc 18 166 34 view .LVU314
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 54


 1192 0016 2560     		str	r5, [r4]
 1193              	.LVL62:
 1194              		.loc 18 166 34 view .LVU315
 1195              	.LBE594:
 1196              	.LBE595:
 1197              	.LBE597:
 1198              	.LBB598:
 1199              	.LBI598:
  95:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1200              		.loc 15 95 5 is_stmt 1 view .LVU316
 1201              	.LBB599:
 1202              	.LBB600:
  95:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1203              		.loc 15 95 35 is_stmt 0 view .LVU317
 1204 0018 6561     		str	r5, [r4, #20]
 1205              	.LVL63:
  95:../libDaisy/src/hid/audio.h ****     ~AudioHandle() {}
 1206              		.loc 15 95 35 view .LVU318
 1207              	.LBE600:
 1208              	.LBE599:
 1209              	.LBE598:
 1210              	.LBB601:
 1211              	.LBI601:
 109:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 1212              		.loc 14 109 5 is_stmt 1 view .LVU319
 109:../libDaisy/src/per/adc.h ****     ~AdcHandle() {}
 1213              		.loc 14 109 5 is_stmt 0 view .LVU320
 1214              	.LBE601:
 1215              	.LBB602:
 1216              	.LBI602:
 1217              		.file 20 "../libDaisy/src/per/dac.h"
   1:../libDaisy/src/per/dac.h **** #pragma once
   2:../libDaisy/src/per/dac.h **** #ifndef DSY_DAC_H
   3:../libDaisy/src/per/dac.h **** #define DSY_DAC_H
   4:../libDaisy/src/per/dac.h **** 
   5:../libDaisy/src/per/dac.h **** #include "daisy_core.h"
   6:../libDaisy/src/per/dac.h **** 
   7:../libDaisy/src/per/dac.h **** namespace daisy
   8:../libDaisy/src/per/dac.h **** {
   9:../libDaisy/src/per/dac.h **** /** @brief DAC handle for Built-in DAC Peripheral 
  10:../libDaisy/src/per/dac.h ****  *  @ingroup per_analog
  11:../libDaisy/src/per/dac.h ****  ** 
  12:../libDaisy/src/per/dac.h ****  ** For now only Normal Mode is supported,
  13:../libDaisy/src/per/dac.h ****  ** Sample and hold mode provides reduced power consumption, but requires a bit more setup.
  14:../libDaisy/src/per/dac.h ****  **
  15:../libDaisy/src/per/dac.h ****  ** For now connecting the DAC through other internal peripherals is also not supported.
  16:../libDaisy/src/per/dac.h ****  **
  17:../libDaisy/src/per/dac.h ****  ** Since the DAC channels have dedicated pins we don't need to pass in a pin config like with
  18:../libDaisy/src/per/dac.h ****  ** other modules. However, it is still important to not try to use the DAC pins for anything else.
  19:../libDaisy/src/per/dac.h ****  ** DAC Channel 1 is on PA4, and DAC Channel 2 is on PA5
  20:../libDaisy/src/per/dac.h ****  ***/
  21:../libDaisy/src/per/dac.h **** class DacHandle
  22:../libDaisy/src/per/dac.h **** {
  23:../libDaisy/src/per/dac.h ****   public:
  24:../libDaisy/src/per/dac.h ****     /** Return Values for the DacHandle class */
  25:../libDaisy/src/per/dac.h ****     enum class Result
  26:../libDaisy/src/per/dac.h ****     {
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 55


  27:../libDaisy/src/per/dac.h ****         OK,
  28:../libDaisy/src/per/dac.h ****         ERR,
  29:../libDaisy/src/per/dac.h ****     };
  30:../libDaisy/src/per/dac.h **** 
  31:../libDaisy/src/per/dac.h ****     /** Selects which channel(s) will be configured for use. */
  32:../libDaisy/src/per/dac.h ****     enum class Channel
  33:../libDaisy/src/per/dac.h ****     {
  34:../libDaisy/src/per/dac.h ****         ONE,
  35:../libDaisy/src/per/dac.h ****         TWO,
  36:../libDaisy/src/per/dac.h ****         BOTH,
  37:../libDaisy/src/per/dac.h ****     };
  38:../libDaisy/src/per/dac.h **** 
  39:../libDaisy/src/per/dac.h ****     /** Sets the Mode for the DAC channels.
  40:../libDaisy/src/per/dac.h ****      **
  41:../libDaisy/src/per/dac.h ****      ** Polling mode uses the blocking mode to transmit a single value at a time.
  42:../libDaisy/src/per/dac.h ****      **
  43:../libDaisy/src/per/dac.h ****      ** DMA mode uses a buffer, and periodically transmits it triggering a 
  44:../libDaisy/src/per/dac.h ****      ** callback to fill the buffer when it is ready for more samples.
  45:../libDaisy/src/per/dac.h ****      ***/
  46:../libDaisy/src/per/dac.h ****     enum class Mode
  47:../libDaisy/src/per/dac.h ****     {
  48:../libDaisy/src/per/dac.h ****         POLLING,
  49:../libDaisy/src/per/dac.h ****         DMA,
  50:../libDaisy/src/per/dac.h ****     };
  51:../libDaisy/src/per/dac.h **** 
  52:../libDaisy/src/per/dac.h ****     /** Sets the number of bits per sample transmitted out of the DAC.
  53:../libDaisy/src/per/dac.h ****      ** The output range will be: 0V - VDDA
  54:../libDaisy/src/per/dac.h ****      ** The resolution will be roughly: bitdepth / (VDDA - 0V) 
  55:../libDaisy/src/per/dac.h ****      ***/
  56:../libDaisy/src/per/dac.h ****     enum class BitDepth
  57:../libDaisy/src/per/dac.h ****     {
  58:../libDaisy/src/per/dac.h ****         BITS_8,
  59:../libDaisy/src/per/dac.h ****         BITS_12
  60:../libDaisy/src/per/dac.h ****     };
  61:../libDaisy/src/per/dac.h **** 
  62:../libDaisy/src/per/dac.h ****     /** Sets whether the DAC output is buffered for higher drive ability. */
  63:../libDaisy/src/per/dac.h ****     enum class BufferState
  64:../libDaisy/src/per/dac.h ****     {
  65:../libDaisy/src/per/dac.h ****         ENABLED,
  66:../libDaisy/src/per/dac.h ****         DISABLED,
  67:../libDaisy/src/per/dac.h ****     };
  68:../libDaisy/src/per/dac.h **** 
  69:../libDaisy/src/per/dac.h ****     /** Configuration structure for initializing the DAC structure. */
  70:../libDaisy/src/per/dac.h ****     struct Config
  71:../libDaisy/src/per/dac.h ****     {
  72:../libDaisy/src/per/dac.h ****         /** Target Samplerate in Hz used to configure the internal 
  73:../libDaisy/src/per/dac.h ****          ** timebase for DMA mode. Does nothing in POLLING mode.
  74:../libDaisy/src/per/dac.h ****          ** If the value is 0 at Init time this will default to 48000Hz 
  75:../libDaisy/src/per/dac.h ****          ** otherwise the driver will attempt meet the target.*/
  76:../libDaisy/src/per/dac.h ****         uint32_t target_samplerate;
  77:../libDaisy/src/per/dac.h **** 
  78:../libDaisy/src/per/dac.h ****         Channel     chn;
  79:../libDaisy/src/per/dac.h ****         Mode        mode;
  80:../libDaisy/src/per/dac.h ****         BitDepth    bitdepth;
  81:../libDaisy/src/per/dac.h ****         BufferState buff_state;
  82:../libDaisy/src/per/dac.h ****     };
  83:../libDaisy/src/per/dac.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 56


  84:../libDaisy/src/per/dac.h ****     DacHandle() : pimpl_(nullptr) {}
 1218              		.loc 20 84 5 is_stmt 1 view .LVU321
 1219              	.LBB603:
 1220              	.LBB604:
 1221              		.loc 20 84 33 is_stmt 0 view .LVU322
 1222 001a 2562     		str	r5, [r4, #32]
 1223              	.LVL64:
 1224              		.loc 20 84 33 view .LVU323
 1225              	.LBE604:
 1226              	.LBE603:
 1227              	.LBE602:
 1228              	.LBB605:
 1229              	.LBI605:
  40:../libDaisy/src/hid/usb.h **** 
 1230              		.loc 13 40 5 is_stmt 1 view .LVU324
  40:../libDaisy/src/hid/usb.h **** 
 1231              		.loc 13 40 5 is_stmt 0 view .LVU325
 1232              	.LBE605:
 1233              	.LBB606:
 1234              	.LBI606:
  96:../libDaisy/src/sys/system.h ****     ~System() {}
 1235              		.loc 12 96 5 is_stmt 1 view .LVU326
  96:../libDaisy/src/sys/system.h ****     ~System() {}
 1236              		.loc 12 96 5 is_stmt 0 view .LVU327
 1237              	.LBE606:
 1238              	.LBB607:
 1239              	.LBI607:
 1240              		.file 21 "../libDaisy/src/per/sai.h"
   1:../libDaisy/src/per/sai.h **** #pragma once
   2:../libDaisy/src/per/sai.h **** #ifndef DSY_SAI_H
   3:../libDaisy/src/per/sai.h **** #define DSY_SAI_H
   4:../libDaisy/src/per/sai.h **** 
   5:../libDaisy/src/per/sai.h **** #include "daisy_core.h"
   6:../libDaisy/src/per/sai.h **** 
   7:../libDaisy/src/per/sai.h **** namespace daisy
   8:../libDaisy/src/per/sai.h **** {
   9:../libDaisy/src/per/sai.h **** /** 
  10:../libDaisy/src/per/sai.h ****  * Support for I2S Audio Protocol with different bit-depth, samplerate options
  11:../libDaisy/src/per/sai.h ****  * Allows for master or slave, as well as freedom of selecting direction, 
  12:../libDaisy/src/per/sai.h ****  * and other behavior for each peripheral, and block.
  13:../libDaisy/src/per/sai.h ****  * 
  14:../libDaisy/src/per/sai.h ****  * DMA Transfer commands must use buffers located within non-cached memory or use cache maintenance
  15:../libDaisy/src/per/sai.h ****  * To declare an unitialized global element in the DMA memory section:
  16:../libDaisy/src/per/sai.h ****  *    int32_t DSY_DMA_BUFFER_SECTOR my_buffer[96];
  17:../libDaisy/src/per/sai.h ****  *
  18:../libDaisy/src/per/sai.h ****  * Callback functions will be called once per half of the buffer. In the above example, 
  19:../libDaisy/src/per/sai.h ****  * the callback function would be called once for every 48 samples.
  20:../libDaisy/src/per/sai.h ****  * 
  21:../libDaisy/src/per/sai.h ****  * Use SAI Handle like this:
  22:../libDaisy/src/per/sai.h ****  * 
  23:../libDaisy/src/per/sai.h ****  *  SaiHandle::Config sai_config;
  24:../libDaisy/src/per/sai.h ****  *  sai_config.periph          = SaiHandle::Config::Peripheral::SAI_1;
  25:../libDaisy/src/per/sai.h ****  *  sai_config.sr              = SaiHandle::Config::SampleRate::SAI_48KHZ;
  26:../libDaisy/src/per/sai.h ****  *  sai_config.bit_depth       = SaiHandle::Config::BitDepth::SAI_24BIT;
  27:../libDaisy/src/per/sai.h ****  *  sai_config.a_sync          = SaiHandle::Config::Sync::MASTER;
  28:../libDaisy/src/per/sai.h ****  *  sai_config.b_sync          = SaiHandle::Config::Sync::SLAVE;
  29:../libDaisy/src/per/sai.h ****  *  sai_config.a_dir           = SaiHandle::Config::Direction::RECEIVE;
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 57


  30:../libDaisy/src/per/sai.h ****  *  sai_config.b_dir           = SaiHandle::Config::Direction::TRANSMIT;
  31:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.fs   = {DSY_GPIOE, 4};
  32:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.mclk = {DSY_GPIOE, 2};
  33:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sck  = {DSY_GPIOE, 5};
  34:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sa   = {DSY_GPIOE, 6};
  35:../libDaisy/src/per/sai.h ****  *  sai_config.pin_config.sb   = {DSY_GPIOE, 3};
  36:../libDaisy/src/per/sai.h ****  *  // Then Initialize
  37:../libDaisy/src/per/sai.h ****  *  SaiHandle sai;
  38:../libDaisy/src/per/sai.h ****  *  sai.Init(sai_config);
  39:../libDaisy/src/per/sai.h ****  *  // Now you can use it:
  40:../libDaisy/src/per/sai.h ****  *  sai.StartDma(. . .);
  41:../libDaisy/src/per/sai.h ****  */
  42:../libDaisy/src/per/sai.h **** class SaiHandle
  43:../libDaisy/src/per/sai.h **** {
  44:../libDaisy/src/per/sai.h ****   public:
  45:../libDaisy/src/per/sai.h ****     /** Contains settings for initialising an SAI Interface */
  46:../libDaisy/src/per/sai.h ****     struct Config
  47:../libDaisy/src/per/sai.h ****     {
  48:../libDaisy/src/per/sai.h ****         /** Specifies the internal peripheral to use (mapped to different hardware pins) */
  49:../libDaisy/src/per/sai.h ****         enum class Peripheral
  50:../libDaisy/src/per/sai.h ****         {
  51:../libDaisy/src/per/sai.h ****             SAI_1,
  52:../libDaisy/src/per/sai.h ****             SAI_2,
  53:../libDaisy/src/per/sai.h ****         };
  54:../libDaisy/src/per/sai.h **** 
  55:../libDaisy/src/per/sai.h ****         /** Rate at which samples will be streaming to/from the device. */
  56:../libDaisy/src/per/sai.h ****         enum class SampleRate
  57:../libDaisy/src/per/sai.h ****         {
  58:../libDaisy/src/per/sai.h ****             SAI_8KHZ,
  59:../libDaisy/src/per/sai.h ****             SAI_16KHZ,
  60:../libDaisy/src/per/sai.h ****             SAI_32KHZ,
  61:../libDaisy/src/per/sai.h ****             SAI_48KHZ,
  62:../libDaisy/src/per/sai.h ****             SAI_96KHZ,
  63:../libDaisy/src/per/sai.h ****         };
  64:../libDaisy/src/per/sai.h **** 
  65:../libDaisy/src/per/sai.h ****         /** Bit Depth that the hardware expects to be transferred to/from the device. */
  66:../libDaisy/src/per/sai.h ****         enum class BitDepth
  67:../libDaisy/src/per/sai.h ****         {
  68:../libDaisy/src/per/sai.h ****             SAI_16BIT,
  69:../libDaisy/src/per/sai.h ****             SAI_24BIT,
  70:../libDaisy/src/per/sai.h ****             SAI_32BIT,
  71:../libDaisy/src/per/sai.h ****         };
  72:../libDaisy/src/per/sai.h **** 
  73:../libDaisy/src/per/sai.h ****         /** Specifies whether a particular block is the master or the slave 
  74:../libDaisy/src/per/sai.h ****          ** If both are set to slave, no MCLK signal will be used, and it is
  75:../libDaisy/src/per/sai.h ****          ** expected that the codec will have its own xtal.
  76:../libDaisy/src/per/sai.h ****          */
  77:../libDaisy/src/per/sai.h ****         enum class Sync
  78:../libDaisy/src/per/sai.h ****         {
  79:../libDaisy/src/per/sai.h ****             MASTER,
  80:../libDaisy/src/per/sai.h ****             SLAVE,
  81:../libDaisy/src/per/sai.h ****         };
  82:../libDaisy/src/per/sai.h **** 
  83:../libDaisy/src/per/sai.h ****         /** Specifies the direction for each peripheral block. */
  84:../libDaisy/src/per/sai.h ****         enum class Direction
  85:../libDaisy/src/per/sai.h ****         {
  86:../libDaisy/src/per/sai.h ****             TRANSMIT,
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 58


  87:../libDaisy/src/per/sai.h ****             RECEIVE,
  88:../libDaisy/src/per/sai.h ****         };
  89:../libDaisy/src/per/sai.h **** 
  90:../libDaisy/src/per/sai.h ****         Peripheral periph;
  91:../libDaisy/src/per/sai.h ****         struct
  92:../libDaisy/src/per/sai.h ****         {
  93:../libDaisy/src/per/sai.h ****             dsy_gpio_pin mclk, fs, sck, sa, sb;
  94:../libDaisy/src/per/sai.h ****         } pin_config;
  95:../libDaisy/src/per/sai.h ****         SampleRate sr;
  96:../libDaisy/src/per/sai.h ****         BitDepth   bit_depth;
  97:../libDaisy/src/per/sai.h ****         Sync       a_sync, b_sync;
  98:../libDaisy/src/per/sai.h ****         Direction  a_dir, b_dir;
  99:../libDaisy/src/per/sai.h ****     };
 100:../libDaisy/src/per/sai.h **** 
 101:../libDaisy/src/per/sai.h ****     /** Return values for SAI functions */
 102:../libDaisy/src/per/sai.h ****     enum class Result
 103:../libDaisy/src/per/sai.h ****     {
 104:../libDaisy/src/per/sai.h ****         OK,
 105:../libDaisy/src/per/sai.h ****         ERR,
 106:../libDaisy/src/per/sai.h ****     };
 107:../libDaisy/src/per/sai.h **** 
 108:../libDaisy/src/per/sai.h ****     SaiHandle() : pimpl_(nullptr) {}
 1241              		.loc 21 108 5 is_stmt 1 view .LVU328
 1242              	.LBB608:
 1243              	.LBB609:
 1244              		.loc 21 108 33 is_stmt 0 view .LVU329
 1245 001c E563     		str	r5, [r4, #60]
 1246              	.LVL65:
 1247              		.loc 21 108 33 view .LVU330
 1248              	.LBE609:
 1249              	.LBE608:
 1250              	.LBE607:
 1251              	.LBE611:
 1252              	.LBE646:
 1253              	.LBB647:
 1254              	.LBI647:
  20:../libDaisy/src/hid/encoder.h ****     ~Encoder() {}
 1255              		.loc 10 20 5 is_stmt 1 view .LVU331
 1256              	.LBB648:
 1257              	.LBB649:
 1258              	.LBI649:
  41:../libDaisy/src/hid/switch.h ****     ~Switch() {}
 1259              		.loc 8 41 5 view .LVU332
  41:../libDaisy/src/hid/switch.h ****     ~Switch() {}
 1260              		.loc 8 41 5 is_stmt 0 view .LVU333
 1261              	.LBE649:
 1262              	.LBE648:
 1263              	.LBE647:
 1264              	.LBB650:
 1265              	.LBI650:
  21:../libDaisy/src/hid/ctrl.h ****     /** destructor */
 1266              		.loc 9 21 5 is_stmt 1 view .LVU334
  21:../libDaisy/src/hid/ctrl.h ****     /** destructor */
 1267              		.loc 9 21 5 is_stmt 0 view .LVU335
 1268              	.LBE650:
 1269              	.LBB651:
 1270              	.LBI651:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 59


  21:../libDaisy/src/hid/ctrl.h ****     /** destructor */
 1271              		.loc 9 21 5 is_stmt 1 view .LVU336
  21:../libDaisy/src/hid/ctrl.h ****     /** destructor */
 1272              		.loc 9 21 5 is_stmt 0 view .LVU337
 1273              	.LBE651:
 1274              	.LBB652:
 1275              	.LBI652:
  41:../libDaisy/src/hid/switch.h ****     ~Switch() {}
 1276              		.loc 8 41 5 is_stmt 1 view .LVU338
  41:../libDaisy/src/hid/switch.h ****     ~Switch() {}
 1277              		.loc 8 41 5 is_stmt 0 view .LVU339
 1278              	.LBE652:
 1279              	.LBB653:
 1280              	.LBI653:
  41:../libDaisy/src/hid/switch.h ****     ~Switch() {}
 1281              		.loc 8 41 5 is_stmt 1 view .LVU340
  41:../libDaisy/src/hid/switch.h ****     ~Switch() {}
 1282              		.loc 8 41 5 is_stmt 0 view .LVU341
 1283              	.LBE653:
 1284              	.LBB654:
 1285              	.LBI654:
  17:../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 1286              		.loc 6 17 5 is_stmt 1 view .LVU342
 1287              	.LBB655:
 1288              	.LBB656:
 1289              	.LBI656:
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1290              		.loc 7 24 5 view .LVU343
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1291              		.loc 7 24 5 is_stmt 0 view .LVU344
 1292              	.LBE656:
 1293              	.LBB657:
 1294              	.LBI657:
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1295              		.loc 7 24 5 is_stmt 1 view .LVU345
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1296              		.loc 7 24 5 is_stmt 0 view .LVU346
 1297              	.LBE657:
 1298              	.LBB658:
 1299              	.LBI658:
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1300              		.loc 7 24 5 is_stmt 1 view .LVU347
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1301              		.loc 7 24 5 is_stmt 0 view .LVU348
 1302              	.LBE658:
 1303              	.LBE655:
 1304              	.LBE654:
 1305              	.LBB659:
 1306              	.LBI659:
  17:../libDaisy/src/hid/rgb_led.h ****     ~RgbLed() {}
 1307              		.loc 6 17 5 is_stmt 1 view .LVU349
 1308              	.LBB660:
 1309              	.LBB661:
 1310              	.LBI661:
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1311              		.loc 7 24 5 view .LVU350
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 60


 1312              		.loc 7 24 5 is_stmt 0 view .LVU351
 1313              	.LBE661:
 1314              	.LBB662:
 1315              	.LBI662:
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1316              		.loc 7 24 5 is_stmt 1 view .LVU352
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1317              		.loc 7 24 5 is_stmt 0 view .LVU353
 1318              	.LBE662:
 1319              	.LBB663:
 1320              	.LBI663:
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1321              		.loc 7 24 5 is_stmt 1 view .LVU354
  24:../libDaisy/src/hid/led.h ****     ~Led() {}
 1322              		.loc 7 24 5 is_stmt 0 view .LVU355
 1323              	.LBE663:
 1324              	.LBE660:
 1325              	.LBE659:
 1326              	.LBB664:
 1327              	.LBI613:
 155:../libDaisy/src/hid/midi.h ****     ~MidiHandler() {}
 1328              		.loc 3 155 5 is_stmt 1 view .LVU356
 1329              	.LBB643:
 1330              	.LBB618:
 1331              	.LBI615:
 1332              		.loc 3 158 12 view .LVU357
 1333              	.LBB617:
 1334 001e FFF7FEFF 		bl	_ZN5daisy17MidiUartTransport6ConfigC1Ev
 1335              	.LVL66:
 1336              		.loc 3 158 12 is_stmt 0 view .LVU358
 1337              	.LBE617:
 1338              	.LBE618:
 1339              	.LBB619:
 1340              	.LBI619:
  31:../libDaisy/src/hid/midi.h ****     ~MidiUartTransport() {}
 1341              		.loc 3 31 5 is_stmt 1 view .LVU359
 1342              	.LBB620:
 1343              	.LBB621:
 1344              	.LBI621:
 1345              		.file 22 "../libDaisy/src/per/uart.h"
   1:../libDaisy/src/per/uart.h **** /* 
   2:../libDaisy/src/per/uart.h **** TODO
   3:../libDaisy/src/per/uart.h **** - Overflow handling, etc. for Rx Queue.
   4:../libDaisy/src/per/uart.h **** */
   5:../libDaisy/src/per/uart.h **** 
   6:../libDaisy/src/per/uart.h **** #pragma once
   7:../libDaisy/src/per/uart.h **** #ifndef DSY_UART_H
   8:../libDaisy/src/per/uart.h **** #define DSY_UART_H /**< macro */
   9:../libDaisy/src/per/uart.h **** #include "daisy_core.h"
  10:../libDaisy/src/per/uart.h **** 
  11:../libDaisy/src/per/uart.h **** 
  12:../libDaisy/src/per/uart.h **** namespace daisy
  13:../libDaisy/src/per/uart.h **** {
  14:../libDaisy/src/per/uart.h **** /** @addtogroup serial
  15:../libDaisy/src/per/uart.h ****     @{
  16:../libDaisy/src/per/uart.h ****     */
  17:../libDaisy/src/per/uart.h **** 
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 61


  18:../libDaisy/src/per/uart.h **** /** 
  19:../libDaisy/src/per/uart.h ****     Uart Peripheral
  20:../libDaisy/src/per/uart.h ****     @author shensley
  21:../libDaisy/src/per/uart.h ****     @date March 2020
  22:../libDaisy/src/per/uart.h ****     */
  23:../libDaisy/src/per/uart.h **** class UartHandler
  24:../libDaisy/src/per/uart.h **** {
  25:../libDaisy/src/per/uart.h ****   public:
  26:../libDaisy/src/per/uart.h ****     struct Config
  27:../libDaisy/src/per/uart.h ****     {
  28:../libDaisy/src/per/uart.h ****         enum class Peripheral
  29:../libDaisy/src/per/uart.h ****         {
  30:../libDaisy/src/per/uart.h ****             USART_1,
  31:../libDaisy/src/per/uart.h ****             USART_2,
  32:../libDaisy/src/per/uart.h ****             USART_3,
  33:../libDaisy/src/per/uart.h ****             UART_4,
  34:../libDaisy/src/per/uart.h ****             UART_5,
  35:../libDaisy/src/per/uart.h ****             USART_6,
  36:../libDaisy/src/per/uart.h ****             UART_7,
  37:../libDaisy/src/per/uart.h ****             UART_8,
  38:../libDaisy/src/per/uart.h ****             LPUART_1,
  39:../libDaisy/src/per/uart.h ****         };
  40:../libDaisy/src/per/uart.h **** 
  41:../libDaisy/src/per/uart.h ****         enum class StopBits
  42:../libDaisy/src/per/uart.h ****         {
  43:../libDaisy/src/per/uart.h ****             BITS_0_5,
  44:../libDaisy/src/per/uart.h ****             BITS_1,
  45:../libDaisy/src/per/uart.h ****             BITS_1_5,
  46:../libDaisy/src/per/uart.h ****             BITS_2,
  47:../libDaisy/src/per/uart.h ****         };
  48:../libDaisy/src/per/uart.h **** 
  49:../libDaisy/src/per/uart.h ****         enum class Parity
  50:../libDaisy/src/per/uart.h ****         {
  51:../libDaisy/src/per/uart.h ****             NONE,
  52:../libDaisy/src/per/uart.h ****             EVEN,
  53:../libDaisy/src/per/uart.h ****             ODD,
  54:../libDaisy/src/per/uart.h ****         };
  55:../libDaisy/src/per/uart.h **** 
  56:../libDaisy/src/per/uart.h ****         enum class Mode
  57:../libDaisy/src/per/uart.h ****         {
  58:../libDaisy/src/per/uart.h ****             RX,
  59:../libDaisy/src/per/uart.h ****             TX,
  60:../libDaisy/src/per/uart.h ****             TX_RX,
  61:../libDaisy/src/per/uart.h ****         };
  62:../libDaisy/src/per/uart.h **** 
  63:../libDaisy/src/per/uart.h ****         enum class WordLength
  64:../libDaisy/src/per/uart.h ****         {
  65:../libDaisy/src/per/uart.h ****             BITS_7,
  66:../libDaisy/src/per/uart.h ****             BITS_8,
  67:../libDaisy/src/per/uart.h ****             BITS_9,
  68:../libDaisy/src/per/uart.h ****         };
  69:../libDaisy/src/per/uart.h **** 
  70:../libDaisy/src/per/uart.h ****         struct
  71:../libDaisy/src/per/uart.h ****         {
  72:../libDaisy/src/per/uart.h ****             dsy_gpio_pin tx; /**< & */
  73:../libDaisy/src/per/uart.h ****             dsy_gpio_pin rx; /**< & */
  74:../libDaisy/src/per/uart.h ****         } pin_config;        /**< & */
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 62


  75:../libDaisy/src/per/uart.h **** 
  76:../libDaisy/src/per/uart.h ****         Config()
  77:../libDaisy/src/per/uart.h ****         {
  78:../libDaisy/src/per/uart.h ****             // user must init periph, pin_config, and mode
  79:../libDaisy/src/per/uart.h ****             stopbits   = StopBits::BITS_1;
  80:../libDaisy/src/per/uart.h ****             parity     = Parity::NONE;
  81:../libDaisy/src/per/uart.h ****             wordlength = WordLength::BITS_8;
  82:../libDaisy/src/per/uart.h ****             baudrate   = 31250;
  83:../libDaisy/src/per/uart.h ****         }
  84:../libDaisy/src/per/uart.h **** 
  85:../libDaisy/src/per/uart.h ****         Peripheral periph;
  86:../libDaisy/src/per/uart.h ****         StopBits   stopbits;
  87:../libDaisy/src/per/uart.h ****         Parity     parity;
  88:../libDaisy/src/per/uart.h ****         Mode       mode;
  89:../libDaisy/src/per/uart.h ****         WordLength wordlength;
  90:../libDaisy/src/per/uart.h ****         uint32_t   baudrate;
  91:../libDaisy/src/per/uart.h ****     };
  92:../libDaisy/src/per/uart.h **** 
  93:../libDaisy/src/per/uart.h **** 
  94:../libDaisy/src/per/uart.h ****     UartHandler() : pimpl_(nullptr) {}
 1346              		.loc 22 94 5 view .LVU360
 1347              		.loc 22 94 5 is_stmt 0 view .LVU361
 1348              	.LBE621:
 1349              	.LBE620:
 1350              	.LBE619:
 1351              	.LBB626:
 1352              	.LBI626:
  18:../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 1353              		.loc 5 18 5 is_stmt 1 view .LVU362
 1354              	.LBB627:
  18:../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 1355              		.loc 5 18 17 is_stmt 0 view .LVU363
 1356 0022 154B     		ldr	r3, .L74+16
 1357              	.LBE627:
 1358              	.LBE626:
 1359              	.LBE643:
 1360              	.LBE664:
 1361              	.LBE667:
 1362              	.LBE671:
  15:main.cpp      **** FIL file;
 1363              		.loc 16 15 10 view .LVU364
 1364 0024 2046     		mov	r0, r4
 1365 0026 124A     		ldr	r2, .L74+8
 1366              	.LBB672:
 1367              	.LBB668:
 1368              	.LBB665:
 1369              	.LBB644:
 1370              	.LBB630:
 1371              	.LBB628:
  18:../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 1372              		.loc 5 18 17 view .LVU365
 1373 0028 C4F83832 		str	r3, [r4, #568]
 1374 002c 40F20F73 		movw	r3, #1807
 1375              	.LBE628:
 1376              	.LBE630:
 1377              	.LBE644:
 1378              	.LBE665:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 63


 1379              	.LBE668:
 1380              	.LBE672:
  15:main.cpp      **** FIL file;
 1381              		.loc 16 15 10 view .LVU366
 1382 0030 1249     		ldr	r1, .L74+20
 1383              	.LBB673:
 1384              	.LBB669:
 1385              	.LBB666:
 1386              	.LBB645:
 1387              	.LBB631:
 1388              	.LBB629:
  18:../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 1389              		.loc 5 18 17 view .LVU367
 1390 0032 A4F83C32 		strh	r3, [r4, #572]	@ movhi
 1391              	.LVL67:
  18:../libDaisy/src/hid/midi_parser.h ****     ~MidiParser() {}
 1392              		.loc 5 18 17 view .LVU368
 1393              	.LBE629:
 1394              	.LBE631:
 1395              	.LBB632:
 1396              	.LBI632:
 299:../libDaisy/src/util/FIFO.h **** {
 300:../libDaisy/src/util/FIFO.h ****   public:
 301:../libDaisy/src/util/FIFO.h ****     /** Creates an empty FIFO */
 302:../libDaisy/src/util/FIFO.h ****     FIFO() : FIFOBase<T>(buffer_, capacity + 1) {}
 1397              		.loc 4 302 5 is_stmt 1 view .LVU369
 1398              	.LBB633:
 1399              	.LBB634:
 1400              	.LBI634:
  14:../libDaisy/src/util/FIFO.h ****     : buffer_(buffer), bufferSize_(bufferSize), bufferIn_(0), bufferOut_(0)
 1401              		.loc 4 14 5 view .LVU370
 1402              	.LBB635:
 1403              	.LBB636:
  15:../libDaisy/src/util/FIFO.h ****     {
 1404              		.loc 4 15 75 is_stmt 0 view .LVU371
 1405 0036 04F51473 		add	r3, r4, #592
 1406              	.LBE636:
 1407              	.LBE635:
 1408              	.LBE634:
 1409              	.LBE633:
 1410              	.LBE632:
 1411              	.LBB641:
 1412              	.LBB625:
 1413              	.LBB624:
 1414              	.LBB622:
 1415              	.LBB623:
 1416              		.loc 22 94 35 view .LVU372
 1417 003a C4F89051 		str	r5, [r4, #400]
 1418              	.LBE623:
 1419              	.LBE622:
 1420              	.LBE624:
 1421              	.LBE625:
 1422              	.LBE641:
 1423              	.LBB642:
 1424              	.LBB640:
 1425              	.LBB639:
 1426              	.LBB638:
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 64


 1427              	.LBB637:
  15:../libDaisy/src/util/FIFO.h ****     {
 1428              		.loc 4 15 75 view .LVU373
 1429 003e C4F84032 		str	r3, [r4, #576]
 1430 0042 40F20113 		movw	r3, #257
 1431 0046 C4E99255 		strd	r5, r5, [r4, #584]
 1432 004a C4F84432 		str	r3, [r4, #580]
 1433              	.LBE637:
 1434              	.LBE638:
 1435              	.LBE639:
 1436              	.LBE640:
 1437              	.LBE642:
 1438              	.LBE645:
 1439              	.LBE666:
 1440              	.LBE669:
 1441              	.LBE673:
  15:main.cpp      **** FIL file;
 1442              		.loc 16 15 10 view .LVU374
 1443 004e FFF7FEFF 		bl	__aeabi_atexit
 1444              	.LVL68:
 1445              	.LBB674:
 1446              	.LBI674:
  12:AudioFileManager.h ****       : sd_(sd), fsi_(fsi), pod_(pod), curr_file_(file), left_channel(nullptr), right_channel(nullp
 1447              		.loc 17 12 5 is_stmt 1 view .LVU375
 1448              	.LBB675:
 1449              	.LBB676:
  13:AudioFileManager.h ****     
 1450              		.loc 17 13 117 is_stmt 0 view .LVU376
 1451 0052 0B4B     		ldr	r3, .L74+24
 1452 0054 0B49     		ldr	r1, .L74+28
 1453 0056 0C4A     		ldr	r2, .L74+32
 1454 0058 1E60     		str	r6, [r3]
 1455 005a 9C60     		str	r4, [r3, #8]
 1456 005c 5960     		str	r1, [r3, #4]
 1457 005e DA60     		str	r2, [r3, #12]
 1458 0060 9D61     		str	r5, [r3, #24]
 1459              	.LVL69:
  13:AudioFileManager.h ****     
 1460              		.loc 17 13 117 view .LVU377
 1461 0062 C3E90455 		strd	r5, r5, [r3, #16]
 1462              	.LBE676:
 1463              	.LBE675:
 1464              	.LBE674:
 1465              	.LBE677:
 1466              	.LBE678:
 1467              		.loc 16 123 2 view .LVU378
 1468 0066 70BD     		pop	{r4, r5, r6, pc}
 1469              	.L75:
 1470              		.align	2
 1471              	.L74:
 1472 0068 00000000 		.word	.LANCHOR4
 1473 006c 00000000 		.word	pod
 1474 0070 00000000 		.word	__dso_handle
 1475 0074 00000000 		.word	_ZN5daisy12SdmmcHandlerD1Ev
 1476 0078 0080707F 		.word	2138079232
 1477 007c 00000000 		.word	_ZN5daisy8DaisyPodD1Ev
 1478 0080 00000000 		.word	filemgr
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 65


 1479 0084 00000000 		.word	.LANCHOR5
 1480 0088 00000000 		.word	.LANCHOR6
 1481              		.cfi_endproc
 1482              	.LFE5290:
 1484              		.section	.init_array,"aw",%init_array
 1485              		.align	2
 1486 0000 00000000 		.word	_GLOBAL__sub_I_sd(target1)
 1487              		.global	curr_file_idx
 1488              		.global	now_playing
 1489              		.global	change_file
 1490              		.global	wav_pos
 1491              		.global	right_buf
 1492              		.global	left_buf
 1493              		.global	filemgr
 1494              		.global	file
 1495              		.global	pod
 1496              		.global	fsi
 1497              		.global	sd
 1498              		.section	.bss.change_file,"aw",%nobits
 1499              		.set	.LANCHOR3,. + 0
 1502              	change_file:
 1503 0000 00       		.space	1
 1504              		.section	.bss.curr_file_idx,"aw",%nobits
 1505              		.align	2
 1506              		.set	.LANCHOR2,. + 0
 1509              	curr_file_idx:
 1510 0000 00000000 		.space	4
 1511              		.section	.bss.file,"aw",%nobits
 1512              		.align	2
 1513              		.set	.LANCHOR6,. + 0
 1516              	file:
 1517 0000 00000000 		.space	556
 1517      00000000 
 1517      00000000 
 1517      00000000 
 1517      00000000 
 1518              		.section	.bss.filemgr,"aw",%nobits
 1519              		.align	2
 1522              	filemgr:
 1523 0000 00000000 		.space	4152
 1523      00000000 
 1523      00000000 
 1523      00000000 
 1523      00000000 
 1524              		.section	.bss.fsi,"aw",%nobits
 1525              		.align	2
 1526              		.set	.LANCHOR5,. + 0
 1529              	fsi:
 1530 0000 00000000 		.space	1152
 1530      00000000 
 1530      00000000 
 1530      00000000 
 1530      00000000 
 1531              		.section	.bss.now_playing,"aw",%nobits
 1532              		.set	.LANCHOR0,. + 0
 1535              	now_playing:
 1536 0000 00       		.space	1
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 66


 1537              		.section	.bss.pod,"aw",%nobits
 1538              		.align	2
 1541              	pod:
 1542 0000 00000000 		.space	37600
 1542      00000000 
 1542      00000000 
 1542      00000000 
 1542      00000000 
 1543              		.section	.bss.sd,"aw",%nobits
 1544              		.align	2
 1545              		.set	.LANCHOR4,. + 0
 1548              	sd:
 1549 0000 00       		.space	1
 1550              		.section	.bss.wav_pos,"aw",%nobits
 1551              		.align	2
 1552              		.set	.LANCHOR1,. + 0
 1555              	wav_pos:
 1556 0000 00000000 		.space	4
 1557              		.section	.sdram_bss,"aw"
 1558              		.align	2
 1561              	right_buf:
 1562 0000 00000000 		.space	16777216
 1562      00000000 
 1562      00000000 
 1562      00000000 
 1562      00000000 
 1565              	left_buf:
 1566 1000000 00000000 		.space	16777216
 1566      00000000 
 1566      00000000 
 1566      00000000 
 1566      00000000 
 1567              		.text
 1568              	.Letext0:
 1569              		.file 23 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/machine/_default_types.h"
 1570              		.file 24 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_stdint.h"
 1571              		.file 25 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdint.h"
 1572              		.file 26 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stddef.h"
 1573              		.file 27 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cmath"
 1574              		.file 28 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/std_abs.h"
 1575              		.file 29 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdint"
 1576              		.file 30 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdlib"
 1577              		.file 31 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/arm-none-eabi/thumb/v
 1578              		.file 32 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/type_traits"
 1579              		.file 33 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/debug/debug.h"
 1580              		.file 34 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cwchar"
 1581              		.file 35 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_pair.h"
 1582              		.file 36 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/exception_ptr.h"
 1583              		.file 37 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/clocale"
 1584              		.file 38 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdio"
 1585              		.file 39 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/basic_string.h"
 1586              		.file 40 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/stl_iterator.h"
 1587              		.file 41 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/algorithmfwd.h"
 1588              		.file 42 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstring"
 1589              		.file 43 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/initializer_list"
 1590              		.file 44 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/cstdarg"
 1591              		.file 45 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/bits/predefined_ops.h
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 67


 1592              		.file 46 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/_types.h"
 1593              		.file 47 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/reent.h"
 1594              		.file 48 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/sys/lock.h"
 1595              		.file 49 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/math.h"
 1596              		.file 50 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdlib.h"
 1597              		.file 51 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/math.h"
 1598              		.file 52 "/Library/DaisyToolchain/0.2.0/arm/lib/gcc/arm-none-eabi/10.3.1/include/stdarg.h"
 1599              		.file 53 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/stdio.h"
 1600              		.file 54 "../DaisySP/Source/Control/adenv.h"
 1601              		.file 55 "../DaisySP/Source/Utility/dsp.h"
 1602              		.file 56 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/wchar.h"
 1603              		.file 57 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/locale.h"
 1604              		.file 58 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/c++/10.3.1/stdlib.h"
 1605              		.file 59 "/Library/DaisyToolchain/0.2.0/arm/arm-none-eabi/include/string.h"
 1606              		.file 60 "../libDaisy/src/daisy_core.h"
 1607              		.file 61 "../libDaisy/src/per/tim.h"
 1608              		.file 62 "../libDaisy/src/hid/MidiEvent.h"
 1609              		.file 63 "../libDaisy/src/hid/logger_impl.h"
 1610              		.file 64 "../libDaisy/src/util/wav_format.h"
 1611              		.file 65 "../libDaisy/src/util/color.h"
 1612              		.file 66 "../libDaisy/src/dev/max11300.h"
 1613              		.file 67 "../libDaisy/src/hid/logger.h"
 1614              		.file 68 "../libDaisy/src/per/gpio.h"
 1615              		.file 69 "../libDaisy/src/dev/sdram.h"
 1616              		.file 70 "../libDaisy/Middlewares/Third_Party/FatFs/src/integer.h"
 1617              		.file 71 "../libDaisy/Middlewares/Third_Party/FatFs/src/ff.h"
 1618              		.file 72 "<built-in>"
 1619              		.file 73 "../libDaisy/src/dev/sr_595.h"
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 68


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.cpp
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:19     .text._ZN5daisy12SdmmcHandlerD2Ev:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:26     .text._ZN5daisy12SdmmcHandlerD2Ev:0000000000000000 _ZN5daisy12SdmmcHandlerD2Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:26     .text._ZN5daisy12SdmmcHandlerD2Ev:0000000000000000 _ZN5daisy12SdmmcHandlerD1Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:43     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:50     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD2Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:50     .text._ZN5daisy8DaisyPodD2Ev:0000000000000000 _ZN5daisy8DaisyPodD1Ev
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:194    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:201    .text._Z13AudioCallbackPKPKfPPfj:0000000000000000 _Z13AudioCallbackPKPKfPPfj
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:484    .text._Z13AudioCallbackPKPKfPPfj:00000000000000e8 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1522   .bss.filemgr:0000000000000000 filemgr
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:493    .rodata._Z13HandleEncoderv.str1.4:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:497    .text._Z13HandleEncoderv:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:504    .text._Z13HandleEncoderv:0000000000000000 _Z13HandleEncoderv
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:654    .text._Z13HandleEncoderv:0000000000000058 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1541   .bss.pod:0000000000000000 pod
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:666    .rodata._Z13HandleButton1v.str1.4:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:670    .text._Z13HandleButton1v:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:677    .text._Z13HandleButton1v:0000000000000000 _Z13HandleButton1v
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:802    .text._Z13HandleButton1v:0000000000000048 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:813    .rodata.main.str1.4:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:826    .text.startup.main:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:833    .text.startup.main:0000000000000000 main
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1080   .text.startup.main:00000000000000b8 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1561   .sdram_bss:0000000000000000 right_buf
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1565   .sdram_bss:0000000001000000 left_buf
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1097   .text.startup._GLOBAL__sub_I_sd:0000000000000000 $t
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1103   .text.startup._GLOBAL__sub_I_sd:0000000000000000 _GLOBAL__sub_I_sd
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1472   .text.startup._GLOBAL__sub_I_sd:0000000000000068 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1485   .init_array:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1509   .bss.curr_file_idx:0000000000000000 curr_file_idx
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1535   .bss.now_playing:0000000000000000 now_playing
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1502   .bss.change_file:0000000000000000 change_file
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1555   .bss.wav_pos:0000000000000000 wav_pos
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1516   .bss.file:0000000000000000 file
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1529   .bss.fsi:0000000000000000 fsi
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1548   .bss.sd:0000000000000000 sd
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1503   .bss.change_file:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1505   .bss.curr_file_idx:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1512   .bss.file:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1519   .bss.filemgr:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1525   .bss.fsi:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1536   .bss.now_playing:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1538   .bss.pod:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1544   .bss.sd:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1551   .bss.wav_pos:0000000000000000 $d
/var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s:1558   .sdram_bss:0000000000000000 $d
                           .group:0000000000000000 _ZN5daisy12SdmmcHandlerD5Ev
                           .group:0000000000000000 _ZN5daisy8DaisyPodD5Ev

UNDEFINED SYMBOLS
memset
_ZN5daisy7Encoder8DebounceEv
strcpy
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE9PrintLineEPKcz
_ZN5daisy6Switch8DebounceEv
ARM GAS  /var/folders/2p/02m_5p7958535cp2tpgps0400000gn/T//cccO5Ps4.s 			page 69


_ZN5daisy8DaisyPod4InitEb
_ZN5daisy6LoggerILNS_17LoggerDestinationE1EE8StartLogEb
_ZN5daisy8DaisyPod17SetAudioBlockSizeEj
_ZN5daisy8DaisyPod21ProcessAnalogControlsEv
_ZN5daisy8DaisyPod22ProcessDigitalControlsEv
_ZN16AudioFileManager10SetBuffersEPfS0_j
_ZN16AudioFileManager4InitEv
_ZN16AudioFileManager12ScanWavFilesEv
_ZN16AudioFileManager8LoadFileEi
_ZN5daisy8DaisyPod8StartAdcEv
_ZN5daisy8DaisyPod10StartAudioEPFvPKPKfPPfjE
_ZN5daisy6System5DelayEm
__aeabi_atexit
_ZN5daisy17MidiUartTransport6ConfigC1Ev
__dso_handle
